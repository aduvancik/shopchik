/*! For license information please see main.f45df239.js.LICENSE.txt */
(()=>{var e={926:(e,t,n)=>{var r;!function(){var i=window.CustomEvent;function s(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function a(e){e&&e.blur&&e!==document.body&&e.blur()}function o(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function c(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function l(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]})}else{var t,n=!1,r=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),i=function(i){if(i.target===e){var s="DOMNodeRemoved";n|=i.type.substr(0,14)===s,window.clearTimeout(t),t=window.setTimeout(r,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(t){e.addEventListener(t,i)}))}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}i&&"object"!==typeof i||((i=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),n}).prototype=window.Event.prototype),l.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),u.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var n=document.createEvent("MouseEvents");n.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(n),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map((function(e){return e+":not([disabled])"}));t.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(t.join(", "))}a(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!u.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),n=function(e,n){return!(void 0===t[e]||t[e]===n)};if(t.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,u.needsCentering(this.dialog_)?(u.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new i("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(t)}};var u={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,n)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var n=document.styleSheets[t],r=null;try{r=n.cssRules}catch(u){}if(r)for(var i=0;i<r.length;++i){var s=r[i],a=null;try{a=document.querySelectorAll(s.selectorText)}catch(u){}if(a&&o(a,e)){var c=s.style.getPropertyValue("top"),l=s.style.getPropertyValue("bottom");if(c&&"auto"!==c||l&&"auto"!==l)return!0}}}return!1},needsCentering:function(e){return"absolute"===window.getComputedStyle(e).position&&(!("auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom)&&!u.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new l(e)},registerDialog:function(e){e.showModal||u.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(t){var n=[];t.forEach((function(e){for(var t,r=0;t=e.removedNodes[r];++r)t instanceof Element&&("dialog"===t.localName&&n.push(t),n=n.concat(t.querySelectorAll("dialog")))})),n.length&&e(n)})))}};if(u.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},u.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},u.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,n=0;e=this.pendingDialogStack[n];++n)e.updateZIndex(--t,--t),0===n&&(this.overlay.style.zIndex=--t);var r=this.pendingDialogStack[0];r?(r.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},u.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=s(e);){for(var t,n=0;t=this.pendingDialogStack[n];++n)if(t.dialog===e)return 0===n;e=e.parentElement}return!1},u.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),a(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},u.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new i("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(t)&&n.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},u.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach((function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()}))},u.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},u.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},u.dm=new u.DialogManager,u.formSubmitter=null,u.useValue=null,void 0===window.HTMLDialogElement){var h=document.createElement("form");if(h.setAttribute("method","dialog"),"dialog"!==h.method){var d=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(d){var f=d.get;d.get=function(){return c(this)?"dialog":f.call(this)};var p=d.set;d.set=function(e){return"string"===typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):p.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",d)}}document.addEventListener("click",(function(e){if(u.formSubmitter=null,u.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&c(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if("input"!==t.localName||"image"!==t.type)return;u.useValue=e.offsetX+","+e.offsetY}s(t)&&(u.formSubmitter=t)}}}),!1);var m=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!c(this))return m.call(this);var e=s(this);e&&e.close()},document.addEventListener("submit",(function(e){var t=e.target;if(c(t)){e.preventDefault();var n=s(t);if(n){var r=u.formSubmitter;r&&r.form===t?n.close(u.useValue||r.value):n.close(),u.formSubmitter=null}}}),!0)}u.forceRegisterDialog=u.forceRegisterDialog,u.registerDialog=u.registerDialog,"amd"in n.amdD?void 0===(r=function(){return u}.call(t,n,t,e))||(e.exports=r):"object"===typeof e.exports?e.exports=u:window.dialogPolyfill=u}()},464:(e,t,n)=>{"use strict";var r=n(791);function i(e){return Array.prototype.slice.call(e)}function s(e,t){var n=Math.floor(e);return n===t||n+1===t?e:t}function a(){return Date.now()}function o(e,t,n){if(t="data-keen-slider-"+t,null===n)return e.removeAttribute(t);e.setAttribute(t,n||"")}function c(e,t){return t=t||document,"function"==typeof e&&(e=e(t)),Array.isArray(e)?e:"string"==typeof e?i(t.querySelectorAll(e)):e instanceof HTMLElement?[e]:e instanceof NodeList?i(e):[]}function l(e){e.raw&&(e=e.raw),e.cancelable&&!e.defaultPrevented&&e.preventDefault()}function u(e){e.raw&&(e=e.raw),e.stopPropagation&&e.stopPropagation()}function h(){var e=[];return{add:function(t,n,r,i){t.addListener?t.addListener(r):t.addEventListener(n,r,i),e.push([t,n,r,i])},input:function(e,t,n,r){this.add(e,t,function(e){return function(t){t.nativeEvent&&(t=t.nativeEvent);var n=t.changedTouches||[],r=t.targetTouches||[],i=t.detail&&t.detail.x?t.detail:null;return e({id:i?i.identifier?i.identifier:"i":r[0]?r[0]?r[0].identifier:"e":"d",idChanged:i?i.identifier?i.identifier:"i":n[0]?n[0]?n[0].identifier:"e":"d",raw:t,x:i&&i.x?i.x:r[0]?r[0].screenX:i?i.x:t.pageX,y:i&&i.y?i.y:r[0]?r[0].screenY:i?i.y:t.pageY})}}(n),r)},purge:function(){e.forEach((function(e){e[0].removeListener?e[0].removeListener(e[2]):e[0].removeEventListener(e[1],e[2],e[3])})),e=[]}}}function d(e,t,n){return Math.min(Math.max(e,t),n)}function f(e){return(e>0?1:0)-(e<0?1:0)||+e}function p(e){var t=e.getBoundingClientRect();return{height:s(t.height,e.offsetHeight),width:s(t.width,e.offsetWidth)}}function m(e,t,n,r){var i=e&&e[t];return null==i?n:r&&"function"==typeof i?i():i}function g(e){return Math.round(1e6*e)/1e6}function v(e,t){if(e===t)return!0;var n=typeof e;if(n!==typeof t)return!1;if("object"!==n||null===e||null===t)return"function"===n&&e.toString()===t.toString();if(e.length!==t.length||Object.getOwnPropertyNames(e).length!==Object.getOwnPropertyNames(t).length)return!1;for(var r in e)if(!v(e[r],t[r]))return!1;return!0}var y=function(){return y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},y.apply(this,arguments)};function b(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function w(e){var t,n,r,i,s,o,c,l,u,h,p,v,y,w,_=1/0,I=[],S=null,E=0;function k(e){O(E+e)}function T(e){var t=C(E+e).abs;return A(t)?t:null}function C(e){var t=Math.floor(Math.abs(g(e/n))),r=g((e%n+n)%n);r===n&&(r=0);var i=f(e),s=c.indexOf(b([],c,!0).reduce((function(e,t){return Math.abs(t-r)<Math.abs(e-r)?t:e}))),a=s;return i<0&&t++,s===o&&(a=0,t+=i>0?1:-1),{abs:a+t*o*i,origin:s,rel:a}}function x(e,t,n){var r;if(t||!P())return N(e,n);if(!A(e))return null;var i=C(null!=n?n:E),s=i.abs,a=e-i.rel,c=s+a;r=N(c);var l=N(c-o*f(a));return(null!==l&&Math.abs(l)<Math.abs(r)||null===r)&&(r=l),g(r)}function N(e,t){if(null==t&&(t=g(E)),!A(e)||null===e)return null;e=Math.round(e);var r=C(t),i=r.abs,s=r.rel,a=r.origin,l=D(e),u=(t%n+n)%n,h=c[a],d=Math.floor((e-(i-s))/o)*n;return g(h-u-h+c[l]+d+(a===o?n:0))}function A(e){return R(e)===e}function R(e){return d(e,u,h)}function P(){return i.loop}function D(e){return(e%o+o)%o}function O(t){var n;n=t-E,I.push({distance:n,timestamp:a()}),I.length>6&&(I=I.slice(-6)),E=g(t);var r=L().abs;if(r!==S){var i=null!==S;S=r,i&&e.emit("slideChanged")}}function L(a){var c=a?null:function(){if(o){var e=P(),t=e?(E%n+n)%n:E,a=(e?E%n:E)-s[0][2],c=0-(a<0&&e?n-Math.abs(a):a),l=0,d=C(E),m=d.abs,g=d.rel,b=s[g][2],_=s.map((function(t,r){var s=c+l;(s<0-t[0]||s>1)&&(s+=(Math.abs(s)>n-1&&e?n:0)*f(-s));var a=r-g,u=f(a),h=a+m;e&&(-1===u&&s>b&&(h+=o),1===u&&s<b&&(h-=o),null!==p&&h<p&&(s+=n),null!==v&&h>v&&(s-=n));var d=s+t[0]+t[1],y=Math.max(s>=0&&d<=1?1:d<0||s>1?0:s<0?Math.min(1,(t[0]+s)/t[0]):(1-s)/t[0],0);return l+=t[0]+t[1],{abs:h,distance:i.rtl?-1*s+1-t[0]:s,portion:y,size:t[0]}}));return m=R(m),g=D(m),{abs:R(m),length:r,max:w,maxIdx:h,min:y,minIdx:u,position:E,progress:e?t/n:E/r,rel:g,slides:_,slidesLength:n}}}();return t.details=c,e.emit("detailsChanged"),c}return t={absToRel:D,add:k,details:null,distToIdx:T,idxToDist:x,init:function(t){if(function(){if(i=e.options,s=(i.trackConfig||[]).map((function(e){return[m(e,"size",1),m(e,"spacing",0),m(e,"origin",0)]})),o=s.length){n=g(s.reduce((function(e,t){return e+t[0]+t[1]}),0));var t,a=o-1;r=g(n+s[0][2]-s[a][0]-s[a][2]-s[a][1]),c=s.reduce((function(e,n){if(!e)return[0];var r=s[e.length-1],i=e[e.length-1]+(r[0]+r[2])+r[1];return i-=n[2],e[e.length-1]>i&&(i=e[e.length-1]),i=g(i),e.push(i),(!t||t<i)&&(l=e.length-1),t=i,e}),null),0===r&&(l=0),c.push(g(n))}}(),!o)return L(!0);var a;!function(){var t=e.options.range,n=e.options.loop;p=u=n?m(n,"min",-1/0):0,v=h=n?m(n,"max",_):l;var r=m(t,"min",null),i=m(t,"max",null);null!==r&&(u=r),null!==i&&(h=i),y=u===-1/0?u:e.track.idxToDist(u||0,!0,0),w=h===_?h:x(h,!0,0),null===i&&(v=h),m(t,"align",!1)&&h!==_&&0===s[D(h)][2]&&(w-=1-s[D(h)][0],h=T(w-E)),y=g(y),w=g(w)}(),a=t,Number(a)===a?k(N(R(t))):L()},to:O,velocity:function(){var e=a(),t=I.reduce((function(t,n){var r=n.distance,i=n.timestamp;return e-i>200||(f(r)!==f(t.distance)&&t.distance&&(t={distance:0,lastTimestamp:0,time:0}),t.time&&(t.distance+=r),t.lastTimestamp&&(t.time+=i-t.lastTimestamp),t.lastTimestamp=i),t}),{distance:0,lastTimestamp:0,time:0});return t.distance/t.time||0}}}function _(e){var t,n,r,i,s,a,o,c;function l(e){return 2*e}function u(e){return d(e,o,c)}function h(e){return 1-Math.pow(1-e,3)}function p(){return r?e.track.velocity():0}function m(e,t){void 0===t&&(t=1e3);var n=147e-9+(e=Math.abs(e))/t;return{dist:Math.pow(e,2)/n,dur:e/n}}function g(){var t=e.track.details;t&&(s=t.min,a=t.max,o=t.minIdx,c=t.maxIdx)}function v(){e.animator.stop()}e.on("updated",g),e.on("optionsChanged",g),e.on("created",g),e.on("dragStarted",(function(){r=!1,v(),t=n=e.track.details.abs})),e.on("dragChecked",(function(){r=!0})),e.on("dragEnded",(function(){var r=e.options.mode;"snap"===r&&function(){var r=e.track,i=e.track.details,o=i.position,c=f(p());(o>a||o<s)&&(c=0);var l=t+c;0===i.slides[r.absToRel(l)].portion&&(l-=c),t!==n&&(l=n),f(r.idxToDist(l,!0))!==c&&(l+=c),l=u(l);var h=r.idxToDist(l,!0);e.animator.start([{distance:h,duration:500,easing:function(e){return 1+--e*e*e*e*e}}])}(),"free"!==r&&"free-snap"!==r||function(){v();var t="free-snap"===e.options.mode,n=e.track,r=p();i=f(r);var o=e.track.details,c=[];if(r||!t){var d=m(r),g=d.dist,y=d.dur;if(y=l(y),g*=i,t){var b=n.idxToDist(n.distToIdx(g),!0);b&&(g=b)}c.push({distance:g,duration:y,easing:h});var w=o.position,_=w+g;if(_<s||_>a){var I=_<s?s-w:a-w,S=0,E=r;if(f(I)===i){var k=Math.min(Math.abs(I)/Math.abs(g),1),T=function(e){return 1-Math.pow(1-e,1/3)}(k)*y;c[0].earlyExit=T,E=r*(1-k)}else c[0].earlyExit=0,S+=I;var C=m(E,100),x=C.dist*i;e.options.rubberband&&(c.push({distance:x,duration:l(C.dur),easing:h}),c.push({distance:-x+S,duration:500,easing:h}))}e.animator.start(c)}else e.moveToIdx(u(o.abs),!0,{duration:500,easing:function(e){return 1+--e*e*e*e*e}})}()})),e.on("dragged",(function(){n=e.track.details.abs}))}function I(e){var t,n,r,i,s,a,o,p,m,g,v,y,b,w,_,I,S,E,k=h();function T(t){if(a&&p===t.id){var c=A(t);if(m){if(!N(t))return x(t);g=c,m=!1,e.emit("dragChecked")}if(I)return g=c;l(t);var h=function(t){if(S===-1/0&&E===1/0)return t;var r=e.track.details,a=r.length,o=r.position,c=d(t,S-o,E-o);if(0===a)return 0;if(!e.options.rubberband)return c;if(o<=E&&o>=S)return t;if(o<S&&n>0||o>E&&n<0)return t;var l=(o<S?o-S:o-E)/a,u=i*a,h=Math.abs(l*u),f=Math.max(0,1-h/s*2);return f*f*t}(o(g-c)/i*r);n=f(h);var b=e.track.details.position;(b>S&&b<E||b===S&&n>0||b===E&&n<0)&&u(t),v+=h,!y&&Math.abs(v*i)>5&&(y=!0),e.track.add(h),g=c,e.emit("dragged")}}function C(t){!a&&e.track.details&&e.track.details.length&&(v=0,a=!0,y=!1,m=!0,p=t.id,N(t),g=A(t),e.emit("dragStarted"))}function x(t){a&&p===t.idChanged&&(a=!1,e.emit("dragEnded"))}function N(e){var t=R(),n=t?e.y:e.x,r=t?e.x:e.y,i=void 0!==b&&void 0!==w&&Math.abs(w-r)<=Math.abs(b-n);return b=n,w=r,i}function A(e){return R()?e.y:e.x}function R(){return e.options.vertical}function P(){i=e.size,s=R()?window.innerHeight:window.innerWidth;var t=e.track.details;t&&(S=t.min,E=t.max)}function D(e){y&&(u(e),l(e))}function O(){if(k.purge(),e.options.drag&&!e.options.disabled){var n;n=e.options.dragSpeed||1,o="function"==typeof n?n:function(e){return e*n},r=e.options.rtl?-1:1,P(),t=e.container,function(){var e="data-keen-slider-clickable";c("[".concat(e,"]:not([").concat(e,"=false])"),t).map((function(e){k.add(e,"dragstart",u),k.add(e,"mousedown",u),k.add(e,"touchstart",u)}))}(),k.add(t,"dragstart",(function(e){l(e)})),k.add(t,"click",D,{capture:!0}),k.input(t,"ksDragStart",C),k.input(t,"ksDrag",T),k.input(t,"ksDragEnd",x),k.input(t,"mousedown",C),k.input(t,"mousemove",T),k.input(t,"mouseleave",x),k.input(t,"mouseup",x),k.input(t,"touchstart",C,{passive:!0}),k.input(t,"touchmove",T,{passive:!1}),k.input(t,"touchend",x),k.input(t,"touchcancel",x),k.add(window,"wheel",(function(e){a&&l(e)}));var i="data-keen-slider-scrollable";c("[".concat(i,"]:not([").concat(i,"=false])"),e.container).map((function(e){return function(e){var t;k.input(e,"touchstart",(function(e){t=A(e),I=!0,_=!0}),{passive:!0}),k.input(e,"touchmove",(function(n){var r=R(),i=r?e.scrollHeight-e.clientHeight:e.scrollWidth-e.clientWidth,s=t-A(n),a=r?e.scrollTop:e.scrollLeft,o=r&&"scroll"===e.style.overflowY||!r&&"scroll"===e.style.overflowX;if(t=A(n),(s<0&&a>0||s>0&&a<i)&&_&&o)return I=!0;_=!1,l(n),I=!1})),k.input(e,"touchend",(function(){I=!1}))}(e)}))}}e.on("updated",P),e.on("optionsChanged",O),e.on("created",O),e.on("destroyed",k.purge)}function S(e){var t,n,r=null;function i(t,n,r){e.animator.active?a(t,n,r):requestAnimationFrame((function(){return a(t,n,r)}))}function s(){i(!1,!1,n)}function a(n,i,s){var a=0,o=e.size,u=e.track.details;if(u&&t){var h=u.slides;t.forEach((function(e,t){if(n)!r&&i&&c(e,null,s),l(e,null,s);else{if(!h[t])return;var u=h[t].size*o;!r&&i&&c(e,u,s),l(e,h[t].distance*o-a,s),a+=u}}))}}function o(t){return"performance"===e.options.renderMode?Math.round(t):t}function c(e,t,n){var r=n?"height":"width";null!==t&&(t=o(t)+"px"),e.style["min-"+r]=t,e.style["max-"+r]=t}function l(e,t,n){if(null!==t){t=o(t);var r=n?t:0;t="translate3d(".concat(n?0:t,"px, ").concat(r,"px, 0)")}e.style.transform=t,e.style["-webkit-transform"]=t}function u(){t&&(a(!0,!0,n),t=null),e.on("detailsChanged",s,!0)}function h(){i(!1,!0,n)}function d(){u(),n=e.options.vertical,e.options.disabled||"custom"===e.options.renderMode||(r="auto"===m(e.options.slides,"perView",null),e.on("detailsChanged",s),(t=e.slides).length&&h())}e.on("created",d),e.on("optionsChanged",d),e.on("beforeOptionsChanged",(function(){u()})),e.on("updated",h),e.on("destroyed",u)}function E(e,t){return function(n){var r,i,s,a,l,u=h();function d(e){var t;o(n.container,"reverse","rtl"!==(t=n.container,window.getComputedStyle(t,null).getPropertyValue("direction"))||e?null:""),o(n.container,"v",n.options.vertical&&!e?"":null),o(n.container,"disabled",n.options.disabled&&!e?"":null)}function f(){g()&&I()}function g(){var e=null;if(a.forEach((function(t){t.matches&&(e=t.__media)})),e===r)return!1;r||n.emit("beforeOptionsChanged"),r=e;var t=e?s.breakpoints[e]:s;return n.options=y(y({},s),t),d(),C(),x(),E(),!0}function v(e){var t=p(e);return(n.options.vertical?t.height:t.width)/n.size||1}function b(){return n.options.trackConfig.length}function w(e){for(var o in r=!1,s=y(y({},t),e),u.purge(),i=n.size,a=[],s.breakpoints||[]){var c=window.matchMedia(o);c.__media=o,a.push(c),u.add(c,"change",f)}u.add(window,"orientationchange",T),u.add(window,"resize",k),g()}function _(e){n.animator.stop();var t=n.track.details;n.track.init(null!=e?e:t?t.abs:0)}function I(e){_(e),n.emit("optionsChanged")}function S(e,t){if(e)return w(e),void I(t);C(),x();var r=b();E(),b()!==r?I(t):_(t),n.emit("updated")}function E(){var e=n.options.slides;if("function"==typeof e)return n.options.trackConfig=e(n.size,n.slides);for(var t=n.slides,r=t.length,i="number"==typeof e?e:m(e,"number",r,!0),s=[],a=m(e,"perView",1,!0),o=m(e,"spacing",0,!0)/n.size||0,c="auto"===a?o:o/a,l=m(e,"origin","auto"),u=0,h=0;h<i;h++){var d="auto"===a?v(t[h]):1/a-o+c,f="center"===l?.5-d/2:"auto"===l?0:l;s.push({origin:f,size:d,spacing:o}),u+=d}if(u+=o*(i-1),"auto"===l&&!n.options.loop&&1!==a){var p=0;s.map((function(e){var t=u-p;return p+=e.size+o,t>=1||(e.origin=1-t-(u>1?0:1-u)),e}))}n.options.trackConfig=s}function k(){C();var e=n.size;n.options.disabled||e===i||(i=e,S())}function T(){k(),setTimeout(k,500),setTimeout(k,2e3)}function C(){var e=p(n.container);n.size=(n.options.vertical?e.height:e.width)||1}function x(){n.slides=c(n.options.selector,n.container)}n.container=(l=c(e,document)).length?l[0]:null,n.destroy=function(){u.purge(),n.emit("destroyed"),d(!0)},n.prev=function(){n.moveToIdx(n.track.details.abs-1,!0)},n.next=function(){n.moveToIdx(n.track.details.abs+1,!0)},n.update=S,w(n.options)}}var k=function(e,t,n){try{return function(e,t){var n,r={};return n={emit:function(e){r[e]&&r[e].forEach((function(e){e(n)}));var t=n.options&&n.options[e];t&&t(n)},moveToIdx:function(e,t,r){var i=n.track.idxToDist(e,t);if(i){var s=n.options.defaultAnimation;n.animator.start([{distance:i,duration:m(r||s,"duration",500),easing:m(r||s,"easing",(function(e){return 1+--e*e*e*e*e}))}])}},on:function(e,t,n){void 0===n&&(n=!1),r[e]||(r[e]=[]);var i=r[e].indexOf(t);i>-1?n&&delete r[e][i]:n||r[e].push(t)},options:e},function(){if(n.track=w(n),n.animator=function(e){var t,n,r,i,s,a;function o(t){a||(a=t),c(!0);var s=t-a;s>r&&(s=r);var h=i[n];if(h[3]<s)return n++,o(t);var d=h[2],f=h[4],p=h[0],m=h[1]*(0,h[5])(0===f?1:(s-d)/f);if(m&&e.track.to(p+m),s<r)return u();a=null,c(!1),l(null),e.emit("animationEnded")}function c(e){t.active=e}function l(e){t.targetIdx=e}function u(){var e;e=o,s=window.requestAnimationFrame(e)}function h(){var t;t=s,window.cancelAnimationFrame(t),c(!1),l(null),a&&e.emit("animationStopped"),a=null}return t={active:!1,start:function(t){if(h(),e.track.details){var s=0,a=e.track.details.position;n=0,r=0,i=t.map((function(e){var t,n=Number(a),i=null!==(t=e.earlyExit)&&void 0!==t?t:e.duration,o=e.easing,c=e.distance*o(i/e.duration)||0;a+=c;var l=r;return r+=i,s+=c,[n,e.distance,l,r,e.duration,o]})),l(e.track.distToIdx(s)),u(),e.emit("animationStarted")}},stop:h,targetIdx:null}}(n),t)for(var e=0,r=t;e<r.length;e++)(0,r[e])(n);n.track.init(n.options.initial||0),n.emit("created")}(),n}(t,b([E(e,{drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"}),S,I,_],n||[],!0))}catch(e){console.error(e)}};t.E=function(e,t){var n=r.useRef(null),i=r.useRef(!1),s=r.useRef(e),a=r.useCallback((function(r){r?(s.current=e,n.current=new k(r,e,t),i.current=!1):(n.current&&n.current.destroy&&n.current.destroy(),n.current=null)}),[]);return r.useEffect((function(){v(s.current,e)||(s.current=e,n.current&&n.current.update(s.current))}),[e]),[a,n]}},541:()=>{!function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialButton=e,e.prototype.Constant_={},e.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},e.prototype.blurHandler_=function(e){e&&this.element_.blur()},e.prototype.disable=function(){this.element_.disabled=!0},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.element_.disabled=!1},e.prototype.enable=e.prototype.enable,e.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:e,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})}()},911:()=>{var e={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};(e=function(){"use strict";var e=[],t=[],n="mdlComponentConfigInternal_";function r(t,n){for(var r=0;r<e.length;r++)if(e[r].className===t)return"undefined"!==typeof n&&(e[r]=n),e[r];return!1}function i(e){var t=e.getAttribute("data-upgraded");return null===t?[""]:t.split(",")}function s(e,t){return-1!==i(e).indexOf(t)}function a(e,t,n){if("CustomEvent"in window&&"function"===typeof window.CustomEvent)return new CustomEvent(e,{bubbles:t,cancelable:n});var r=document.createEvent("Events");return r.initEvent(e,t,n),r}function o(t,n){if("undefined"===typeof t&&"undefined"===typeof n)for(var i=0;i<e.length;i++)o(e[i].className,e[i].cssClass);else{var s=t;if("undefined"===typeof n){var a=r(s);a&&(n=a.cssClass)}for(var l=document.querySelectorAll("."+n),u=0;u<l.length;u++)c(l[u],s)}}function c(o,c){if(!("object"===typeof o&&o instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var l=a("mdl-componentupgrading",!0,!0);if(o.dispatchEvent(l),!l.defaultPrevented){var u=i(o),h=[];if(c)s(o,c)||h.push(r(c));else{var d=o.classList;e.forEach((function(e){d.contains(e.cssClass)&&-1===h.indexOf(e)&&!s(o,e.className)&&h.push(e)}))}for(var f,p=0,m=h.length;p<m;p++){if(!(f=h[p]))throw new Error("Unable to find a registered component for the given class.");u.push(f.className),o.setAttribute("data-upgraded",u.join(","));var g=new f.classConstructor(o);g[n]=f,t.push(g);for(var v=0,y=f.callbacks.length;v<y;v++)f.callbacks[v](o);f.widget&&(o[f.className]=g);var b=a("mdl-componentupgraded",!0,!1);o.dispatchEvent(b)}}}function l(e){if(e){var r=t.indexOf(e);t.splice(r,1);var i=e.element_.getAttribute("data-upgraded").split(","),s=i.indexOf(e[n].classAsString);i.splice(s,1),e.element_.setAttribute("data-upgraded",i.join(","));var o=a("mdl-componentdowngraded",!0,!1);e.element_.dispatchEvent(o)}}return{upgradeDom:o,upgradeElement:c,upgradeElements:function e(t){Array.isArray(t)||(t=t instanceof Element?[t]:Array.prototype.slice.call(t));for(var n,r=0,i=t.length;r<i;r++)(n=t[r])instanceof HTMLElement&&(c(n),n.children.length>0&&e(n.children))},upgradeAllRegistered:function(){for(var t=0;t<e.length;t++)o(e[t].className)},registerUpgradedCallback:function(e,t){var n=r(e);n&&n.callbacks.push(t)},register:function(t){var i=!0;"undefined"===typeof t.widget&&"undefined"===typeof t.widget||(i=t.widget||t.widget);var s={classConstructor:t.constructor||t.constructor,className:t.classAsString||t.classAsString,cssClass:t.cssClass||t.cssClass,widget:i,callbacks:[]};if(e.forEach((function(e){if(e.cssClass===s.cssClass)throw new Error("The provided cssClass has already been registered: "+e.cssClass);if(e.className===s.className)throw new Error("The provided className has already been registered")})),t.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");r(t.classAsString,s)||e.push(s)},downgradeElements:function(e){var n=function(e){t.filter((function(t){return t.element_===e})).forEach(l)};if(e instanceof Array||e instanceof NodeList)for(var r=0;r<e.length;r++)n(e[r]);else{if(!(e instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");n(e)}}}}()).ComponentConfigPublic,e.ComponentConfig,e.Component,e.upgradeDom=e.upgradeDom,e.upgradeElement=e.upgradeElement,e.upgradeElements=e.upgradeElements,e.upgradeAllRegistered=e.upgradeAllRegistered,e.registerUpgradedCallback=e.registerUpgradedCallback,e.register=e.register,e.downgradeElements=e.downgradeElements,window.componentHandler=e,window.componentHandler=e,window.addEventListener("load",(function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),e.upgradeAllRegistered()):(e.upgradeElement=function(){},e.register=function(){})}))},121:()=>{!function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialProgress=e,e.prototype.Constant_={},e.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},e.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},e.prototype.setProgress=e.prototype.setProgress,e.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},e.prototype.setBuffer=e.prototype.setBuffer,e.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,(e=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,(e=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:e,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})}()},301:()=>{!function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialSpinner=e,e.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},e.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},e.prototype.createLayer=function(e){var t=document.createElement("div");t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var s=[n,r,i],a=0;a<s.length;a++){var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),s[a].appendChild(o)}t.appendChild(n),t.appendChild(r),t.appendChild(i),this.element_.appendChild(t)},e.prototype.createLayer=e.prototype.createLayer,e.prototype.stop=function(){this.element_.classList.remove("is-active")},e.prototype.stop=e.prototype.stop,e.prototype.start=function(){this.element_.classList.add("is-active")},e.prototype.start=e.prototype.start,e.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:e,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})}()},928:()=>{!function(){"use strict";var e=function(e){this.element_=e,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=e,e.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},e.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},e.prototype.onKeyDown_=function(e){var t=e.target.value.split("\n").length;13===e.keyCode&&t>=this.maxRows&&e.preventDefault()},e.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},e.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.onReset_=function(e){this.updateClasses_()},e.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},e.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},e.prototype.checkDisabled=e.prototype.checkDisabled,e.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.checkFocus=e.prototype.checkFocus,e.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},e.prototype.checkValidity=e.prototype.checkValidity,e.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},e.prototype.checkDirty=e.prototype.checkDirty,e.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},e.prototype.enable=e.prototype.enable,e.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},e.prototype.change=e.prototype.change,e.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:e,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})}()},463:(e,t,n)=>{"use strict";var r=n(791),i=n(296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),I=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,U=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var c="\n"+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=a&&0<=o);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case I:return"Portal";case k:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Se=null,Ee=null;function ke(e){if(e=bi(e)){if("function"!==typeof Ie)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Ie(e.stateNode,e.type,t))}}function Te(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Ce(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function xe(e,t){return e(t)}function Ne(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return xe(e,t,n)}finally{Ae=!1,(null!==Se||null!==Ee)&&(Ne(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var De=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){De=!1}function Le(e,t,n,r,i,s,a,o,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Me=!1,Ue=null,Fe=!1,je=null,Ve={onError:function(e){Me=!0,Ue=e}};function Be(e,t,n,r,i,s,a,o,c){Me=!1,Ue=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(s(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=a;break}if(c===r){o=!0,r=i,n=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===n){o=!0,n=a,r=i;break}if(c===r){o=!0,r=a,n=i;break}c=c.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/ct|0)|0},ot=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,It,St,Et,kt,Tt=!1,Ct=[],xt=null,Nt=null,At=null,Rt=new Map,Pt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&It(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&It(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function jt(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Tt=!1,null!==xt&&Ft(xt)&&(xt=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Rt.forEach(jt),Pt.forEach(jt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&Bt(xt,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Dt.shift()}var qt=w.ReactCurrentBatchConfig,Ht=!0;function Gt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Kt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Wt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Mt(xt,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rt.set(s,Mt(Rt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Mt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&_t(s),null===(s=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(ln),hn=U({},ln,{view:0,detail:0}),dn=sn(hn),fn=U({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(an=e.screenX-cn.screenX,on=e.screenY-cn.screenY):on=an=0,cn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(U({},fn,{dataTransfer:0})),gn=sn(U({},hn,{relatedTarget:0})),vn=sn(U({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=U({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(U({},ln,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function kn(){return En}var Tn=U({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(Tn),xn=sn(U({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(U({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),An=sn(U({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=U({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(Rn),Dn=[9,13,27,32],On=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Un=u&&(!On||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Wn=null;function Qn(e){Fr(e,0)}function Yn(e){if(W(wi(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Xn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Wn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Gn(t,Wn,e,_e(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function sr(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ir={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Sr={},Er={};function kr(e){if(Sr[e])return Sr[e];if(!Ir[e])return e;var t,n=Ir[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);var Tr=kr("animationend"),Cr=kr("animationiteration"),xr=kr("animationstart"),Nr=kr("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),c(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Or=Rr[Dr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Tr,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(xr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,c,l){if(Be.apply(this,arguments),Me){if(!Me)throw Error(s(198));var u=Ue;Me=!1,Ue=null,Fe||(Fe=!0,je=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,l=o.currentTarget;if(o=o.listener,c!==s&&i.isPropagationStopped())break e;Ur(i,o,l),s=c}else for(a=0;a<r.length;a++){if(c=(o=r[a]).instance,l=o.currentTarget,o=o.listener,c!==s&&i.isPropagationStopped())break e;Ur(i,o,l),s=c}}}if(Fe)throw e=je,Fe=!1,je=null,e}function jr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var i=Gt;break;case 4:i=Kt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(c=a.tag)||6===c){r=s=a;continue e}o=o.parentNode}}r=r.return}Re((function(){var r=s,i=_e(n),a=[];e:{var o=Ar.get(e);if(void 0!==o){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=Cn;break;case"focusin":l="focus",c=gn;break;case"focusout":l="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Nn;break;case Tr:case Cr:case xr:c=vn;break;case Nr:c=An;break;case"scroll":c=dn;break;case"wheel":c=Pn;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=xn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Pe(p,d))&&u.push(Gr(p,m,f)))),h)break;p=p.return}0<u.length&&(o=new c(o,l,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(h=ze(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=xn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==c?o:wi(c),f=null==l?o:wi(l),(o=new u(m,p+"leave",c,n,i)).target=h,o.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",l,n,i)).target=f,u.relatedTarget=h,m=u),h=m,c&&l)e:{for(d=l,p=0,f=u=c;f;f=Wr(f))p++;for(f=0,m=d;m;m=Wr(m))f++;for(;0<p-f;)u=Wr(u),p--;for(;0<f-p;)d=Wr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Wr(u),d=Wr(d)}u=null}else u=null;null!==c&&Qr(a,o,c,u,!1),null!==l&&null!==h&&Qr(a,h,l,u,!0)}if("select"===(c=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var g=Jn;else if(Hn(o))if(Xn)g=ar;else{g=ir;var v=rr}else(c=o.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Gn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?wi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):($t="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(v=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(jn=!0,Fn);case"textInput":return(e=t.data)===Fn&&jn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=$t=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Gr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Gr(e,s,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,c=o.alternate,l=o.stateNode;if(null!==c&&c===r)break;5===o.tag&&null!==l&&(o=l,i?null!=(c=Pe(n,s))&&a.unshift(Gr(n,c,o)):i||null!=(c=Pe(n,s))&&a.push(Gr(n,c,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function $r(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Ii=[],Si=-1;function Ei(e){return{current:e}}function ki(e){0>Si||(e.current=Ii[Si],Ii[Si]=null,Si--)}function Ti(e,t){Si++,Ii[Si]=e.current,e.current=t}var Ci={},xi=Ei(Ci),Ni=Ei(!1),Ai=Ci;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){ki(Ni),ki(xi)}function Oi(e,t,n){if(xi.current!==Ci)throw Error(s(168));Ti(xi,t),Ti(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return U({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=xi.current,Ti(xi,e),Ti(Ni,Ni.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,ki(Ni),ki(xi),Ti(xi,e)):ki(Ni),Ti(Ni,n)}var Fi=null,ji=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,ji=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),We(Ze,zi),i}finally{bt=t,Vi=!1}}return null}var qi=[],Hi=0,Gi=null,Ki=0,Wi=[],Qi=0,Yi=null,Ji=1,Xi="";function $i(e,t){qi[Hi++]=Ki,qi[Hi++]=Gi,Gi=e,Ki=t}function Zi(e,t,n){Wi[Qi++]=Ji,Wi[Qi++]=Xi,Wi[Qi++]=Yi,Yi=e;var r=Ji;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ji=1<<32-at(t)+i|n<<i|r,Xi=s+e}else Ji=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ts(e){for(;e===Gi;)Gi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===Yi;)Yi=Wi[--Qi],Wi[Qi]=null,Xi=Wi[--Qi],Wi[Qi]=null,Ji=Wi[--Qi],Wi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Pl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function cs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ls(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(cs(e))throw Error(s(418));t=li(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(cs(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(cs(e))throw ds(),Error(s(418));for(;t;)as(e,t),t=li(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?li(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=li(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Ei(null),ys=null,bs=null,ws=null;function _s(){ws=bs=ys=null}function Is(e){var t=vs.current;ki(vs),e._currentValue=t}function Ss(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Es(e,t){ys=e,ws=bs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wo=!0),e.firstContext=null)}function ks(e){var t=e._currentValue;if(ws!==e)if(e={context:e,memoizedValue:t,next:null},null===bs){if(null===ys)throw Error(s(308));bs=e,ys.dependencies={lanes:0,firstContext:e}}else bs=bs.next=e;return t}var Ts=null;function Cs(e){null===Ts?Ts=[e]:Ts.push(e)}function xs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Cs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ns(e,r)}function Ns(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var As=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ps(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Os(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ns(e,n)}return null===(i=r.interleaved)?(t.next=t,Cs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ns(e,n)}function Ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Us(e,t,n,r){var i=e.updateQueue;As=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var c=o,l=c.next;c.next=null,null===a?s=l:a.next=l,a=c;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=l:o.next=l,u.lastBaseUpdate=c))}if(null!==s){var h=i.baseState;for(a=0,u=l=c=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=U({},h,d);break e;case 2:As=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(l=u=f,c=h):u=u.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(c=h),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Uc|=a,e.lanes=a,e.memoizedState=h}}function Fs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var js=(new r.Component).refs;function Vs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bs={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),s=Ds(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,i))&&(rl(t,e,i,r),Ls(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),s=Ds(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,i))&&(rl(t,e,i,r),Ls(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Ds(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Os(e,i,r))&&(rl(t,e,r,n),Ls(t,e,r))}};function zs(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,s))}function qs(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=ks(s):(i=Pi(t)?Ai:xi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Hs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bs.enqueueReplaceState(t,t.state,null)}function Gs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=js,Rs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=ks(s):(s=Pi(t)?Ai:xi.current,i.context=Ri(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Vs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bs.enqueueReplaceState(i,i.state,null),Us(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ks(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===js&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ws(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ol(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Ks(e,t,n),r.return=e,r):((r=Ll(n.type,n.key,n.props,null,e.mode,r)).ref=Ks(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ll(t.type,t.key,t.props,null,e.mode,n)).ref=Ks(e,null,t),n.return=e,n;case I:return(t=jl(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ml(t,e.mode,n,null)).return=e,t;Ws(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case I:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Ws(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Ws(t,r)}return null}function m(i,s,o,c){for(var l=null,u=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,o[m],c);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=a(v,s,m),null===u?l=v:u.sibling=v,u=v,h=g}if(m===o.length)return n(i,h),is&&$i(i,m),l;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],c))&&(s=a(h,s,m),null===u?l=h:u.sibling=h,u=h);return is&&$i(i,m),l}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],c))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?l=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&$i(i,m),l}function g(i,o,c,l){var u=L(c);if("function"!==typeof u)throw Error(s(150));if(null==(c=u.call(c)))throw Error(s(151));for(var h=u=null,m=o,g=o=0,v=null,y=c.next();null!==m&&!y.done;g++,y=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===h?u=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),is&&$i(i,g),u;if(null===m){for(;!y.done;g++,y=c.next())null!==(y=d(i,y.value,l))&&(o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return is&&$i(i,g),u}for(m=r(i,m);!y.done;g++,y=c.next())null!==(y=p(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),is&&$i(i,g),u}return function e(r,s,a,c){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var l=a.key,u=s;null!==u;){if(u.key===l){if((l=a.type)===S){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===P&&Qs(l)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=Ks(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((s=Ml(a.props.children,r.mode,c,a.key)).return=r,r=s):((c=Ll(a.type,a.key,a.props,null,r.mode,c)).ref=Ks(r,s,a),c.return=r,r=c)}return o(r);case I:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=jl(a,r.mode,c)).return=r,r=s}return o(r);case P:return e(r,s,(u=a._init)(a._payload),c)}if(te(a))return m(r,s,a,c);if(L(a))return g(r,s,a,c);Ws(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Fl(a,r.mode,c)).return=r,r=s),o(r)):n(r,s)}}var Js=Ys(!0),Xs=Ys(!1),$s={},Zs=Ei($s),ea=Ei($s),ta=Ei($s);function na(e){if(e===$s)throw Error(s(174));return e}function ra(e,t){switch(Ti(ta,t),Ti(ea,e),Ti(Zs,$s),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Zs),Ti(Zs,t)}function ia(){ki(Zs),ki(ea),ki(ta)}function sa(e){na(ta.current);var t=na(Zs.current),n=ce(t,e.type);t!==n&&(Ti(ea,e),Ti(Zs,n))}function aa(e){ea.current===e&&(ki(Zs),ki(ea))}var oa=Ei(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function ua(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var ha=w.ReactCurrentDispatcher,da=w.ReactCurrentBatchConfig,fa=0,pa=null,ma=null,ga=null,va=!1,ya=!1,ba=0,wa=0;function _a(){throw Error(s(321))}function Ia(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function Sa(e,t,n,r,i,a){if(fa=a,pa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ao:oo,e=n(r,i),ya){a=0;do{if(ya=!1,ba=0,25<=a)throw Error(s(301));a+=1,ga=ma=null,t.updateQueue=null,ha.current=co,e=n(r,i)}while(ya)}if(ha.current=so,t=null!==ma&&null!==ma.next,fa=0,ga=ma=pa=null,va=!1,t)throw Error(s(300));return e}function Ea(){var e=0!==ba;return ba=0,e}function ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?pa.memoizedState=ga=e:ga=ga.next=e,ga}function Ta(){if(null===ma){var e=pa.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ga?pa.memoizedState:ga.next;if(null!==t)ga=t,ma=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?pa.memoizedState=ga=e:ga=ga.next=e}return ga}function Ca(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=Ta(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var c=o=null,l=null,u=a;do{var h=u.lane;if((fa&h)===h)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=d,o=r):l=l.next=d,pa.lanes|=h,Uc|=h}u=u.next}while(null!==u&&u!==a);null===l?o=r:l.next=c,or(r,t.memoizedState)||(wo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,pa.lanes|=a,Uc|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Na(e){var t=Ta(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(wo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Aa(){}function Ra(e,t){var n=pa,r=Ta(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,wo=!0),r=r.queue,qa(Oa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Fa(9,Da.bind(null,n,r,i,t),void 0,null),null===Ac)throw Error(s(349));0!==(30&fa)||Pa(n,t,i)}return i}function Pa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Da(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&Ma(e)}function Oa(e,t,n){return n((function(){La(t)&&Ma(e)}))}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ma(e){var t=Ns(e,1);null!==t&&rl(t,e,1,-1)}function Ua(e){var t=ka();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,pa,e),[t.memoizedState,e]}function Fa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ja(){return Ta().memoizedState}function Va(e,t,n,r){var i=ka();pa.flags|=e,i.memoizedState=Fa(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var i=Ta();r=void 0===r?null:r;var s=void 0;if(null!==ma){var a=ma.memoizedState;if(s=a.destroy,null!==r&&Ia(r,a.deps))return void(i.memoizedState=Fa(t,n,s,r))}pa.flags|=e,i.memoizedState=Fa(1|t,n,s,r)}function za(e,t){return Va(8390656,8,e,t)}function qa(e,t){return Ba(2048,8,e,t)}function Ha(e,t){return Ba(4,2,e,t)}function Ga(e,t){return Ba(4,4,e,t)}function Ka(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Ka.bind(null,t,e),n)}function Qa(){}function Ya(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ia(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ja(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ia(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&fa)?(e.baseState&&(e.baseState=!1,wo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),pa.lanes|=n,Uc|=n,e.baseState=!0),t)}function $a(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{bt=n,da.transition=r}}function Za(){return Ta().memoizedState}function eo(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=xs(e,t,n,r))){rl(n,e,r,tl()),io(n,t,r)}}function to(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var c=t.interleaved;return null===c?(i.next=i,Cs(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=xs(e,t,i,r))&&(rl(n,e,r,i=tl()),io(n,t,r))}}function no(e){var t=e.alternate;return e===pa||null!==t&&t===pa}function ro(e,t){ya=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function io(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var so={readContext:ks,useCallback:_a,useContext:_a,useEffect:_a,useImperativeHandle:_a,useInsertionEffect:_a,useLayoutEffect:_a,useMemo:_a,useReducer:_a,useRef:_a,useState:_a,useDebugValue:_a,useDeferredValue:_a,useTransition:_a,useMutableSource:_a,useSyncExternalStore:_a,useId:_a,unstable_isNewReconciler:!1},ao={readContext:ks,useCallback:function(e,t){return ka().memoizedState=[e,void 0===t?null:t],e},useContext:ks,useEffect:za,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=ka();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ka();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,pa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ka().memoizedState=e},useState:Ua,useDebugValue:Qa,useDeferredValue:function(e){return ka().memoizedState=e},useTransition:function(){var e=Ua(!1),t=e[0];return e=$a.bind(null,e[1]),ka().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pa,i=ka();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ac)throw Error(s(349));0!==(30&fa)||Pa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,za(Oa.bind(null,r,a,e),[e]),r.flags|=2048,Fa(9,Da.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ka(),t=Ac.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-at(Ji)-1)).toString(32)+n),0<(n=ba++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:ks,useCallback:Ya,useContext:ks,useEffect:qa,useImperativeHandle:Wa,useInsertionEffect:Ha,useLayoutEffect:Ga,useMemo:Ja,useReducer:xa,useRef:ja,useState:function(){return xa(Ca)},useDebugValue:Qa,useDeferredValue:function(e){return Xa(Ta(),ma.memoizedState,e)},useTransition:function(){return[xa(Ca)[0],Ta().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ra,useId:Za,unstable_isNewReconciler:!1},co={readContext:ks,useCallback:Ya,useContext:ks,useEffect:qa,useImperativeHandle:Wa,useInsertionEffect:Ha,useLayoutEffect:Ga,useMemo:Ja,useReducer:Na,useRef:ja,useState:function(){return Na(Ca)},useDebugValue:Qa,useDeferredValue:function(e){var t=Ta();return null===ma?t.memoizedState=e:Xa(t,ma.memoizedState,e)},useTransition:function(){return[Na(Ca)[0],Ta().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ra,useId:Za,unstable_isNewReconciler:!1};function lo(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Ds(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gc||(Gc=!0,Kc=r),ho(0,t)},n}function mo(e,t,n){(n=Ds(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ho(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Wc?Wc=new Set([this]):Wc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tl.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ds(-1,1)).tag=2,Os(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bo=w.ReactCurrentOwner,wo=!1;function _o(e,t,n,r){t.child=null===e?Xs(t,null,n,r):Js(t,e.child,n,r)}function Io(e,t,n,r,i){n=n.render;var s=t.ref;return Es(t,i),r=Sa(e,t,n,r,s,i),n=Ea(),null===e||wo?(is&&n&&es(t),t.flags|=1,_o(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Go(e,t,i))}function So(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Dl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ll(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Eo(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)return Go(e,t,i)}return t.flags|=1,(e=Ol(s,r)).ref=t.ref,e.return=t,t.child=e}function Eo(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(cr(s,r)&&e.ref===t.ref){if(wo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Go(e,t,i);0!==(131072&e.flags)&&(wo=!0)}}return Co(e,t,n,r,i)}function ko(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Oc,Dc),Dc|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Oc,Dc),Dc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ti(Oc,Dc),Dc|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ti(Oc,Dc),Dc|=r;return _o(e,t,i,n),t.child}function To(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,i){var s=Pi(n)?Ai:xi.current;return s=Ri(t,s),Es(t,i),n=Sa(e,t,n,r,s,i),r=Ea(),null===e||wo?(is&&r&&es(t),t.flags|=1,_o(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Go(e,t,i))}function xo(e,t,n,r,i){if(Pi(n)){var s=!0;Mi(t)}else s=!1;if(Es(t,i),null===t.stateNode)Ho(e,t),qs(t,n,r),Gs(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=ks(l):l=Ri(t,l=Pi(n)?Ai:xi.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||c!==l)&&Hs(t,a,r,l),As=!1;var d=t.memoizedState;a.state=d,Us(t,r,a,i),c=t.memoizedState,o!==r||d!==c||Ni.current||As?("function"===typeof u&&(Vs(t,n,u,r),c=t.memoizedState),(o=As||zs(t,n,o,r,d,c,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=l,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ps(e,t),o=t.memoizedProps,l=t.type===t.elementType?o:gs(t.type,o),a.props=l,h=t.pendingProps,d=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=ks(c):c=Ri(t,c=Pi(n)?Ai:xi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==c)&&Hs(t,a,r,c),As=!1,d=t.memoizedState,a.state=d,Us(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||Ni.current||As?("function"===typeof f&&(Vs(t,n,f,r),p=t.memoizedState),(l=As||zs(t,n,l,r,d,p,c)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return No(e,t,n,r,s,i)}function No(e,t,n,r,i,s){To(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Ui(t,n,!1),Go(e,t,s);r=t.stateNode,bo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Js(t,e.child,null,s),t.child=Js(t,null,o,s)):_o(e,t,o,s),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Ao(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ra(e,t.containerInfo)}function Ro(e,t,n,r,i){return fs(),ps(i),t.flags|=256,_o(e,t,n,r),t.child}var Po,Do,Oo,Lo,Mo={dehydrated:null,treeContext:null,retryLane:0};function Uo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var r,i=t.pendingProps,a=oa.current,o=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ti(oa,1&a),null===e)return ls(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,o?(i=t.mode,o=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=c):o=Ul(c,i,0,null),e=Ml(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Uo(n),t.memoizedState=Mo,e):jo(t,c));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Vo(e,t,o,r=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Ul({mode:"visible",children:r.children},i,0,null),(a=Ml(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Js(t,e.child,null,o),t.child.memoizedState=Uo(o),t.memoizedState=Mo,a);if(0===(1&t.mode))return Vo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,Vo(e,t,o,r=uo(a=Error(s(419)),r,void 0))}if(c=0!==(o&e.childLanes),wo||c){if(null!==(r=Ac)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ns(e,i),rl(r,e,i,-1))}return gl(),Vo(e,t,o,r=uo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xl.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=li(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Wi[Qi++]=Ji,Wi[Qi++]=Xi,Wi[Qi++]=Yi,Ji=e.id,Xi=e.overflow,Yi=t),t=jo(t,r.children),t.flags|=4096,t)}(e,t,c,i,r,a,n);if(o){o=i.fallback,c=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ol(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Ol(r,o):(o=Ml(o,c,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,c=null===(c=e.child.memoizedState)?Uo(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},o.memoizedState=c,o.childLanes=e.childLanes&~n,t.memoizedState=Mo,i}return e=(o=e.child).sibling,i=Ol(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function jo(e,t){return(t=Ul({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vo(e,t,n,r){return null!==r&&ps(r),Js(t,e.child,null,n),(e=jo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ss(e.return,t,n)}function zo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_o(e,t,r.children,n),0!==(2&(r=oa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(oa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zo(t,!0,n,null,s);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Go(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Uc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ol(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ol(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ko(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return Pi(t.type)&&Di(),Wo(t),null;case 3:return r=t.stateNode,ia(),ki(Ni),ki(xi),ua(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ol(ss),ss=null))),Do(e,t),Wo(t),null;case 5:aa(t);var i=na(ta.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wo(t),null}if(e=na(Zs.current),hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":J(r,a),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},jr("invalid",r);break;case"textarea":ie(r,a),jr("invalid",r)}for(var c in ye(n,a),i=null,a)if(a.hasOwnProperty(c)){var l=a[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,l,e),i=["children",""+l]):o.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&jr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[di]=t,e[fi]=r,Po(e,t,!1,!1),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(a in ye(n,i),l=i)if(l.hasOwnProperty(a)){var u=l[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&jr("scroll",e):null!=u&&b(e,a,u,c))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)Lo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=na(ta.current),na(Zs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Wo(t),null;case 13:if(ki(oa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,a=!1;else if(a=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),a=!1}else null!==ss&&(ol(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oa.current)?0===Lc&&(Lc=3):gl())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return ia(),Do(e,t),null===e&&zr(t.stateNode.containerInfo),Wo(t),null;case 10:return Is(t.type._context),Wo(t),null;case 19:if(ki(oa),null===(a=t.memoizedState))return Wo(t),null;if(r=0!==(128&t.flags),null===(c=a.rendering))if(r)Ko(a,!1);else{if(0!==Lc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ca(e))){for(t.flags|=128,Ko(a,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(oa,1&oa.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>qc&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ko(a,!0),null===a.tail&&"hidden"===a.tailMode&&!c.alternate&&!is)return Wo(t),null}else 2*Xe()-a.renderingStartTime>qc&&1073741824!==n&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=a.last)?n.sibling=c:t.child=c,a.last=c)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=oa.current,Ti(oa,r?1&n|2:1&n),t):(Wo(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dc)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Yo(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),ki(Ni),ki(xi),ua(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return aa(t),null;case 13:if(ki(oa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(oa),null;case 4:return ia(),null;case 10:return Is(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Do=function(){},Oo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,na(Zs.current);var s,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var c=i[u];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(a=a||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&jr("scroll",e),a||c===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Lo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Jo=!1,Xo=!1,$o="function"===typeof WeakSet?WeakSet:Set,Zo=null;function ec(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kl(e,t,r)}else n.current=null}function tc(e,t,n){try{n()}catch(r){kl(e,t,r)}}var nc=!1;function rc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tc(t,n,s)}i=i.next}while(i!==r)}}function ic(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ac(e){var t=e.alternate;null!==t&&(e.alternate=null,ac(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oc(e){return 5===e.tag||3===e.tag||4===e.tag}function cc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||oc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var hc=null,dc=!1;function fc(e,t,n){for(n=n.child;null!==n;)pc(e,t,n),n=n.sibling}function pc(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Xo||ec(n,t);case 6:var r=hc,i=dc;hc=null,fc(e,t,n),dc=i,null!==(hc=r)&&(dc?(e=hc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hc.removeChild(n.stateNode));break;case 18:null!==hc&&(dc?(e=hc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),zt(e)):ci(hc,n.stateNode));break;case 4:r=hc,i=dc,hc=n.stateNode.containerInfo,dc=!0,fc(e,t,n),hc=r,dc=i;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&tc(n,t,a),i=i.next}while(i!==r)}fc(e,t,n);break;case 1:if(!Xo&&(ec(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){kl(n,t,o)}fc(e,t,n);break;case 21:fc(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,fc(e,t,n),Xo=r):fc(e,t,n);break;default:fc(e,t,n)}}function mc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $o),t.forEach((function(t){var r=Nl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,c=o;e:for(;null!==c;){switch(c.tag){case 5:hc=c.stateNode,dc=!1;break e;case 3:case 4:hc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===hc)throw Error(s(160));pc(a,o,i),hc=null,dc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){kl(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vc(t,e),t=t.sibling}function vc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),yc(e),4&r){try{rc(3,e,e.return),ic(3,e)}catch(g){kl(e,e.return,g)}try{rc(5,e,e.return)}catch(g){kl(e,e.return,g)}}break;case 1:gc(t,e),yc(e),512&r&&null!==n&&ec(n,n.return);break;case 5:if(gc(t,e),yc(e),512&r&&null!==n&&ec(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){kl(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===a.type&&null!=a.name&&X(i,a),be(c,o);var u=be(c,a);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,u)}switch(c){case"input":$(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){kl(e,e.return,g)}}break;case 6:if(gc(t,e),yc(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){kl(e,e.return,g)}}break;case 3:if(gc(t,e),yc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){kl(e,e.return,g)}break;case 4:default:gc(t,e),yc(e);break;case 13:gc(t,e),yc(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zc=Xe())),4&r&&mc(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(u=Xo)||h,gc(t,e),Xo=u):gc(t,e),yc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Zo=e,h=e.child;null!==h;){for(d=Zo=h;null!==Zo;){switch(p=(f=Zo).child,f.tag){case 0:case 11:case 14:case 15:rc(4,f,f.return);break;case 1:ec(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kl(r,n,g)}}break;case 5:ec(f,f.return);break;case 22:if(null!==f.memoizedState){Ic(d);continue}}null!==p?(p.return=f,Zo=p):Ic(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(c=d.stateNode,o=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=me("display",o))}catch(g){kl(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){kl(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gc(t,e),yc(e),4&r&&mc(e);case 21:}}function yc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(oc(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),uc(e,cc(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;lc(e,cc(e),a);break;default:throw Error(s(161))}}catch(o){kl(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bc(e,t,n){Zo=e,wc(e,t,n)}function wc(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var i=Zo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Jo;if(!a){var o=i.alternate,c=null!==o&&null!==o.memoizedState||Xo;o=Jo;var l=Xo;if(Jo=a,(Xo=c)&&!l)for(Zo=i;null!==Zo;)c=(a=Zo).child,22===a.tag&&null!==a.memoizedState?Sc(i):null!==c?(c.return=a,Zo=c):Sc(i);for(;null!==s;)Zo=s,wc(s,t,n),s=s.sibling;Zo=i,Jo=o,Xo=l}_c(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Zo=s):_c(e)}}function _c(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||ic(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Fs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fs(t,o,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(s(163))}Xo||512&t.flags&&sc(t)}catch(f){kl(t,t.return,f)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function Ic(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function Sc(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ic(4,t)}catch(c){kl(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){kl(t,i,c)}}var s=t.return;try{sc(t)}catch(c){kl(t,s,c)}break;case 5:var a=t.return;try{sc(t)}catch(c){kl(t,a,c)}}}catch(c){kl(t,t.return,c)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Ec,kc=Math.ceil,Tc=w.ReactCurrentDispatcher,Cc=w.ReactCurrentOwner,xc=w.ReactCurrentBatchConfig,Nc=0,Ac=null,Rc=null,Pc=0,Dc=0,Oc=Ei(0),Lc=0,Mc=null,Uc=0,Fc=0,jc=0,Vc=null,Bc=null,zc=0,qc=1/0,Hc=null,Gc=!1,Kc=null,Wc=null,Qc=!1,Yc=null,Jc=0,Xc=0,$c=null,Zc=-1,el=0;function tl(){return 0!==(6&Nc)?Xe():-1!==Zc?Zc:Zc=Xe()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Nc)&&0!==Pc?Pc&-Pc:null!==ms.transition?(0===el&&(el=mt()),el):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rl(e,t,n,r){if(50<Xc)throw Xc=0,$c=null,Error(s(185));vt(e,n,r),0!==(2&Nc)&&e===Ac||(e===Ac&&(0===(2&Nc)&&(Fc|=n),4===Lc&&cl(e,Pc)),il(e,r),1===n&&0===Nc&&0===(1&t.mode)&&(qc=Xe()+500,ji&&zi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,c=i[a];-1===c?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):c<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===Ac?Pc:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,Bi(e)}(ll.bind(null,e)):Bi(ll.bind(null,e)),ai((function(){0===(6&Nc)&&zi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Al(n,sl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sl(e,t){if(Zc=-1,el=0,0!==(6&Nc))throw Error(s(327));var n=e.callbackNode;if(Sl()&&e.callbackNode!==n)return null;var r=dt(e,e===Ac?Pc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vl(e,r);else{t=r;var i=Nc;Nc|=2;var a=ml();for(Ac===e&&Pc===t||(Hc=null,qc=Xe()+500,fl(e,t));;)try{bl();break}catch(c){pl(e,c)}_s(),Tc.current=a,Nc=i,null!==Rc?t=0:(Ac=null,Pc=0,t=Lc)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=al(e,i))),1===t)throw n=Mc,fl(e,0),cl(e,r),il(e,Xe()),n;if(6===t)cl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vl(e,r))&&(0!==(a=pt(e))&&(r=a,t=al(e,a))),1===t))throw n=Mc,fl(e,0),cl(e,r),il(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Il(e,Bc,Hc);break;case 3:if(cl(e,r),(130023424&r)===r&&10<(t=zc+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Il.bind(null,e,Bc,Hc),t);break}Il(e,Bc,Hc);break;case 4:if(cl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kc(r/1960))-r)){e.timeoutHandle=ri(Il.bind(null,e,Bc,Hc),r);break}Il(e,Bc,Hc);break;default:throw Error(s(329))}}}return il(e,Xe()),e.callbackNode===n?sl.bind(null,e):null}function al(e,t){var n=Vc;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=vl(e,t))&&(t=Bc,Bc=n,null!==t&&ol(t)),e}function ol(e){null===Bc?Bc=e:Bc.push.apply(Bc,e)}function cl(e,t){for(t&=~jc,t&=~Fc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Nc))throw Error(s(327));Sl();var t=dt(e,0);if(0===(1&t))return il(e,Xe()),null;var n=vl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=Mc,fl(e,0),cl(e,t),il(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Il(e,Bc,Hc),il(e,Xe()),null}function ul(e,t){var n=Nc;Nc|=1;try{return e(t)}finally{0===(Nc=n)&&(qc=Xe()+500,ji&&zi())}}function hl(e){null!==Yc&&0===Yc.tag&&0===(6&Nc)&&Sl();var t=Nc;Nc|=1;var n=xc.transition,r=bt;try{if(xc.transition=null,bt=1,e)return e()}finally{bt=r,xc.transition=n,0===(6&(Nc=t))&&zi()}}function dl(){Dc=Oc.current,ki(Oc)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rc)for(n=Rc.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:ia(),ki(Ni),ki(xi),ua();break;case 5:aa(r);break;case 4:ia();break;case 13:case 19:ki(oa);break;case 10:Is(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Ac=e,Rc=e=Ol(e.current,null),Pc=Dc=t,Lc=0,Mc=null,jc=Fc=Uc=0,Bc=Vc=null,null!==Ts){for(t=0;t<Ts.length;t++)if(null!==(r=(n=Ts[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ts=null}return e}function pl(e,t){for(;;){var n=Rc;try{if(_s(),ha.current=so,va){for(var r=pa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}va=!1}if(fa=0,ga=ma=pa=null,ya=!1,ba=0,Cc.current=null,null===n||null===n.return){Lc=1,Mc=t,Rc=null;break}e:{var a=e,o=n.return,c=n,l=t;if(t=Pc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,h=c,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=vo(o);if(null!==p){p.flags&=-257,yo(p,o,c,0,t),1&p.mode&&go(a,u,t),l=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){go(a,u,t),gl();break e}l=Error(s(426))}else if(is&&1&c.mode){var v=vo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),yo(v,o,c,0,t),ps(lo(l,c));break e}}a=l=lo(l,c),4!==Lc&&(Lc=2),null===Vc?Vc=[a]:Vc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ms(a,po(0,l,t));break e;case 1:c=l;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wc||!Wc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Ms(a,mo(a,c,t));break e}}a=a.return}while(null!==a)}_l(n)}catch(w){t=w,Rc===n&&null!==n&&(Rc=n=n.return);continue}break}}function ml(){var e=Tc.current;return Tc.current=so,null===e?so:e}function gl(){0!==Lc&&3!==Lc&&2!==Lc||(Lc=4),null===Ac||0===(268435455&Uc)&&0===(268435455&Fc)||cl(Ac,Pc)}function vl(e,t){var n=Nc;Nc|=2;var r=ml();for(Ac===e&&Pc===t||(Hc=null,fl(e,t));;)try{yl();break}catch(i){pl(e,i)}if(_s(),Nc=n,Tc.current=r,null!==Rc)throw Error(s(261));return Ac=null,Pc=0,Lc}function yl(){for(;null!==Rc;)wl(Rc)}function bl(){for(;null!==Rc&&!Ye();)wl(Rc)}function wl(e){var t=Ec(e.alternate,e,Dc);e.memoizedProps=e.pendingProps,null===t?_l(e):Rc=t,Cc.current=null}function _l(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qo(n,t,Dc)))return void(Rc=n)}else{if(null!==(n=Yo(n,t)))return n.flags&=32767,void(Rc=n);if(null===e)return Lc=6,void(Rc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rc=t);Rc=t=e}while(null!==t);0===Lc&&(Lc=5)}function Il(e,t,n){var r=bt,i=xc.transition;try{xc.transition=null,bt=1,function(e,t,n,r){do{Sl()}while(null!==Yc);if(0!==(6&Nc))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Ac&&(Rc=Ac=null,Pc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qc||(Qc=!0,Al(tt,(function(){return Sl(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=xc.transition,xc.transition=null;var o=bt;bt=1;var c=Nc;Nc|=4,Cc.current=null,function(e,t){if(ei=Ht,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break e}var o=0,c=-1,l=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(c=o+i),d!==a||0!==r&&3!==d.nodeType||(l=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(c=o),f===a&&++h===r&&(l=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(_){kl(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}m=nc,nc=!1}(e,n),vc(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,bc(n,e,i),Je(),Nc=c,bt=o,xc.transition=a}else e.current=n;if(Qc&&(Qc=!1,Yc=e,Jc=i),a=e.pendingLanes,0===a&&(Wc=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gc)throw Gc=!1,e=Kc,Kc=null,e;0!==(1&Jc)&&0!==e.tag&&Sl(),a=e.pendingLanes,0!==(1&a)?e===$c?Xc++:(Xc=0,$c=e):Xc=0,zi()}(e,t,n,r)}finally{xc.transition=i,bt=r}return null}function Sl(){if(null!==Yc){var e=wt(Jc),t=xc.transition,n=bt;try{if(xc.transition=null,bt=16>e?16:e,null===Yc)var r=!1;else{if(e=Yc,Yc=null,Jc=0,0!==(6&Nc))throw Error(s(331));var i=Nc;for(Nc|=4,Zo=e.current;null!==Zo;){var a=Zo,o=a.child;if(0!==(16&Zo.flags)){var c=a.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Zo=u;null!==Zo;){var h=Zo;switch(h.tag){case 0:case 11:case 15:rc(8,h,a)}var d=h.child;if(null!==d)d.return=h,Zo=d;else for(;null!==Zo;){var f=(h=Zo).sibling,p=h.return;if(ac(h),h===u){Zo=null;break}if(null!==f){f.return=p,Zo=f;break}Zo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Zo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(a=Zo).flags))switch(a.tag){case 0:case 11:case 15:rc(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Zo=y;break e}Zo=a.return}}var b=e.current;for(Zo=b;null!==Zo;){var w=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Zo=w;else e:for(o=b;null!==Zo;){if(0!==(2048&(c=Zo).flags))try{switch(c.tag){case 0:case 11:case 15:ic(9,c)}}catch(I){kl(c,c.return,I)}if(c===o){Zo=null;break e}var _=c.sibling;if(null!==_){_.return=c.return,Zo=_;break e}Zo=c.return}}if(Nc=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(I){}r=!0}return r}finally{bt=n,xc.transition=t}}return!1}function El(e,t,n){e=Os(e,t=po(0,t=lo(n,t),1),1),t=tl(),null!==e&&(vt(e,1,t),il(e,t))}function kl(e,t,n){if(3===e.tag)El(e,e,n);else for(;null!==t;){if(3===t.tag){El(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wc||!Wc.has(r))){t=Os(t,e=mo(t,e=lo(n,e),1),1),e=tl(),null!==t&&(vt(t,1,e),il(t,e));break}}t=t.return}}function Tl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Ac===e&&(Pc&n)===n&&(4===Lc||3===Lc&&(130023424&Pc)===Pc&&500>Xe()-zc?fl(e,0):jc|=n),il(e,t)}function Cl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tl();null!==(e=Ns(e,t))&&(vt(e,t,n),il(e,n))}function xl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cl(e,n)}function Nl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cl(e,n)}function Al(e,t){return We(e,t)}function Rl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(e,t,n,r){return new Rl(e,t,n,r)}function Dl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ol(e,t){var n=e.alternate;return null===n?((n=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Dl(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case S:return Ml(n.children,i,a,t);case E:o=8,i|=8;break;case k:return(e=Pl(12,n,t,2|i)).elementType=k,e.lanes=a,e;case N:return(e=Pl(13,n,t,i)).elementType=N,e.lanes=a,e;case A:return(e=Pl(19,n,t,i)).elementType=A,e.lanes=a,e;case D:return Ul(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:o=10;break e;case C:o=9;break e;case x:o=11;break e;case R:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pl(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ml(e,t,n,r){return(e=Pl(7,e,r,t)).lanes=n,e}function Ul(e,t,n,r){return(e=Pl(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return(e=Pl(6,e,null,t)).lanes=n,e}function jl(e,t,n){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,r,i,s,a,o,c){return e=new Vl(e,t,n,o,c),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pl(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(s),e}function zl(e){if(!e)return Ci;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function ql(e,t,n,r,i,s,a,o,c){return(e=Bl(n,r,!0,e,0,s,0,o,c)).context=zl(null),n=e.current,(s=Ds(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Os(n,s,i),e.current.lanes=i,vt(e,i,r),il(e,r),e}function Hl(e,t,n,r){var i=t.current,s=tl(),a=nl(i);return n=zl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ds(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Os(i,t,a))&&(rl(e,i,a,s),Ls(e,i,a)),a}function Gl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wl(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}Ec=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)wo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wo=!1,function(e,t,n){switch(t.tag){case 3:Ao(t),fs();break;case 5:sa(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(vs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(oa,1&oa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(Ti(oa,1&oa.current),null!==(e=Go(e,t,n))?e.sibling:null);Ti(oa,1&oa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(oa,oa.current),r)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return Go(e,t,n)}(e,t,n);wo=0!==(131072&e.flags)}else wo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var i=Ri(t,xi.current);Es(t,n),i=Sa(null,t,r,e,i,n);var a=Ea();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Rs(t),i.updater=Bs,t.stateNode=i,i._reactInternals=t,Gs(t,r,e,n),t=No(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),_o(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===R)return 14}return 2}(r),e=gs(r,e),i){case 0:t=Co(null,t,r,e,n);break e;case 1:t=xo(null,t,r,e,n);break e;case 11:t=Io(null,t,r,e,n);break e;case 14:t=So(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,xo(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Ao(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ps(e,t),Us(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ro(e,t,r,n,i=lo(Error(s(423)),t));break e}if(r!==i){t=Ro(e,t,r,n,i=lo(Error(s(424)),t));break e}for(rs=li(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Go(e,t,n);break e}_o(e,t,r,n)}t=t.child}return t;case 5:return sa(t),null===e&&ls(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),To(e,t),_o(e,t,o,n),t.child;case 6:return null===e&&ls(t),null;case 13:return Fo(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Js(t,null,r,n):_o(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Io(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return _o(e,t,t.pendingProps,n),t.child;case 8:case 12:return _o(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ti(vs,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ni.current){t=Go(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){o=a.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Ds(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ss(a.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ss(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}_o(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Es(t,n),r=r(i=ks(i)),t.flags|=1,_o(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),So(e,t,r,i=gs(r.type,i),n);case 15:return Eo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Ho(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Es(t,n),qs(t,r,i),Gs(t,r,i,n),No(null,t,r,!0,e,n);case 19:return qo(e,t,n);case 22:return ko(e,t,n)}throw Error(s(156,t.tag))};var Ql="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function Jl(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Gl(a);o.call(e)}}Hl(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Gl(a);s.call(e)}}var a=ql(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),hl(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Gl(c);o.call(e)}}var c=Bl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=c,e[pi]=c.current,zr(8===e.nodeType?e.parentNode:e),hl((function(){Hl(t,c,n,r)})),c}(n,t,e,i,r);return Gl(a)}Jl.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hl(e,t,null,null)},Jl.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hl((function(){Hl(null,e,null,null)})),t[pi]=null}},Jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ut(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),il(t,Xe()),0===(6&Nc)&&(qc=Xe()+500,zi()))}break;case 13:hl((function(){var t=Ns(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Wl(e,1)}},It=function(e){if(13===e.tag){var t=Ns(e,134217728);if(null!==t)rl(t,e,134217728,tl());Wl(e,134217728)}},St=function(e){if(13===e.tag){var t=nl(e),n=Ns(e,t);if(null!==n)rl(n,e,t,tl());Wl(e,t)}},Et=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ie=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));W(r),$(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=ul,Ne=hl;var tu={usingClientEntryPoint:!1,Events:[bi,wi,_i,Te,Ce,ul]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(s(299));var n=!1,r="",i=Ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return hl(e)},t.hydrate=function(e,t,n){if(!$l(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=ql(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jl(t)},t.render=function(e,t,n){if(!$l(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$l(e))throw Error(s(40));return!!e._reactRootContainer&&(hl((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ul,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$l(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:(e,t,n)=>{"use strict";var r=n(791),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,s={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!c.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=l,t.jsxs=l},117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,I=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)I.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===s[i]&&(s[i]=c[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:S.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var c=!1;if(null===e)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return a=a(c=e),e=""===s?"."+x(c,0):s,_(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(c=0,s=""===s?".":s+":",_(e))for(var l=0;l<e.length;l++){var u=s+x(o=e[l],l);c+=N(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(o=e.next()).done;)c+=N(o=o.value,t,i,u=s+x(o,l++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:S};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)I.call(t,l)&&!E.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{"use strict";e.exports=n(117)},184:(e,t,n)=>{"use strict";e.exports=n(374)},813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,c=e[o],l=o+1,u=e[l];if(0>s(c,n))l<i&&0>s(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[o]=n,r=o);else{if(!(l<i&&0>s(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var l=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function _(e){if(g=!1,w(e),!m)if(null!==r(l))m=!0,D(I);else{var t=r(u);null!==t&&O(_,t.startTime-e)}}function I(e,n){m=!1,g&&(g=!1,y(T),T=-1),p=!0;var s=f;try{for(w(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!N());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(l)&&i(l),w(n)}else i(l);d=r(l)}if(null!==d)var c=!0;else{var h=r(u);null!==h&&O(_,h.startTime-n),c=!1}return c}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,k=null,T=-1,C=5,x=-1;function N(){return!(t.unstable_now()-x<C)}function A(){if(null!==k){var e=t.unstable_now();x=e;var n=!0;try{n=k(!0,e)}finally{n?S():(E=!1,k=null)}}else E=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=A,S=function(){P.postMessage(null)}}else S=function(){v(A,0)};function D(e){k=e,E||(E=!0,S())}function O(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(I))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(l)&&e===r(u)&&(g?(y(T),T=-1):g=!0,O(_,s-a))):(e.sortIndex=o,n(l,e),m||p||(m=!0,D(I))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{"use strict";e.exports=n(813)},628:(e,t,n)=>{var r={"./all.jpg":799,"./bird.jpg":440,"./cat.jpg":271,"./dog.jpg":573,"./fish.jpg":170,"./reptiles.jpg":145,"./rodents.jpg":253};function i(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=s,e.exports=i,i.id=628},799:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/all.92d9ebf4e840b0ad1e55.jpg"},440:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/bird.eee181ebc037dfcfd292.jpg"},271:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/cat.67f0701f7c635a965b0f.jpg"},573:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/dog.dd1e98e3da1d7942d641.jpg"},170:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/fish.24fd24750d5a65699614.jpg"},145:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/reptiles.0772a93dc3a1f1546a40.jpg"},253:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/rodents.e82a1cda586352560b3d.jpg"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/";var r={};(()=>{"use strict";n.d(r,{_:()=>$C});var e={};n.r(e),n.d(e,{FirebaseError:()=>ot,SDK_VERSION:()=>mn,_DEFAULT_ENTRY_NAME:()=>$t,_addComponent:()=>rn,_addOrOverwriteComponent:()=>sn,_apps:()=>en,_clearComponents:()=>hn,_components:()=>nn,_getProvider:()=>on,_isFirebaseApp:()=>ln,_isFirebaseServerApp:()=>un,_registerComponent:()=>an,_removeServiceInstance:()=>cn,_serverApps:()=>tn,deleteApp:()=>wn,getApp:()=>yn,getApps:()=>bn,initializeApp:()=>gn,initializeServerApp:()=>vn,onLog:()=>In,registerVersion:()=>_n,setLogLevel:()=>Sn});var t,i=n(791),s=n.t(i,2),a=n(250),o=n(164),c=n.t(o,2);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const u="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,o=s.history,c=t.Pop,d=null,g=v();function v(){return(o.state||{idx:null}).idx}function y(){c=t.Pop;let e=v(),n=null==e?null:e-g;g=e,d&&d({action:c,location:w.location,delta:n})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:m(e);return h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,o.replaceState(l({},o.state,{idx:g}),""));let w={get action(){return c},get location(){return e(s,o)},listen(e){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(u,y),d=e,()=>{s.removeEventListener(u,y),d=null}},createHref:e=>n(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){c=t.Push;let i=p(w.location,e,n);r&&r(i,e),g=v()+1;let l=f(i,g),u=w.createHref(i);try{o.pushState(l,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;s.location.assign(u)}a&&d&&d({action:c,location:w.location,delta:1})},replace:function(e,n){c=t.Replace;let i=p(w.location,e,n);r&&r(i,e),g=v();let s=f(i,g),l=w.createHref(i);o.replaceState(s,"",l),a&&d&&d({action:c,location:w.location,delta:0})},go:e=>o.go(e)};return w}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){void 0===n&&(n="/");let r=D(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;let i=w(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let a=0;null==s&&a<i.length;++a)s=A(i[a],P(r));return s}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(h(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=F([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),w(e.children,t,c,o)),(null!=e.path||e.index)&&t.push({path:o,score:N(o,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of _(e.path))i(e,t,r);else i(e,t)})),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=_(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const I=/^:\w+$/,S=3,E=2,k=1,T=10,C=-2,x=e=>"*"===e;function N(e,t){let n=e.split("/"),r=n.length;return n.some(x)&&(r+=C),t&&(r+=E),n.filter((e=>!x(e))).reduce(((e,t)=>e+(I.test(t)?S:""===t?k:T)),r)}function A(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let e=n[a],o=a===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c);if(!l)return null;Object.assign(r,l.params);let u=e.route;s.push({params:r,pathname:F([i,l.pathname]),pathnameBase:j(F([i,l.pathnameBase])),route:u}),"/"!==l.pathnameBase&&(i=F([i,l.pathnameBase]))}return s}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const c=o[n];return e[r]=i&&!c?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return d(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c||"",r),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function P(e){try{return decodeURI(e)}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function M(e){return L(e).map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase))}function U(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=g(e):(i=l({},e),h(!i.pathname||!i.pathname.includes("?"),O("?","pathname","search",i)),h(!i.pathname||!i.pathname.includes("#"),O("#","pathname","hash",i)),h(!i.search||!i.search.includes("#"),O("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else if(r){let e=t[t.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e.pop();i.pathname=t.join("/")}s="/"+e.join("/")}else{let e=t.length-1;if(o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?g(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:V(r),hash:B(i)}}(i,s),u=o&&"/"!==o&&o.endsWith("/"),d=(a||"."===o)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}const F=e=>e.join("/").replace(/\/\/+/g,"/"),j=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],H=(new Set(q),["get",...q]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}const K=i.createContext(null);const W=i.createContext(null);const Q=i.createContext(null);const Y=i.createContext(null);const J=i.createContext({outlet:null,matches:[],isDataRoute:!1});const X=i.createContext(null);function $(){return null!=i.useContext(Y)}function Z(){return $()||h(!1),i.useContext(Y).location}function ee(e){i.useContext(Q).static||i.useLayoutEffect(e)}function te(){let{isDataRoute:e}=i.useContext(J);return e?function(){let{router:e}=de(ue.UseNavigateStable),t=pe(he.UseNavigateStable),n=i.useRef(!1);ee((()=>{n.current=!0}));let r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,G({fromRouteId:t},i)))}),[e,t]);return r}():function(){$()||h(!1);let e=i.useContext(K),{basename:t,navigator:n}=i.useContext(Q),{matches:r}=i.useContext(J),{pathname:s}=Z(),a=JSON.stringify(M(r)),o=i.useRef(!1);return ee((()=>{o.current=!0})),i.useCallback((function(r,i){if(void 0===i&&(i={}),!o.current)return;if("number"===typeof r)return void n.go(r);let c=U(r,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(c.pathname="/"===c.pathname?t:F([t,c.pathname])),(i.replace?n.replace:n.push)(c,i.state,i)}),[t,n,a,s,e])}()}const ne=i.createContext(null);function re(e,t){let{relative:n}=void 0===t?{}:t,{matches:r}=i.useContext(J),{pathname:s}=Z(),a=JSON.stringify(M(r));return i.useMemo((()=>U(e,JSON.parse(a),s,"path"===n)),[e,a,s,n])}function ie(e,n,r){$()||h(!1);let{navigator:s}=i.useContext(Q),{matches:a}=i.useContext(J),o=a[a.length-1],c=o?o.params:{},l=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,d=Z();if(n){var f;let e="string"===typeof n?g(n):n;"/"===l||(null==(f=e.pathname)?void 0:f.startsWith(l))||h(!1),u=e}else u=d;let p=u.pathname||"/",m=b(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});let v=le(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:F([l,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:F([l,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,r);return n&&v?i.createElement(Y.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:t.Pop}},v):v}function se(){let e=function(){var e;let t=i.useContext(X),n=fe(he.UseRouteError),r=pe(he.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const ae=i.createElement(se,null);class oe extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?i.createElement(J.Provider,{value:this.props.routeContext},i.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(K);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(J.Provider,{value:t},r)}function le(e,t,n){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var s;if(null==(s=n)||!s.errors)return null;e=n.matches}let a=e,o=null==(r=n)?void 0:r.errors;if(null!=o){let e=a.findIndex((e=>e.route.id&&(null==o?void 0:o[e.route.id])));e>=0||h(!1),a=a.slice(0,Math.min(a.length,e+1))}return a.reduceRight(((e,r,s)=>{let c=r.route.id?null==o?void 0:o[r.route.id]:null,l=null;n&&(l=r.route.errorElement||ae);let u=t.concat(a.slice(0,s+1)),h=()=>{let t;return t=c?l:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ce,{match:r,routeContext:{outlet:e,matches:u,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(oe,{location:n.location,revalidation:n.revalidation,component:l,error:c,children:h(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):h()}),null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function de(e){let t=i.useContext(K);return t||h(!1),t}function fe(e){let t=i.useContext(W);return t||h(!1),t}function pe(e){let t=function(e){let t=i.useContext(J);return t||h(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}s.startTransition;function me(e){let{to:t,replace:n,state:r,relative:s}=e;$()||h(!1);let{matches:a}=i.useContext(J),{pathname:o}=Z(),c=te(),l=U(t,M(a),o,"path"===s),u=JSON.stringify(l);return i.useEffect((()=>c(JSON.parse(u),{replace:n,state:r,relative:s})),[c,u,s,n,r]),null}function ge(e){return function(e){let t=i.useContext(J).outlet;return t?i.createElement(ne.Provider,{value:e},t):t}(e.context)}function ve(e){h(!1)}function ye(e){let{basename:n="/",children:r=null,location:s,navigationType:a=t.Pop,navigator:o,static:c=!1}=e;$()&&h(!1);let l=n.replace(/^\/*/,"/"),u=i.useMemo((()=>({basename:l,navigator:o,static:c})),[l,o,c]);"string"===typeof s&&(s=g(s));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:v="default"}=s,y=i.useMemo((()=>{let e=D(d,l);return null==e?null:{location:{pathname:e,search:f,hash:p,state:m,key:v},navigationType:a}}),[l,d,f,p,m,v,a]);return null==y?null:i.createElement(Q.Provider,{value:u},i.createElement(Y.Provider,{children:r,value:y}))}function be(e){let{children:t,location:n}=e;return ie(we(t),n)}new Promise((()=>{}));i.Component;function we(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,we(e.props.children,s));e.type!==ve&&h(!1),e.props.index&&e.props.children&&h(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=we(e.props.children,s)),n.push(a)})),n}function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}function Ie(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Ee=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"];const ke=i.createContext({isTransitioning:!1});new Map;const Te=s.startTransition;c.flushSync;function Ce(e){let{basename:t,children:n,future:r,window:s}=e,a=i.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),v((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:m(t)}),null,o)));let c=a.current,[l,u]=i.useState({action:c.action,location:c.location}),{v7_startTransition:h}=r||{},d=i.useCallback((e=>{h&&Te?Te((()=>u(e))):u(e)}),[u,h]);return i.useLayoutEffect((()=>c.listen(d)),[c,d]),i.createElement(ye,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:c})}const xe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=i.forwardRef((function(e,t){let n,{onClick:r,relative:s,reloadDocument:a,replace:o,state:c,target:l,to:u,preventScrollReset:d,unstable_viewTransition:f}=e,p=Ie(e,Se),{basename:g}=i.useContext(Q),v=!1;if("string"===typeof u&&Ne.test(u)&&(n=u,xe))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=D(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(w){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;$()||h(!1);let{basename:r,navigator:s}=i.useContext(Q),{hash:a,pathname:o,search:c}=re(e,{relative:n}),l=o;return"/"!==r&&(l="/"===o?r:F([r,o])),s.createHref({pathname:l,search:c,hash:a})}(u,{relative:s}),b=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,unstable_viewTransition:c}=void 0===t?{}:t,l=te(),u=Z(),h=re(e,{relative:o});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(h);l(e,{replace:n,state:s,preventScrollReset:a,relative:o,unstable_viewTransition:c})}}),[u,l,h,r,s,n,e,a,o,c])}(u,{replace:o,state:c,target:l,preventScrollReset:d,relative:s,unstable_viewTransition:f});return i.createElement("a",_e({},p,{href:n||y,onClick:v||a?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:l}))}));const Re=i.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:s="",end:a=!1,style:o,to:c,unstable_viewTransition:l,children:u}=e,d=Ie(e,Ee),f=re(c,{relative:d.relative}),p=Z(),m=i.useContext(W),{navigator:g}=i.useContext(Q),v=null!=m&&function(e,t){void 0===t&&(t={});let n=i.useContext(ke);null==n&&h(!1);let{basename:r}=Oe(Pe.useViewTransitionState),s=re(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=D(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=D(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=R(s.pathname,o)||null!=R(s.pathname,a)}(f)&&!0===l,y=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(b=b.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase());const _="/"!==y&&y.endsWith("/")?y.length-1:y.length;let I,S=b===y||!a&&b.startsWith(y)&&"/"===b.charAt(_),E=null!=w&&(w===y||!a&&w.startsWith(y)&&"/"===w.charAt(y.length)),k={isActive:S,isPending:E,isTransitioning:v},T=S?n:void 0;I="function"===typeof s?s(k):[s,S?"active":null,E?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let C="function"===typeof o?o(k):o;return i.createElement(Ae,_e({},d,{"aria-current":T,className:I,ref:t,style:C,to:c,unstable_viewTransition:l}),"function"===typeof u?u(k):u)}));var Pe,De;function Oe(e){let t=i.useContext(K);return t||h(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(De||(De={}));const Le="/login/",Me="/chat",Ue="product/:productId",Fe="/addProduct",je="/profile",Ve="/",Be=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ze={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,c=o?e[i+2]:0,l=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|c>>6,d=63&c;o||(d=64,s||(h=64)),r.push(n[l],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Be(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new qe;const c=t<<2|s>>4;if(r.push(c),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class qe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const He=function(e){return function(e){const t=Be(e);return ze.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ge=function(e){try{return ze.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ke(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ke(e[n],t[n]));return e}const We=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Qe=()=>{try{return We()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Ge(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Ye=e=>{const t=(e=>{var t,n;return null===(n=null===(t=Qe())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Je=()=>{var e;return null===(e=Qe())||void 0===e?void 0:e.config};class Xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function $e(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[He(JSON.stringify({alg:"none",type:"JWT"})),He(JSON.stringify(s)),""].join(".")}function Ze(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function et(){var e;const t=null===(e=Qe())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function tt(){return"object"===typeof self&&self.self===self}function nt(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function rt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function it(){const e=Ze();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function st(){return!et()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function at(){try{return"object"===typeof indexedDB}catch(e){return!1}}class ot extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ct.prototype.create)}}class ct{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(lt,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new ot(n,s,t)}}const lt=/\{\$([^}]+)}/g;function ut(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ht(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(dt(n)&&dt(s)){if(!ht(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dt(e){return null!==e&&"object"===typeof e}function ft(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function pt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function mt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function gt(e,t){const n=new vt(e,t);return n.subscribe.bind(n)}class vt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=yt),void 0===r.error&&(r.error=yt),void 0===r.complete&&(r.complete=yt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function yt(){}function bt(e){return e&&e._delegate?e._delegate:e}class wt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _t="[DEFAULT]";class It{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Xe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:_t})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===_t?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t;return this.component?this.component.multipleInstances?e:_t:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class St{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new It(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Et=[];var kt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(kt||(kt={}));const Tt={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},Ct=kt.INFO,xt={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},Nt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=xt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class At{constructor(e){this.name=e,this._logLevel=Ct,this._logHandler=Nt,this._userLogHandler=null,Et.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in kt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Tt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const Rt=(e,t)=>t.some((t=>e instanceof t));let Pt,Dt;const Ot=new WeakMap,Lt=new WeakMap,Mt=new WeakMap,Ut=new WeakMap,Ft=new WeakMap;let jt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Lt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Mt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Vt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Dt||(Dt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(qt(this),n),zt(Ot.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return zt(e.apply(qt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(qt(this),t,...r);return Mt.set(s,t.sort?t.sort():[t]),zt(s)}}function Bt(e){return"function"===typeof e?Vt(e):(e instanceof IDBTransaction&&function(e){if(Lt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Lt.set(e,t)}(e),Rt(e,Pt||(Pt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,jt):e)}function zt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(zt(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Ot.set(t,e)})).catch((()=>{})),Ft.set(t,e),t}(e);if(Ut.has(e))return Ut.get(e);const t=Bt(e);return t!==e&&(Ut.set(e,t),Ft.set(t,e)),t}const qt=e=>Ft.get(e);const Ht=["get","getKey","getAll","getAllKeys","count"],Gt=["put","add","delete","clear"],Kt=new Map;function Wt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Kt.get(t))return Kt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Gt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ht.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),c=1;c<a;c++)o[c-1]=arguments[c];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return Kt.set(t,s),s}jt=(e=>({...e,get:(t,n,r)=>Wt(t,n)||e.get(t,n,r),has:(t,n)=>!!Wt(t,n)||e.has(t,n)}))(jt);class Qt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Yt="@firebase/app",Jt="0.10.0",Xt=new At("@firebase/app"),$t="[DEFAULT]",Zt={[Yt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},en=new Map,tn=new Map,nn=new Map;function rn(e,t){try{e.container.addComponent(t)}catch(n){Xt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function sn(e,t){e.container.addOrOverwriteComponent(t)}function an(e){const t=e.name;if(nn.has(t))return Xt.debug("There were multiple attempts to register component ".concat(t,".")),!1;nn.set(t,e);for(const n of en.values())rn(n,e);for(const n of tn.values())rn(n,e);return!0}function on(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function cn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$t;on(e,t).clearInstance(n)}function ln(e){return void 0!==e.options}function un(e){return void 0!==e.settings}function hn(){nn.clear()}const dn=new ct("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class fn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new wt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dn.create("app-deleted",{appName:this._name})}}class pn extends fn{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,s={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,s,r);else{super(e.options,s,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,_n(Yt,Jt,"serverapp")}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){wn(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw dn.create("server-app-deleted")}}const mn="10.10.0";function gn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:$t,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw dn.create("bad-app-name",{appName:String(i)});if(n||(n=Je()),!n)throw dn.create("no-options");const s=en.get(i);if(s){if(ht(n,s.options)&&ht(r,s.config))return s;throw dn.create("duplicate-app",{appName:i})}const a=new St(i);for(const c of nn.values())a.addComponent(c);const o=new fn(n,r,a);return en.set(i,o),o}function vn(e,t){if(tt())throw dn.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=ln(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw dn.create("finalization-registry-not-supported",{});const i=""+(s=JSON.stringify(r),[...s].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0));var s;const a=tn.get(i);if(a)return a.incRefCount(t.releaseOnDeref),a;const o=new St(i);for(const l of nn.values())o.addComponent(l);const c=new pn(n,t,i,o);return tn.set(i,c),c}function yn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t;const t=en.get(e);if(!t&&e===$t&&Je())return gn();if(!t)throw dn.create("no-app",{appName:e});return t}function bn(){return Array.from(en.values())}async function wn(e){let t=!1;const n=e.name;if(en.has(n))t=!0,en.delete(n);else if(tn.has(n)){e.decRefCount()<=0&&(tn.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function _n(e,t,n){var r;let i=null!==(r=Zt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Xt.warn(e.join(" "))}an(new wt("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function In(e,t){if(null!==e&&"function"!==typeof e)throw dn.create("invalid-log-argument");!function(e,t){for(const n of Et){let r=null;t&&t.level&&(r=Tt[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];const o=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:kt[n].toLowerCase(),message:o,args:s,type:t.name})}}}(e,t)}function Sn(e){var t;t=e,Et.forEach((e=>{e.setLogLevel(t)}))}const En="firebase-heartbeat-database",kn=1,Tn="firebase-heartbeat-store";let Cn=null;function xn(){return Cn||(Cn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=zt(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(zt(a.result),e.oldVersion,e.newVersion,zt(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}(En,kn,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Tn)}catch(n){console.warn(n)}}}).catch((e=>{throw dn.create("idb-open",{originalErrorMessage:e.message})}))),Cn}async function Nn(e,t){try{const n=(await xn()).transaction(Tn,"readwrite"),r=n.objectStore(Tn);await r.put(t,An(e)),await n.done}catch(n){if(n instanceof ot)Xt.warn(n.message);else{const e=dn.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Xt.warn(e.message)}}}function An(e){return"".concat(e.name,"!").concat(e.options.appId)}class Rn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Dn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Pn();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Pn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),On(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),On(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=He(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Pn(){return(new Date).toISOString().substring(0,10)}class Dn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!at()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await xn()).transaction(Tn),n=await t.objectStore(Tn).get(An(e));return await t.done,n}catch(t){if(t instanceof ot)Xt.warn(t.message);else{const e=dn.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Xt.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Nn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Nn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function On(e){return He(JSON.stringify({version:2,heartbeats:e})).length}var Ln;Ln="",an(new wt("platform-logger",(e=>new Qt(e)),"PRIVATE")),an(new wt("heartbeat",(e=>new Rn(e)),"PRIVATE")),_n(Yt,Jt,Ln),_n(Yt,Jt,"esm2017"),_n("fire-js","");function Mn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Un={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Fn="EMAIL_SIGNIN",jn="PASSWORD_RESET",Vn="RECOVER_EMAIL",Bn="REVERT_SECOND_FACTOR_ADDITION",zn="VERIFY_AND_CHANGE_EMAIL",qn="VERIFY_EMAIL";function Hn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Gn=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Kn=Hn,Wn=new ct("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qn=new At("@firebase/auth");function Yn(e){if(Qn.logLevel<=kt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Qn.error("Auth (".concat(mn,"): ").concat(e),...n)}}function Jn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw tr(e,...n)}function Xn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return tr(e,...n)}function $n(e,t,n){const r=Object.assign(Object.assign({},Kn()),{[t]:n});return new ct("auth","Firebase",r).create(t,{appName:e.name})}function Zn(e){return $n(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function er(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Jn(e,"argument-error"),$n(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function tr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Wn.create(e,...n)}function nr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw tr(t,...r)}}function rr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Yn(t),new Error(t)}function ir(e,t){e||rr(t)}function sr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ar(){return"http:"===or()||"https:"===or()}function or(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class cr{constructor(e,t){this.shortDelay=e,this.longDelay=t,ir(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())||rt()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ar()||nt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function lr(e,t){ir(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class ur{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},dr=new cr(3e4,6e4);function fr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function pr(e,t,n,r){return mr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=ft(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),ur.fetch()(vr(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))}))}async function mr(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},hr),t);try{const t=new br(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw wr(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw wr(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw wr(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw wr(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw $n(e,o,a);Jn(e,o)}}catch(i){if(i instanceof ot)throw i;Jn(e,"network-request-failed",{message:String(i)})}}async function gr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await pr(e,t,n,r,i);return"mfaPendingCredential"in s&&Jn(e,"multi-factor-auth-required",{_serverResponse:s}),s}function vr(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?lr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function yr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class br{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Xn(this.auth,"network-request-failed"))),dr.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function wr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xn(e,t,r);return i.customData._tokenResponse=n,i}function _r(e){return void 0!==e&&void 0!==e.getResponse}function Ir(e){return void 0!==e&&void 0!==e.enterprise}class Sr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return yr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Er(e,t){return pr(e,"GET","/v2/recaptchaConfig",fr(e,t))}async function kr(e,t){return pr(e,"POST","/v1/accounts:lookup",t)}function Tr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Cr(e){return 1e3*Number(e)}function xr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Yn("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ge(n);return e?JSON.parse(e):(Yn("Failed to decode base64 JWT payload"),null)}catch(i){return Yn("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function Nr(e){const t=xr(e);return nr(t,"internal-error"),nr("undefined"!==typeof t.exp,"internal-error"),nr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Ar(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof ot&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Rr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Pr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tr(this.lastLoginAt),this.creationTime=Tr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Dr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Ar(e,kr(n,{idToken:r}));nr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Or(s.providerUserInfo):[],o=(c=e.providerData,l=a,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Pr(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function Or(e){return e.map((e=>{var{providerId:t}=e,n=Mn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Lr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){nr(e.idToken,"internal-error"),nr("undefined"!==typeof e.idToken,"internal-error"),nr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Nr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){nr(0!==e.length,"internal-error");const t=Nr(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(nr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await mr(e,{},(async()=>{const n=ft({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=vr(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ur.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Lr;return n&&(nr("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(nr("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(nr("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lr,this.toJSON())}_performRefresh(){return rr("not implemented")}}function Mr(e,t){nr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ur{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Mn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Pr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ar(this,this.stsTokenManager.getToken(this.auth,e));return nr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=bt(e),r=await n.getIdToken(t),i=xr(r);nr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Tr(Cr(i.auth_time)),issuedAtTime:Tr(Cr(i.iat)),expirationTime:Tr(Cr(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=bt(e);await Dr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(nr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ur(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){nr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Dr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(un(this.auth.app))return Promise.reject(Zn(this.auth));const e=await this.getIdToken();return await Ar(this,async function(e,t){return pr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:I}=t;nr(y&&I,e,"internal-error");const S=Lr.fromJSON(this.name,I);nr("string"===typeof y,e,"internal-error"),Mr(u,e.name),Mr(h,e.name),nr("boolean"===typeof b,e,"internal-error"),nr("boolean"===typeof w,e,"internal-error"),Mr(d,e.name),Mr(f,e.name),Mr(p,e.name),Mr(m,e.name),Mr(g,e.name),Mr(v,e.name);const E=new Ur({uid:y,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(E.providerData=_.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Lr;r.updateFromServerResponse(t);const i=new Ur({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Dr(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];nr(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Or(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Lr;a.updateFromIdToken(n);const o=new Ur({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Pr(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,c),o}}const Fr=new Map;function jr(e){ir(e instanceof Function,"Expected a class definition");let t=Fr.get(e);return t?(ir(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Fr.set(e,t),t)}class Vr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Vr.type="NONE";const Br=Vr;function zr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class qr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=zr(this.userKey,r.apiKey,i),this.fullPersistenceKey=zr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ur._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new qr(jr(Br),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||jr(Br);const s=zr(n,e.config.apiKey,e.name);let a=null;for(const l of t)try{const t=await l._get(s);if(t){const n=Ur._fromJSON(e,t);l!==i&&(a=n),i=l;break}}catch(c){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(c){}}))),new qr(i,e,n)):new qr(i,e,n)}}function Hr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Qr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Gr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Jr(t))return"Blackberry";if(Xr(t))return"Webos";if(Kr(t))return"Safari";if((t.includes("chrome/")||Wr(t))&&!t.includes("edge/"))return"Chrome";if(Yr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Gr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/firefox\//i.test(e)}function Kr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/crios\//i.test(e)}function Qr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/iemobile/i.test(e)}function Yr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/android/i.test(e)}function Jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/blackberry/i.test(e)}function Xr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/webos/i.test(e)}function $r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Zr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return $r(e)||Yr(e)||Xr(e)||Jr(e)||/windows phone/i.test(e)||Qr(e)}function ei(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Hr(Ze());break;case"Worker":t="".concat(Hr(Ze()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(mn,"/").concat(r)}class ti{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class ni{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class ri{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new si(this),this.idTokenSubscription=new si(this),this.beforeStateQueue=new ti(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=jr(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await qr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await kr(this,{idToken:e}),n=await Ur._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(un(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return nr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Dr(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(un(this.app))return Promise.reject(Zn(this));const t=e?bt(e):null;return t&&nr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&nr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return un(this.app)?Promise.reject(Zn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return un(this.app)?Promise.reject(Zn(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(jr(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return pr(e,"GET","/v2/passwordPolicy",fr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ni(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ct("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return pr(e,"POST","/v2/accounts:revokeToken",fr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&jr(e)||this._popupRedirectResolver;nr(t,this,"argument-error"),this.redirectPersistenceManager=await qr.create(this,[jr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(nr(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return nr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ei(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Qn.logLevel<=kt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Qn.warn("Auth (".concat(mn,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function ii(e){return bt(e)}class si{constructor(e){this.auth=e,this.observer=null,this.addObserver=gt((e=>this.observer=e))}get next(){return nr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ai={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oi(e){return ai.loadJS(e)}function ci(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class li{constructor(e){this.type="recaptcha-enterprise",this.auth=ii(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Ir(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Er(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Sr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Ir(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=ai.recaptchaEnterpriseScript;0!==t.length&&(t+=i),oi(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function ui(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new li(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function hi(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ui(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await ui(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function di(e,t,n){const r=ii(e);nr(r._canInitEmulator,r,"emulator-config-failed"),nr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=fi(t),{host:a,port:o}=function(e){const t=fi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:pi(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:pi(t)}}}(t),c=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function fi(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function pi(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class mi{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,t){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}async function gi(e,t){return pr(e,"POST","/v1/accounts:resetPassword",fr(e,t))}async function vi(e,t){return pr(e,"POST","/v1/accounts:signUp",t)}async function yi(e,t){return gr(e,"POST","/v1/accounts:signInWithPassword",fr(e,t))}async function bi(e,t){return pr(e,"POST","/v1/accounts:sendOobCode",fr(e,t))}async function wi(e,t){return bi(e,t)}async function _i(e,t){return bi(e,t)}class Ii extends mi{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ii(e,t,"password")}static _fromEmailAndCode(e,t){return new Ii(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return hi(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",yi);case"emailLink":return async function(e,t){return gr(e,"POST","/v1/accounts:signInWithEmailLink",fr(e,t))}(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return hi(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vi);case"emailLink":return async function(e,t){return gr(e,"POST","/v1/accounts:signInWithEmailLink",fr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Si(e,t){return gr(e,"POST","/v1/accounts:signInWithIdp",fr(e,t))}class Ei extends mi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ei(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Jn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Mn(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Ei(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Si(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Si(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Si(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ft(t)}return e}}const ki={USER_NOT_FOUND:"user-not-found"};class Ti extends mi{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ti({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ti({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return gr(e,"POST","/v1/accounts:signInWithPhoneNumber",fr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await gr(e,"POST","/v1/accounts:signInWithPhoneNumber",fr(e,t));if(n.temporaryProof)throw wr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return gr(e,"POST","/v1/accounts:signInWithPhoneNumber",fr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ki)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ti({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Ci{constructor(e){var t,n,r,i,s,a;const o=pt(mt(e)),c=null!==(t=o.apiKey)&&void 0!==t?t:null,l=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);nr(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=pt(mt(e)).link,n=t?pt(mt(t)).deep_link_id:null,r=pt(mt(e)).deep_link_id;return(r?pt(mt(r)).link:null)||r||n||t||e}(e);try{return new Ci(t)}catch(n){return null}}}class xi{constructor(){this.providerId=xi.PROVIDER_ID}static credential(e,t){return Ii._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ci.parseLink(t);return nr(n,"argument-error"),Ii._fromEmailAndCode(e,n.code,n.tenantId)}}xi.PROVIDER_ID="password",xi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",xi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ni{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ai extends Ni{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ri extends Ai{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return nr("providerId"in t&&"signInMethod"in t,"argument-error"),Ei._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return nr(e.idToken||e.accessToken,"argument-error"),Ei._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ri.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ri.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:a,providerId:o}=t;if(!r&&!i&&!n&&!s)return null;if(!o)return null;try{return new Ri(o)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:s})}catch(c){return null}}}class Pi extends Ai{constructor(){super("facebook.com")}static credential(e){return Ei._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Pi.credential(t.oauthAccessToken)}catch(n){return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com",Pi.PROVIDER_ID="facebook.com";class Di extends Ai{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ei._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Di.credential(n,r)}catch(i){return null}}}Di.GOOGLE_SIGN_IN_METHOD="google.com",Di.PROVIDER_ID="google.com";class Oi extends Ai{constructor(){super("github.com")}static credential(e){return Ei._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Oi.credential(t.oauthAccessToken)}catch(n){return null}}}Oi.GITHUB_SIGN_IN_METHOD="github.com",Oi.PROVIDER_ID="github.com";class Li extends mi{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Si(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Si(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Si(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Li(n,i):null}static _create(e,t){return new Li(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Mi extends Ni{constructor(e){nr(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Mi.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Mi.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Li.fromJSON(e);return nr(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return Li._create(r,n)}catch(i){return null}}}class Ui extends Ai{constructor(){super("twitter.com")}static credential(e,t){return Ei._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ui.credential(n,r)}catch(i){return null}}}async function Fi(e,t){return gr(e,"POST","/v1/accounts:signUp",fr(e,t))}Ui.TWITTER_SIGN_IN_METHOD="twitter.com",Ui.PROVIDER_ID="twitter.com";class ji{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Ur._fromIdTokenResponse(e,n,r),s=Vi(n);return new ji({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Vi(n);return new ji({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Vi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Bi extends ot{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Bi.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Bi(e,t,n,r)}}function zi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Bi._fromErrorAndOperation(e,n,t,r);throw n}))}function qi(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Hi(e,t){const n=bt(e);await Ki(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return pr(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=qi(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Gi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Ar(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ji._forOperation(e,"link",r)}async function Ki(e,t,n){await Dr(t);const r=!1===e?"provider-already-linked":"no-such-provider";nr(qi(t.providerData).has(n)===e,t.auth,r)}async function Wi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(un(r.app))return Promise.reject(Zn(r));const i="reauthenticate";try{const s=await Ar(e,zi(r,i,t,e),n);nr(s.idToken,r,"internal-error");const a=xr(s.idToken);nr(a,r,"internal-error");const{sub:o}=a;return nr(e.uid===o,r,"user-mismatch"),ji._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&Jn(r,"user-mismatch"),s}}async function Qi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(un(e.app))return Promise.reject(Zn(e));const r="signIn",i=await zi(e,r,t),s=await ji._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Yi(e,t){return Qi(ii(e),t)}async function Ji(e,t){const n=bt(e);return await Ki(!1,n,t.providerId),Gi(n,t)}async function Xi(e,t){return Wi(bt(e),t)}async function $i(e,t){if(un(e.app))return Promise.reject(Zn(e));const n=ii(e),r=await async function(e,t){return gr(e,"POST","/v1/accounts:signInWithCustomToken",fr(e,t))}(n,{token:t,returnSecureToken:!0}),i=await ji._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Zi{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?es._fromServerResponse(e,t):"totpInfo"in t?ts._fromServerResponse(e,t):Jn(e,"internal-error")}}class es extends Zi{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new es(t)}}class ts extends Zi{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new ts(t)}}function ns(e,t,n){var r;nr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),nr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(nr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(nr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function rs(e){const t=ii(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function is(e,t){await async function(e,t){return pr(e,"POST","/v1/accounts:update",fr(e,t))}(bt(e),{oobCode:t})}async function ss(e,t){const n=bt(e),r=await gi(n,{oobCode:t}),i=r.requestType;switch(nr(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":nr(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":nr(r.mfaInfo,n,"internal-error");default:nr(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Zi._fromServerResponse(ii(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function as(e,t){const n={identifier:t,continueUri:ar()?sr():"http://localhost"},{signinMethods:r}=await async function(e,t){return pr(e,"POST","/v1/accounts:createAuthUri",fr(e,t))}(bt(e),n);return r||[]}async function os(e,t){const n=bt(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&ns(n.auth,r,t);const{email:i}=await async function(e,t){return bi(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function cs(e,t,n){const r=bt(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&ns(r.auth,i,n);const{email:s}=await async function(e,t){return bi(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function ls(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=bt(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await Ar(i,async function(e,t){return pr(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}async function us(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await Ar(e,async function(e,t){return pr(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}class hs{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class ds extends hs{constructor(e,t,n,r){super(e,t,n),this.username=r}}class fs extends hs{constructor(e,t){super(e,"facebook.com",t)}}class ps extends ds{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class ms extends hs{constructor(e,t){super(e,"google.com",t)}}class gs extends ds{constructor(e,t,n){super(e,"twitter.com",t,n)}}function vs(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=xr(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new hs(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new fs(s,i);case"github.com":return new ps(s,i);case"google.com":return new ms(s,i);case"twitter.com":return new gs(s,i,e.screenName||null);case"custom":case"anonymous":return new hs(s,null);default:return new hs(s,r,i)}}(n)}class ys{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new ys("enroll",e,t)}static _fromMfaPendingCredential(e){return new ys("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return ys._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return ys._fromIdtoken(e.multiFactorSession.idToken)}return null}}class bs{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=ii(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Zi._fromServerResponse(n,e)));nr(r.mfaPendingCredential,n,"internal-error");const s=ys._fromMfaPendingCredential(r.mfaPendingCredential);return new bs(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const a=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await ji._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return nr(t.user,n,"internal-error"),ji._forOperation(t.user,t.operationType,a);default:Jn(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class ws{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Zi._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new ws(e)}async getSession(){return ys._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await Ar(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Ar(this.user,function(e,t){return pr(e,"POST","/v2/accounts/mfaEnrollment:withdraw",fr(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(r){throw r}}}const _s=new WeakMap;const Is="__sak";class Ss{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Is,"1"),this.storage.removeItem(Is),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Es extends Ss{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Ze();return Kr(e)||$r(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Zr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);it()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Es.type="LOCAL";const ks=Es;class Ts extends Ss{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ts.type="SESSION";const Cs=Ts;class xs{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new xs(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ns(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}xs.receivers=[];class As{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const c=Ns("",20);r.port1.start();const l=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(l),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Rs(){return window}function Ps(){return"undefined"!==typeof Rs().WorkerGlobalScope&&"function"===typeof Rs().importScripts}const Ds="firebaseLocalStorageDb",Os="firebaseLocalStorage",Ls="fbase_key";class Ms{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Us(e,t){return e.transaction([Os],t?"readwrite":"readonly").objectStore(Os)}function Fs(){const e=indexedDB.open(Ds,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Os,{keyPath:Ls})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Os)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ds);return new Ms(e).toPromise()}(),t(await Fs()))}))}))}async function js(e,t,n){const r=Us(e,!0).put({[Ls]:t,value:n});return new Ms(r).toPromise()}function Vs(e,t){const n=Us(e,!0).delete(t);return new Ms(n).toPromise()}class Bs{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Fs()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ps()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xs._getInstance(Ps()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new As(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fs();return await js(e,Is,"1"),await Vs(e,Is),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>js(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Us(e,!1).get(t),r=await new Ms(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Vs(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Us(e,!1).getAll();return new Ms(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Bs.type="LOCAL";const zs=Bs;const qs=1e12;class Hs{constructor(e){this.auth=e,this.counter=qs,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Gs(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||qs;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||qs;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||qs;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Gs{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;nr(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ks=ci("rcb"),Ws=new cr(3e4,6e4);class Qs{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Rs().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return nr(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&_r(Rs().grecaptcha)?Promise.resolve(Rs().grecaptcha):new Promise(((n,r)=>{const i=Rs().setTimeout((()=>{r(Xn(e,"network-request-failed"))}),Ws.get());Rs()[Ks]=()=>{Rs().clearTimeout(i),delete Rs()[Ks];const s=Rs().grecaptcha;if(!s||!_r(s))return void r(Xn(e,"internal-error"));const a=s.render;s.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};oi("".concat(ai.recaptchaV2Script,"?").concat(ft({onload:Ks,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Xn(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Rs().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ys{async load(e){return new Hs(e)}clearedOneInstance(){}}const Js="recaptcha",Xs={theme:"light",type:"image"};class $s{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Xs);this.parameters=n,this.type=Js,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ii(e),this.isInvisible="invisible"===this.parameters.size,nr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;nr(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ys:new Qs,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){nr(!this.parameters.sitekey,this.auth,"argument-error"),nr(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),nr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Rs()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){nr(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){nr(ar()&&!Ps(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await pr(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);nr(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return nr(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Zs{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Ti._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function ea(e,t,n){var r;const i=await n.verify();try{let s;if(nr("string"===typeof i,e,"argument-error"),nr(n.type===Js,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){nr("enroll"===t.type,e,"internal-error");const n=await function(e,t){return pr(e,"POST","/v2/accounts/mfaEnrollment:start",fr(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{nr("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;nr(n,e,"missing-multi-factor-info");const a=await function(e,t){return pr(e,"POST","/v2/accounts/mfaSignIn:start",fr(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return pr(e,"POST","/v1/accounts:sendVerificationCode",fr(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class ta{constructor(e){this.providerId=ta.PROVIDER_ID,this.auth=ii(e)}verifyPhoneNumber(e,t){return ea(this.auth,e,bt(t))}static credential(e,t){return Ti._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ta.credentialFromTaggedObject(t)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ti._fromTokenResponse(n,r):null}}function na(e,t){return t?jr(t):(nr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ta.PROVIDER_ID="phone",ta.PHONE_SIGN_IN_METHOD="phone";class ra extends mi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Si(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Si(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Si(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ia(e){return Qi(e.auth,new ra(e),e.bypassAuthState)}function sa(e){const{auth:t,user:n}=e;return nr(n,t,"internal-error"),Wi(n,new ra(e),e.bypassAuthState)}async function aa(e){const{auth:t,user:n}=e;return nr(n,t,"internal-error"),Gi(n,new ra(e),e.bypassAuthState)}class oa{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ia;case"linkViaPopup":case"linkViaRedirect":return aa;case"reauthViaPopup":case"reauthViaRedirect":return sa;default:Jn(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ca=new cr(2e3,1e4);class la extends oa{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,la.currentPopupAction&&la.currentPopupAction.cancel(),la.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return nr(e,this.auth,"internal-error"),e}async onExecution(){ir(1===this.filter.length,"Popup operations only handle one event");const e=Ns();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Xn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,la.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,ca.get())};e()}}la.currentPopupAction=null;const ua="pendingRedirect",ha=new Map;class da extends oa{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ha.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ga(t),r=ma(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}ha.set(this.auth._key(),e)}return this.bypassAuthState||ha.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function fa(e,t){return ma(e)._set(ga(t),"true")}function pa(e,t){ha.set(e._key(),t)}function ma(e){return jr(e._redirectPersistence)}function ga(e){return zr(ua,e.config.apiKey,e.name)}function va(e,t,n){return async function(e,t,n){if(un(e.app))return Promise.reject(Zn(e));const r=ii(e);er(e,t,Ni),await r._initializationPromise;const i=na(r,n);return await fa(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function ya(e,t,n){return async function(e,t,n){const r=bt(e);if(er(r.auth,t,Ni),un(r.auth.app))return Promise.reject(Zn(r.auth));await r.auth._initializationPromise;const i=na(r.auth,n);await fa(i,r.auth);const s=await _a(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function ba(e,t,n){return async function(e,t,n){const r=bt(e);er(r.auth,t,Ni),await r.auth._initializationPromise;const i=na(r.auth,n);await Ki(!1,r,t.providerId),await fa(i,r.auth);const s=await _a(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function wa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(un(e.app))return Promise.reject(Zn(e));const r=ii(e),i=na(r,t),s=new da(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function _a(e){const t=Ns("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Ia{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ea(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ea(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Xn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sa(e))}saveEventToCache(e){this.cachedEventUids.add(Sa(e)),this.lastProcessedEventTime=Date.now()}}function Sa(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ea(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function ka(e){return pr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Ta=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ca=/^https?/;function xa(e){const t=sr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Ca.test(n))return!1;if(Ta.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Na=new cr(3e4,6e4);function Aa(){const e=Rs().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ra(e){return new Promise(((t,n)=>{var r,i,s;function a(){Aa(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Aa(),n(Xn(e,"network-request-failed"))},timeout:Na.get()})}if(null===(i=null===(r=Rs().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Rs().gapi)||void 0===s?void 0:s.load)){const t=ci("iframefcb");return Rs()[t]=()=>{gapi.load?a():n(Xn(e,"network-request-failed"))},oi("".concat(ai.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw Pa=null,e}))}let Pa=null;const Da=new cr(5e3,15e3),Oa="__/auth/iframe",La="emulator/auth/iframe",Ma={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ua=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fa(e){const t=e.config;nr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?lr(t,La):"https://".concat(e.config.authDomain,"/").concat(Oa),r={apiKey:t.apiKey,appName:e.name,v:mn},i=Ua.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(ft(r).slice(1))}async function ja(e){const t=await function(e){return Pa=Pa||Ra(e),Pa}(e),n=Rs().gapi;return nr(n,e,"internal-error"),t.open({where:document.body,url:Fa(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ma,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Xn(e,"network-request-failed"),s=Rs().setTimeout((()=>{r(i)}),Da.get());function a(){Rs().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const Va={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ba{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function za(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const c=Object.assign(Object.assign({},Va),{width:r.toString(),height:i.toString(),top:s,left:a}),l=Ze().toLowerCase();n&&(o=Wr(l)?"_blank":n),Gr(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return $r(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Ba(null);const h=window.open(t||"",o,u);nr(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Ba(h)}const qa="__/auth/handler",Ha="emulator/auth/handler",Ga=encodeURIComponent("fac");async function Ka(e,t,n,r,i,s){nr(e.config.authDomain,e,"auth-domain-config-required"),nr(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:mn,eventId:i};if(t instanceof Ni){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof Ai){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const c=await e._getAppCheckToken(),l=c?"#".concat(Ga,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(qa);return lr(t,Ha)}(e),"?").concat(ft(o).slice(1)).concat(l)}const Wa="webStorageSupport";const Qa=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cs,this._completeRedirectFn=wa,this._overrideRedirectResult=pa}async _openPopup(e,t,n,r){var i;ir(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return za(e,await Ka(e,t,n,sr(),r),Ns())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Rs().location.href=e}(await Ka(e,t,n,sr(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ir(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await ja(e),n=new Ia(e);return t.register("authEvent",(t=>{nr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wa,{type:Wa},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Wa];void 0!==i&&t(!!i),Jn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await ka(e);for(const r of t)try{if(xa(r))return}catch(n){}Jn(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Zr()||Kr()||$r()}};class Ya{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return rr("unexpected MultiFactorSessionType")}}}class Ja extends Ya{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Ja(e)}_finalizeEnroll(e,t,n){return function(e,t){return pr(e,"POST","/v2/accounts/mfaEnrollment:finalize",fr(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return pr(e,"POST","/v2/accounts/mfaSignIn:finalize",fr(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Xa{constructor(){}static assertion(e){return Ja._fromCredential(e)}}Xa.FACTOR_ID="phone";var $a="@firebase/auth",Za="1.7.0";class eo{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){nr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=Qe())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var to;function no(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{c(r.next(e))}catch(t){s(t)}}function o(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}c((r=r.apply(e,t||[])).next())}))}function ro(e,t){var n,r,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(o){s=[6,o],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}!function(e){ai=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Xn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),to="Browser",an(new wt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;nr(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:o,clientPlatform:to,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ei(to)},l=new ri(r,i,s,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(jr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),an(new wt("auth-internal",(e=>(e=>new eo(e))(ii(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),_n($a,Za,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(to)),_n($a,Za,"esm2017");var io,so=function(){return so=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},so.apply(this,arguments)},ao=function(e){return{loading:void 0===e||null===e,value:e}},oo=function(e){var t=e?e():void 0,n=(0,i.useReducer)((function(e,t){switch(t.type){case"error":return so(so({},e),{error:t.error,loading:!1,value:void 0});case"reset":return ao(t.defaultValue);case"value":return so(so({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),ao(t)),r=n[0],s=n[1],a=(0,i.useCallback)((function(){var t=e?e():void 0;s({type:"reset",defaultValue:t})}),[e]),o=(0,i.useCallback)((function(e){s({type:"error",error:e})}),[]),c=(0,i.useCallback)((function(e){s({type:"value",value:e})}),[]);return(0,i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:a,setError:o,setValue:c,value:r.value}}),[r.error,r.loading,a,o,c,r.value])},co=function(e,t){var n=oo((function(){return e.currentUser})),r=n.error,s=n.loading,a=n.setError,o=n.setValue,c=n.value;return(0,i.useEffect)((function(){var n=function(e,t,n,r){return bt(e).onAuthStateChanged(t,n,r)}(e,(function(e){return no(void 0,void 0,void 0,(function(){var n;return ro(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),a(n),[3,4];case 4:return o(e),[2]}}))}))}),a);return function(){n()}}),[e]),[c,s,r]},lo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},uo={},ho=ho||{},fo=lo||self;function po(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function mo(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var go="closure_uid_"+(1e9*Math.random()>>>0),vo=0;function yo(e,t,n){return e.call.apply(e.bind,arguments)}function bo(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function wo(e,t,n){return(wo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yo:bo).apply(null,arguments)}function _o(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Io(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function So(){this.s=this.s,this.o=this.o}So.prototype.s=!1,So.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,go)&&e[go]||(e[go]=++vo))},So.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Eo=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ko(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function To(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(po(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Co(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Co.prototype.h=function(){this.defaultPrevented=!0};var xo=function(){if(!fo.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};fo.addEventListener("test",e,t),fo.removeEventListener("test",e,t)}catch(n){}return e}();function No(e){return/^[\s\xa0]*$/.test(e)}function Ao(){var e=fo.navigator;return e&&(e=e.userAgent)?e:""}function Ro(e){return-1!=Ao().indexOf(e)}function Po(e){return Po[" "](e),e}Po[" "]=function(){};var Do,Oo,Lo=Ro("Opera"),Mo=Ro("Trident")||Ro("MSIE"),Uo=Ro("Edge"),Fo=Uo||Mo,jo=Ro("Gecko")&&!(-1!=Ao().toLowerCase().indexOf("webkit")&&!Ro("Edge"))&&!(Ro("Trident")||Ro("MSIE"))&&!Ro("Edge"),Vo=-1!=Ao().toLowerCase().indexOf("webkit")&&!Ro("Edge");function Bo(){var e=fo.document;return e?e.documentMode:void 0}e:{var zo="",qo=function(){var e=Ao();return jo?/rv:([^\);]+)(\)|;)/.exec(e):Uo?/Edge\/([\d\.]+)/.exec(e):Mo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Vo?/WebKit\/(\S+)/.exec(e):Lo?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(qo&&(zo=qo?qo[1]:""),Mo){var Ho=Bo();if(null!=Ho&&Ho>parseFloat(zo)){Do=String(Ho);break e}}Do=zo}if(fo.document&&Mo){var Go=Bo();Oo=Go||(parseInt(Do,10)||void 0)}else Oo=void 0;var Ko=Oo;function Wo(e,t){if(Co.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(jo){e:{try{Po(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Qo[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Wo.$.h.call(this)}}Io(Wo,Co);var Qo={2:"touch",3:"pen",4:"mouse"};Wo.prototype.h=function(){Wo.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Yo="closure_listenable_"+(1e6*Math.random()|0),Jo=0;function Xo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Jo,this.fa=this.ia=!1}function $o(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Zo(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function ec(e){const t={};for(const n in e)t[n]=e[n];return t}const tc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nc(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<tc.length;t++)n=tc[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function rc(e){this.src=e,this.g={},this.h=0}function ic(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Eo(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&($o(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function sc(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}rc.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=sc(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new Xo(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var ac="closure_lm_"+(1e6*Math.random()|0),oc={};function cc(e,t,n,r,i){if(r&&r.once)return uc(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)cc(e,t[s],n,r,i);return null}return n=vc(n),e&&e[Yo]?e.O(t,n,mo(r)?!!r.capture:!!r,i):lc(e,t,n,!1,r,i)}function lc(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=mo(i)?!!i.capture:!!i,o=mc(e);if(o||(e[ac]=o=new rc(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=pc;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)xo||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(fc(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function uc(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)uc(e,t[s],n,r,i);return null}return n=vc(n),e&&e[Yo]?e.P(t,n,mo(r)?!!r.capture:!!r,i):lc(e,t,n,!0,r,i)}function hc(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)hc(e,t[s],n,r,i);else r=mo(r)?!!r.capture:!!r,n=vc(n),e&&e[Yo]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=sc(s=e.g[t],n,r,i))&&($o(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=mc(e))&&(t=e.g[t.toString()],e=-1,t&&(e=sc(t,n,r,i)),(n=-1<e?t[e]:null)&&dc(n))}function dc(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Yo])ic(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(fc(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=mc(t))?(ic(n,e),0==n.h&&(n.src=null,t[ac]=null)):$o(e)}}}function fc(e){return e in oc?oc[e]:oc[e]="on"+e}function pc(e,t){if(e.fa)e=!0;else{t=new Wo(t,this);var n=e.listener,r=e.la||e.src;e.ia&&dc(e),e=n.call(r,t)}return e}function mc(e){return(e=e[ac])instanceof rc?e:null}var gc="__closure_events_fn_"+(1e9*Math.random()>>>0);function vc(e){return"function"===typeof e?e:(e[gc]||(e[gc]=function(t){return e.handleEvent(t)}),e[gc])}function yc(){So.call(this),this.i=new rc(this),this.S=this,this.J=null}function bc(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Co(t,e);else if(t instanceof Co)t.target=t.target||e;else{var i=t;nc(t=new Co(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=wc(a,r,!0,t)&&i}if(i=wc(a=t.g=e,r,!0,t)&&i,i=wc(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=wc(a=t.g=n[s],r,!1,t)&&i}function wc(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,c=a.la||a.src;a.ia&&ic(e.i,a),i=!1!==o.call(c,r)&&i}}return i&&!r.defaultPrevented}Io(yc,So),yc.prototype[Yo]=!0,yc.prototype.removeEventListener=function(e,t,n,r){hc(this,e,t,n,r)},yc.prototype.N=function(){if(yc.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$o(n[r]);delete t.g[e],t.h--}}this.J=null},yc.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},yc.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var _c=fo.JSON.stringify;function Ic(){var e=Nc;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Sc=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Ec),(e=>e.reset()));class Ec{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function kc(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Tc(e){fo.setTimeout((()=>{throw e}),0)}let Cc,xc=!1,Nc=new class{constructor(){this.h=this.g=null}add(e,t){const n=Sc.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Ac=()=>{const e=fo.Promise.resolve(void 0);Cc=()=>{e.then(Rc)}};var Rc=()=>{for(var e;e=Ic();){try{e.h.call(e.g)}catch(n){Tc(n)}var t=Sc;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}xc=!1};function Pc(e,t){yc.call(this),this.h=e||1,this.g=t||fo,this.j=wo(this.qb,this),this.l=Date.now()}function Dc(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Oc(e,t,n){if("function"===typeof e)n&&(e=wo(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=wo(e.handleEvent,e)}return 2147483647<Number(t)?-1:fo.setTimeout(e,t||0)}function Lc(e){e.g=Oc((()=>{e.g=null,e.i&&(e.i=!1,Lc(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Io(Pc,yc),(io=Pc.prototype).ga=!1,io.T=null,io.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),bc(this,"tick"),this.ga&&(Dc(this),this.start()))}},io.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},io.N=function(){Pc.$.N.call(this),Dc(this),delete this.g};class Mc extends So{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Lc(this)}N(){super.N(),this.g&&(fo.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Uc(e){So.call(this),this.h=e,this.g={}}Io(Uc,So);var Fc=[];function jc(e,t,n,r){Array.isArray(n)||(n&&(Fc[0]=n.toString()),n=Fc);for(var i=0;i<n.length;i++){var s=cc(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Vc(e){Zo(e.g,(function(e,t){this.g.hasOwnProperty(t)&&dc(e)}),e),e.g={}}function Bc(){this.g=!0}function zc(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return _c(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}Uc.prototype.N=function(){Uc.$.N.call(this),Vc(this)},Uc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Bc.prototype.Ea=function(){this.g=!1},Bc.prototype.info=function(){};var qc={},Hc=null;function Gc(){return Hc=Hc||new yc}function Kc(e){Co.call(this,qc.Ta,e)}function Wc(e){const t=Gc();bc(t,new Kc(t))}function Qc(e,t){Co.call(this,qc.STAT_EVENT,e),this.stat=t}function Yc(e){const t=Gc();bc(t,new Qc(t,e))}function Jc(e,t){Co.call(this,qc.Ua,e),this.size=t}function Xc(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return fo.setTimeout((function(){e()}),t)}qc.Ta="serverreachability",Io(Kc,Co),qc.STAT_EVENT="statevent",Io(Qc,Co),qc.Ua="timingevent",Io(Jc,Co);var $c={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Zc={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function el(){}function tl(e){return e.h||(e.h=e.i())}function nl(){}el.prototype.h=null;var rl,il={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function sl(){Co.call(this,"d")}function al(){Co.call(this,"c")}function ol(){}function cl(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Uc(this),this.P=ul,e=Fo?125:void 0,this.V=new Pc(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ll}function ll(){this.i=null,this.g="",this.h=!1}Io(sl,Co),Io(al,Co),Io(ol,el),ol.prototype.g=function(){return new XMLHttpRequest},ol.prototype.i=function(){return{}},rl=new ol;var ul=45e3,hl={},dl={};function fl(e,t,n){e.L=1,e.A=Pl(Cl(t)),e.u=n,e.S=!0,pl(e,null)}function pl(e,t){e.G=Date.now(),yl(e),e.B=Cl(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Gl(n.i,"t",r),e.o=0,n=e.l.J,e.h=new ll,e.g=Ku(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Mc(wo(e.Pa,e,e.g),e.O)),jc(e.U,e.g,"readystatechange",e.nb),t=e.I?ec(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Wc(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),c=0;c<o.length;c++){var l=o[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+l+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function ml(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function gl(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=vl(e,n),r==dl){4==t&&(e.s=4,Yc(14),i=!1),zc(e.j,e.m,null,"[Incomplete Response]");break}if(r==hl){e.s=4,Yc(15),zc(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}zc(e.j,e.m,r,null),Sl(e,r)}ml(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Yc(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fu(t),t.M=!0,Yc(11))):(zc(e.j,e.m,n,"[Invalid Chunked Response]"),Il(e),_l(e))}function vl(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?dl:(n=Number(t.substring(n,r)),isNaN(n)?hl:(r+=1)+n>t.length?dl:(t=t.slice(r,r+n),e.o=r+n,t))}function yl(e){e.Y=Date.now()+e.P,bl(e,e.P)}function bl(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Xc(wo(e.lb,e),t)}function wl(e){e.C&&(fo.clearTimeout(e.C),e.C=null)}function _l(e){0==e.l.H||e.J||Bu(e.l,e)}function Il(e){wl(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Dc(e.V),Vc(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Sl(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||$l(n.i,e)))if(!e.K&&$l(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Vu(n),Au(n)}Uu(n),Yc(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Xc(wo(n.ib,n),6e3));if(1>=Xl(n.i)&&n.oa){try{n.oa()}catch(l){}n.oa=void 0}}else qu(n,11)}else if((e.K||n.g==e)&&Vu(n),!No(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const t=l[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=l[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Zl(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Rl(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=Gu(r,r.J?r.pa:null,r.Y),a.K){eu(r.i,a);var o=a,c=r.L;c&&o.setTimeout(c),o.C&&(wl(o),yl(o)),r.g=a}else Mu(r);0<n.j.length&&Pu(n)}else"stop"!=l[0]&&"close"!=l[0]||qu(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?qu(n,7):Nu(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}Wc()}catch(l){}}function El(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(po(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(po(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(po(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(io=cl.prototype).setTimeout=function(e){this.P=e},io.nb=function(e){e=e.target;const t=this.M;t&&3==Su(e)?t.l():this.Pa(e)},io.Pa=function(e){try{if(e==this.g)e:{const u=Su(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Fo||this.g&&(this.h.h||this.g.ja()||Eu(this.g)))){this.J||4!=u||7==t||Wc(),wl(this);var n=this.g.da();this.ca=n;t:if(ml(this)){var r=Eu(this.g);e="";var i=r.length,s=4==Su(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Il(this),_l(this);var a="";break t}this.h.i=new fo.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,c=this.g;if((o=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!No(o)){var l=o;break t}}l=null}if(!(n=l)){this.i=!1,this.s=3,Yc(12),Il(this),_l(this);break e}zc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sl(this,n)}this.S?(gl(this,u,a),Fo&&this.i&&3==u&&(jc(this.U,this.V,"tick",this.mb),this.V.start())):(zc(this.j,this.m,a,null),Sl(this,a)),4==u&&Il(this),this.i&&!this.J&&(4==u?Bu(this.l,this):(this.i=!1,yl(this)))}else(function(e){const t={};e=(e.g&&2<=Su(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(No(e[r]))continue;var n=kc(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Yc(12)):(this.s=0,Yc(13)),Il(this),_l(this)}}}catch(u){}},io.mb=function(){if(this.g){var e=Su(this.g),t=this.g.ja();this.o<t.length&&(wl(this),gl(this,e,t),this.i&&4!=e&&yl(this))}},io.cancel=function(){this.J=!0,Il(this)},io.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Wc(),Yc(17)),Il(this),this.s=2,_l(this)):bl(this,this.Y-e)};var kl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tl(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Tl){this.h=e.h,xl(this,e.j),this.s=e.s,this.g=e.g,Nl(this,e.m),this.l=e.l;var t=e.i,n=new Bl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Al(this,n),this.o=e.o}else e&&(t=String(e).match(kl))?(this.h=!1,xl(this,t[1]||"",!0),this.s=Dl(t[2]||""),this.g=Dl(t[3]||"",!0),Nl(this,t[4]),this.l=Dl(t[5]||"",!0),Al(this,t[6]||"",!0),this.o=Dl(t[7]||"")):(this.h=!1,this.i=new Bl(null,this.h))}function Cl(e){return new Tl(e)}function xl(e,t,n){e.j=n?Dl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Nl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Al(e,t,n){t instanceof Bl?(e.i=t,function(e,t){t&&!e.j&&(zl(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ql(this,t),Gl(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ol(t,jl)),e.i=new Bl(t,e.h))}function Rl(e,t,n){e.i.set(t,n)}function Pl(e){return Rl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Dl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ol(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ll),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ll(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Tl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ol(t,Ml,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ol(t,Ml,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ol(n,"/"==n.charAt(0)?Fl:Ul,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ol(n,Vl)),e.join("")};var Ml=/[#\/\?@]/g,Ul=/[#\?:]/g,Fl=/[#\?]/g,jl=/[#\?@]/g,Vl=/#/g;function Bl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function zl(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ql(e,t){zl(e),t=Kl(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Hl(e,t){return zl(e),t=Kl(e,t),e.g.has(t)}function Gl(e,t,n){ql(e,t),0<n.length&&(e.i=null,e.g.set(Kl(e,t),ko(n)),e.h+=n.length)}function Kl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(io=Bl.prototype).add=function(e,t){zl(this),this.i=null,e=Kl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},io.forEach=function(e,t){zl(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},io.ta=function(){zl(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},io.Z=function(e){zl(this);let t=[];if("string"===typeof e)Hl(this,e)&&(t=t.concat(this.g.get(Kl(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},io.set=function(e,t){return zl(this),this.i=null,Hl(this,e=Kl(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},io.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},io.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var Wl=class{constructor(e,t){this.g=e,this.map=t}};function Ql(e){this.l=e||Yl,fo.PerformanceNavigationTiming?e=0<(e=fo.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(fo.g&&fo.g.Ka&&fo.g.Ka()&&fo.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Yl=10;function Jl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xl(e){return e.h?1:e.g?e.g.size:0}function $l(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Zl(e,t){e.g?e.g.add(t):e.h=t}function eu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function tu(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return ko(e.i)}Ql.prototype.cancel=function(){if(this.i=tu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var nu,ru=class{stringify(e){return fo.JSON.stringify(e,void 0)}parse(e){return fo.JSON.parse(e,void 0)}};function iu(){this.g=new ru}function su(e,t,n){const r=n||"";try{El(e,(function(e,n){let i=e;mo(e)&&(i=_c(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function au(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function ou(e){this.l=e.ec||null,this.j=e.ob||!1}function cu(e,t){yc.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=lu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Io(ou,el),ou.prototype.g=function(){return new cu(this.l,this.j)},ou.prototype.i=(nu={},function(){return nu}),Io(cu,yc);var lu=0;function uu(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function hu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,du(e)}function du(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(io=cu.prototype).open=function(e,t){if(this.readyState!=lu)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,du(this)},io.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||fo).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},io.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hu(this)),this.readyState=lu},io.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,du(this)),this.g&&(this.readyState=3,du(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof fo.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uu(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},io.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?hu(this):du(this),3==this.readyState&&uu(this)}},io.Za=function(e){this.g&&(this.response=this.responseText=e,hu(this))},io.Ya=function(e){this.g&&(this.response=e,hu(this))},io.ka=function(){this.g&&hu(this)},io.setRequestHeader=function(e,t){this.v.append(e,t)},io.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},io.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(cu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var fu=fo.JSON.parse;function pu(e){yc.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=mu,this.L=this.M=!1}Io(pu,yc);var mu="",gu=/^https?$/i,vu=["POST","PUT"];function yu(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,bu(e),_u(e)}function bu(e){e.F||(e.F=!0,bc(e,"complete"),bc(e,"error"))}function wu(e){if(e.h&&"undefined"!=typeof ho&&(!e.C[1]||4!=Su(e)||2!=e.da()))if(e.v&&4==Su(e))Oc(e.La,0,e);else if(bc(e,"readystatechange"),4==Su(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(kl)[1]||null;!i&&fo.self&&fo.self.location&&(i=fo.self.location.protocol.slice(0,-1)),r=!gu.test(i?i.toLowerCase():"")}n=r}if(n)bc(e,"complete"),bc(e,"success");else{e.m=6;try{var s=2<Su(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.da()+"]",bu(e)}}finally{_u(e)}}}function _u(e,t){if(e.g){Iu(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||bc(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Iu(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(fo.clearTimeout(e.A),e.A=null)}function Su(e){return e.g?e.g.readyState:0}function Eu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case mu:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Rh){return null}}function ku(e){let t="";return Zo(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Tu(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ku(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Rl(e,t,n))}function Cu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function xu(e){this.Ga=0,this.j=[],this.l=new Bc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Cu("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Cu("baseRetryDelayMs",5e3,e),this.hb=Cu("retryDelaySeedMs",1e4,e),this.eb=Cu("forwardChannelMaxRetries",2,e),this.xa=Cu("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ql(e&&e.concurrentRequestLimit),this.Ja=new iu,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Nu(e){if(Ru(e),3==e.H){var t=e.W++,n=Cl(e.I);if(Rl(n,"SID",e.K),Rl(n,"RID",t),Rl(n,"TYPE","terminate"),Ou(e,n),(t=new cl(e,e.l,t)).L=2,t.A=Pl(Cl(n)),n=!1,fo.navigator&&fo.navigator.sendBeacon)try{n=fo.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&fo.Image&&((new Image).src=t.A,n=!0),n||(t.g=Ku(t.l,null),t.g.ha(t.A)),t.G=Date.now(),yl(t)}Hu(e)}function Au(e){e.g&&(Fu(e),e.g.cancel(),e.g=null)}function Ru(e){Au(e),e.u&&(fo.clearTimeout(e.u),e.u=null),Vu(e),e.i.cancel(),e.m&&("number"===typeof e.m&&fo.clearTimeout(e.m),e.m=null)}function Pu(e){if(!Jl(e.i)&&!e.m){e.m=!0;var t=e.Na;Cc||Ac(),xc||(Cc(),xc=!0),Nc.add(t,e),e.C=0}}function Du(e,t){var n;n=t?t.m:e.W++;const r=Cl(e.I);Rl(r,"SID",e.K),Rl(r,"RID",n),Rl(r,"AID",e.V),Ou(e,r),e.o&&e.s&&Tu(r,e.o,e.s),n=new cl(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Lu(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Zl(e.i,n),fl(n,r,t)}function Ou(e,t){e.na&&Zo(e.na,(function(e,n){Rl(t,n,e)})),e.h&&El({},(function(e,n){Rl(t,n,e)}))}function Lu(e,t,n){n=Math.min(e.j.length,n);var r=e.h?wo(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{su(o,e,"req"+n+"_")}catch(Wd){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Mu(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Cc||Ac(),xc||(Cc(),xc=!0),Nc.add(t,e),e.A=0}}function Uu(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Xc(wo(e.Ma,e),zu(e,e.A)),e.A++,!0)}function Fu(e){null!=e.B&&(fo.clearTimeout(e.B),e.B=null)}function ju(e){e.g=new cl(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Cl(e.wa);Rl(t,"RID","rpc"),Rl(t,"SID",e.K),Rl(t,"AID",e.V),Rl(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Rl(t,"TO",e.qa),Rl(t,"TYPE","xmlhttp"),Ou(e,t),e.o&&e.s&&Tu(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Pl(Cl(t)),n.u=null,n.S=!0,pl(n,e)}function Vu(e){null!=e.v&&(fo.clearTimeout(e.v),e.v=null)}function Bu(e,t){var n=null;if(e.g==t){Vu(e),Fu(e),e.g=null;var r=2}else{if(!$l(e.i,t))return;n=t.F,eu(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;bc(r=Gc(),new Jc(r,n)),Pu(e)}else Mu(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Xl(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Xc(wo(e.Na,e,t),zu(e,e.C)),e.C++,!0))}(e,t)||2==r&&Uu(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:qu(e,5);break;case 4:qu(e,10);break;case 3:qu(e,6);break;default:qu(e,2)}}function zu(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function qu(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=wo(e.pb,e);n||(n=new Tl("//www.google.com/images/cleardot.gif"),fo.location&&"http"==fo.location.protocol||xl(n,"https"),Pl(n)),function(e,t){const n=new Bc;if(fo.Image){const r=new Image;r.onload=_o(au,n,r,"TestLoadImage: loaded",!0,t),r.onerror=_o(au,n,r,"TestLoadImage: error",!1,t),r.onabort=_o(au,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=_o(au,n,r,"TestLoadImage: timeout",!1,t),fo.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Yc(2);e.H=0,e.h&&e.h.za(t),Hu(e),Ru(e)}function Hu(e){if(e.H=0,e.ma=[],e.h){const t=tu(e.i);0==t.length&&0==e.j.length||(To(e.ma,t),To(e.ma,e.j),e.i.i.length=0,ko(e.j),e.j.length=0),e.h.ya()}}function Gu(e,t,n){var r=n instanceof Tl?Cl(n):new Tl(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Nl(r,r.m);else{var i=fo.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Tl(null);r&&xl(s,r),t&&(s.g=t),i&&Nl(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Rl(r,n,t),Rl(r,"VER",e.ra),Ou(e,r),r}function Ku(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new pu(new ou({ob:n})):new pu(e.va)).Oa(e.J),t}function Wu(){}function Qu(){if(Mo&&!(10<=Number(Ko)))throw Error("Environmental error: no available transport.")}function Yu(e,t){yc.call(this),this.g=new xu(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!No(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!No(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new $u(this)}function Ju(e){sl.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Xu(){al.call(this),this.status=1}function $u(e){this.g=e}function Zu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function eh(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function th(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(io=pu.prototype).Oa=function(e){this.M=e},io.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():rl.g(),this.C=this.u?tl(this.u):tl(rl),this.g.onreadystatechange=wo(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void yu(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=fo.FormData&&e instanceof fo.FormData,!(0<=Eo(vu,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Iu(this),0<this.B&&((this.L=function(e){return Mo&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wo(this.ua,this)):this.A=Oc(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){yu(this,s)}},io.ua=function(){"undefined"!=typeof ho&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bc(this,"timeout"),this.abort(8))},io.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,bc(this,"complete"),bc(this,"abort"),_u(this))},io.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_u(this,!0)),pu.$.N.call(this)},io.La=function(){this.s||(this.G||this.v||this.l?wu(this):this.kb())},io.kb=function(){wu(this)},io.isActive=function(){return!!this.g},io.da=function(){try{return 2<Su(this)?this.g.status:-1}catch(nu){return-1}},io.ja=function(){try{return this.g?this.g.responseText:""}catch(nu){return""}},io.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),fu(t)}},io.Ia=function(){return this.m},io.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(io=xu.prototype).ra=8,io.H=1,io.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new cl(this,this.l,e);let s=this.s;if(this.U&&(s?(s=ec(s),nc(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Lu(this,i,t),Rl(n=Cl(this.I),"RID",e),Rl(n,"CVER",22),this.F&&Rl(n,"X-HTTP-Session-Id",this.F),Ou(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(ku(s)))+"&"+t:this.o&&Tu(n,this.o,s)),Zl(this.i,i),this.bb&&Rl(n,"TYPE","init"),this.P?(Rl(n,"$req",t),Rl(n,"SID","null"),i.aa=!0,fl(i,n,null)):fl(i,n,t),this.H=2}}else 3==this.H&&(e?Du(this,e):0==this.j.length||Jl(this.i)||Du(this))},io.Ma=function(){if(this.u=null,ju(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Xc(wo(this.jb,this),e)}},io.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Yc(10),Au(this),ju(this))},io.ib=function(){null!=this.v&&(this.v=null,Au(this),Uu(this),Yc(19))},io.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Yc(2)):(this.l.info("Failed to ping google.com"),Yc(1))},io.isActive=function(){return!!this.h&&this.h.isActive(this)},(io=Wu.prototype).Ba=function(){},io.Aa=function(){},io.za=function(){},io.ya=function(){},io.isActive=function(){return!0},io.Va=function(){},Qu.prototype.g=function(e,t){return new Yu(e,t)},Io(Yu,yc),Yu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Yc(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Gu(e,null,e.Y),Pu(e)},Yu.prototype.close=function(){Nu(this.g)},Yu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=_c(e),e=n);t.j.push(new Wl(t.fb++,e)),3==t.H&&Pu(t)},Yu.prototype.N=function(){this.g.h=null,delete this.j,Nu(this.g),delete this.g,Yu.$.N.call(this)},Io(Ju,sl),Io(Xu,al),Io($u,Wu),$u.prototype.Ba=function(){bc(this.g,"a")},$u.prototype.Aa=function(e){bc(this.g,new Ju(e))},$u.prototype.za=function(e){bc(this.g,new Xu)},$u.prototype.ya=function(){bc(this.g,"b")},Io(Zu,(function(){this.blockSize=-1})),Zu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Zu.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)eh(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){eh(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){eh(this,r),i=0;break}}this.h=i,this.i+=t},Zu.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var nh={};function rh(e){return-128<=e&&128>e?function(e,t){var n=nh;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new th([0|e],0>e?-1:0)})):new th([0|e],0>e?-1:0)}function ih(e){if(isNaN(e)||!isFinite(e))return ah;if(0>e)return hh(ih(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=sh;return new th(t,0)}var sh=4294967296,ah=rh(0),oh=rh(1),ch=rh(16777216);function lh(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function uh(e){return-1==e.h}function hh(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new th(n,~e.h).add(oh)}function dh(e,t){return e.add(hh(t))}function fh(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ph(e,t){this.g=e,this.h=t}function mh(e,t){if(lh(t))throw Error("division by zero");if(lh(e))return new ph(ah,ah);if(uh(e))return t=mh(hh(e),t),new ph(hh(t.g),hh(t.h));if(uh(t))return t=mh(e,hh(t)),new ph(hh(t.g),t.h);if(30<e.g.length){if(uh(e)||uh(t))throw Error("slowDivide_ only works with positive integers.");for(var n=oh,r=t;0>=r.X(e);)n=gh(n),r=gh(r);var i=vh(n,1),s=vh(r,1);for(r=vh(r,2),n=vh(n,2);!lh(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=vh(r,1),n=vh(n,1)}return t=dh(e,i.R(t)),new ph(i,t)}for(i=ah;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=ih(n)).R(t);uh(a)||0<a.X(e);)a=(s=ih(n-=r)).R(t);lh(s)&&(s=oh),i=i.add(s),e=dh(e,a)}return new ph(i,e)}function gh(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new th(n,e.h)}function vh(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new th(i,e.h)}(io=th.prototype).ea=function(){if(uh(this))return-hh(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:sh+r)*t,t*=sh}return e},io.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(lh(this))return"0";if(uh(this))return"-"+hh(this).toString(e);for(var t=ih(Math.pow(e,6)),n=this,r="";;){var i=mh(n,t).g,s=((0<(n=dh(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(lh(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},io.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},io.X=function(e){return uh(e=dh(this,e))?-1:lh(e)?0:1},io.abs=function(){return uh(this)?hh(this):this},io.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new th(n,-2147483648&n[n.length-1]?-1:0)},io.R=function(e){if(lh(this)||lh(e))return ah;if(uh(this))return uh(e)?hh(this).R(hh(e)):hh(hh(this).R(e));if(uh(e))return hh(this.R(hh(e)));if(0>this.X(ch)&&0>e.X(ch))return ih(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,c=65535&e.D(i);n[2*r+2*i]+=a*c,fh(n,2*r+2*i),n[2*r+2*i+1]+=s*c,fh(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,fh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,fh(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new th(n,0)},io.gb=function(e){return mh(this,e).h},io.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new th(n,this.h&e.h)},io.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new th(n,this.h|e.h)},io.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new th(n,this.h^e.h)},Qu.prototype.createWebChannel=Qu.prototype.g,Yu.prototype.send=Yu.prototype.u,Yu.prototype.open=Yu.prototype.m,Yu.prototype.close=Yu.prototype.close,$c.NO_ERROR=0,$c.TIMEOUT=8,$c.HTTP_ERROR=6,Zc.COMPLETE="complete",nl.EventType=il,il.OPEN="a",il.CLOSE="b",il.ERROR="c",il.MESSAGE="d",yc.prototype.listen=yc.prototype.O,pu.prototype.listenOnce=pu.prototype.P,pu.prototype.getLastError=pu.prototype.Sa,pu.prototype.getLastErrorCode=pu.prototype.Ia,pu.prototype.getStatus=pu.prototype.da,pu.prototype.getResponseJson=pu.prototype.Wa,pu.prototype.getResponseText=pu.prototype.ja,pu.prototype.send=pu.prototype.ha,pu.prototype.setWithCredentials=pu.prototype.Oa,Zu.prototype.digest=Zu.prototype.l,Zu.prototype.reset=Zu.prototype.reset,Zu.prototype.update=Zu.prototype.j,th.prototype.add=th.prototype.add,th.prototype.multiply=th.prototype.R,th.prototype.modulo=th.prototype.gb,th.prototype.compare=th.prototype.X,th.prototype.toNumber=th.prototype.ea,th.prototype.toString=th.prototype.toString,th.prototype.getBits=th.prototype.D,th.fromNumber=ih,th.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return hh(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=ih(Math.pow(n,8)),i=ah,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=ih(Math.pow(n,a)),i=i.R(a).add(ih(o))):i=(i=i.R(r)).add(ih(o))}return i};var yh=uo.createWebChannelTransport=function(){return new Qu},bh=uo.getStatEventTarget=function(){return Gc()},wh=uo.ErrorCode=$c,_h=uo.EventType=Zc,Ih=uo.Event=qc,Sh=uo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Eh=(uo.FetchXmlHttpFactory=ou,uo.WebChannel=nl),kh=uo.XhrIo=pu,Th=uo.Md5=Zu,Ch=uo.Integer=th;const xh="@firebase/firestore";class Nh{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nh.UNAUTHENTICATED=new Nh(null),Nh.GOOGLE_CREDENTIALS=new Nh("google-credentials-uid"),Nh.FIRST_PARTY=new Nh("first-party-uid"),Nh.MOCK_USER=new Nh("mock-user");let Ah="10.10.0";const Rh=new At("@firebase/firestore");function Ph(){return Rh.logLevel}function Dh(e){if(Rh.logLevel<=kt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Mh);Rh.debug("Firestore (".concat(Ah,"): ").concat(e),...i)}}function Oh(e){if(Rh.logLevel<=kt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Mh);Rh.error("Firestore (".concat(Ah,"): ").concat(e),...i)}}function Lh(e){if(Rh.logLevel<=kt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Mh);Rh.warn("Firestore (".concat(Ah,"): ").concat(e),...i)}}function Mh(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Uh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Ah,") INTERNAL ASSERTION FAILED: ")+e;throw Oh(t),new Error(t)}function Fh(e,t){e||Uh()}function jh(e,t){return e}const Vh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Bh extends ot{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class zh{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class qh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Hh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Nh.UNAUTHENTICATED)))}shutdown(){}}class Gh{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Kh{constructor(e){this.t=e,this.currentUser=Nh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new zh;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new zh,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{Dh("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Dh("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new zh)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Dh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Fh("string"==typeof t.accessToken),new qh(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Fh(null===e||"string"==typeof e),new Nh(e)}}class Wh{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Nh.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Qh{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Wh(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Nh.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Yh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jh{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Dh("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Dh("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Dh("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Dh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Fh("string"==typeof e.token),this.R=e.token,new Yh(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xh(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class $h{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Xh(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Zh(e,t){return e<t?-1:e>t?1:0}function ed(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function td(e){return e+"\0"}class nd{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Bh(Vh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Bh(Vh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Bh(Vh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Bh(Vh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nd.fromMillis(Date.now())}static fromDate(e){return nd.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new nd(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zh(this.nanoseconds,e.nanoseconds):Zh(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class rd{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rd(e)}static min(){return new rd(new nd(0,0))}static max(){return new rd(new nd(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class id{constructor(e,t,n){void 0===t?t=0:t>e.length&&Uh(),void 0===n?n=e.length-t:n>e.length-t&&Uh(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===id.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof id?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class sd extends id{construct(e,t,n){return new sd(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Bh(Vh.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new sd(e)}static emptyPath(){return new sd([])}}const ad=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class od extends id{construct(e,t,n){return new od(e,t,n)}static isValidIdentifier(e){return ad.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),od.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new od(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Bh(Vh.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Bh(Vh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Bh(Vh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Bh(Vh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new od(t)}static emptyPath(){return new od([])}}class cd{constructor(e){this.path=e}static fromPath(e){return new cd(sd.fromString(e))}static fromName(e){return new cd(sd.fromString(e).popFirst(5))}static empty(){return new cd(sd.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sd.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return sd.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new cd(new sd(e.slice()))}}class ld{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function ud(e){return e.fields.find((e=>2===e.kind))}function hd(e){return e.fields.filter((e=>2!==e.kind))}ld.UNKNOWN_ID=-1;class dd{constructor(e,t){this.fieldPath=e,this.kind=t}}class fd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new fd(0,gd.min())}}function pd(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=rd.fromTimestamp(1e9===r?new nd(n+1,0):new nd(n,r));return new gd(i,cd.empty(),t)}function md(e){return new gd(e.readTime,e.key,-1)}class gd{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new gd(rd.min(),cd.empty(),-1)}static max(){return new gd(rd.max(),cd.empty(),-1)}}function vd(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=cd.comparator(e.documentKey,t.documentKey),0!==n?n:Zh(e.largestBatchId,t.largestBatchId))}const yd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function wd(e){if(e.code!==Vh.FAILED_PRECONDITION||e.message!==yd)throw e;Dh("LocalStore","Unexpectedly lost primary lease")}class _d{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Uh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _d(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof _d?t:_d.resolve(t)}catch(e){return _d.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):_d.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):_d.reject(t)}static resolve(e){return new _d(((t,n)=>{t(e)}))}static reject(e){return new _d(((t,n)=>{n(e)}))}static waitFor(e){return new _d(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=_d.resolve(!1);for(const n of e)t=t.next((e=>e?_d.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new _d(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const c=o;t(e[c]).next((e=>{s[c]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new _d(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Id{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new zh,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new kd(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Ad(t.target.error);this.V.reject(new kd(e,n))}}static open(e,t,n,r){try{return new Id(t,e.transaction(r,n))}catch(e){throw new kd(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Dh("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Cd(t)}}class Sd{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Sd.S(Ze())&&Oh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Dh("SimpleDb","Removing database:",e),xd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!at())return!1;if(Sd.C())return!0;const e=Ze(),t=Sd.S(e),n=0<t&&t<10,r=Sd.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Dh("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new kd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Bh(Vh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Bh(Vh.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new kd(e,r))},r.onupgradeneeded=e=>{Dh("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Dh("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.L&&(this.db.onversionchange=e=>this.L(e)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=Id.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),_d.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Dh("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Ed{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return xd(this.k.delete())}}class kd extends Bh{constructor(e,t){super(Vh.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Td(e){return"IndexedDbTransactionError"===e.name}class Cd{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Dh("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Dh("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),xd(n)}add(e){return Dh("SimpleDb","ADD",this.store.name,e,e),xd(this.store.add(e))}get(e){return xd(this.store.get(e)).next((t=>(void 0===t&&(t=null),Dh("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Dh("SimpleDb","DELETE",this.store.name,e),xd(this.store.delete(e))}count(){return Dh("SimpleDb","COUNT",this.store.name),xd(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new _d(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new _d(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Dh("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new _d(((n,r)=>{t.onerror=e=>{const t=Ad(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new _d(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Ed(i),a=t(i.primaryKey,i.value,s);if(a instanceof _d){const e=a.catch((e=>(s.done(),_d.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>_d.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function xd(e){return new _d(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Ad(e.target.error);n(t)}}))}let Nd=!1;function Ad(e){const t=Sd.S(Ze());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Bh("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Nd||(Nd=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Rd{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){Dh("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Dh("IndexBackfiller","Documents written: ".concat(await this.X.te()))}catch(e){Td(e)?Dh("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await wd(e)}await this.ee(6e4)}))}}class Pd{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return _d.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Dh("IndexBackfiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(Dh("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=md(t);vd(r,n)>0&&(n=r)})),new gd(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Dd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Od(e){return null==e}function Ld(e){return 0===e&&1/e==-1/0}function Md(e){return"number"==typeof e&&Number.isInteger(e)&&!Ld(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Ud(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=jd(t)),t=Fd(e.get(n),t);return jd(t)}function Fd(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function jd(e){return e+"\x01\x01"}function Vd(e){const t=e.length;if(Fh(t>=2),2===t)return Fh("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),sd.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&Uh(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:Uh()}s=t+2}return new sd(r)}Dd._e=-1;const Bd=["userId","batchId"];function zd(e,t){return[e,Ud(t)]}function qd(e,t,n){return[e,Ud(t),n]}const Hd={},Gd=["prefixPath","collectionGroup","readTime","documentId"],Kd=["prefixPath","collectionGroup","documentId"],Wd=["collectionGroup","readTime","prefixPath","documentId"],Qd=["canonicalId","targetId"],Yd=["targetId","path"],Jd=["path","targetId"],Xd=["collectionId","parent"],$d=["indexId","uid"],Zd=["uid","sequenceNumber"],ef=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],tf=["indexId","uid","orderedDocumentKey"],nf=["userId","collectionPath","documentId"],rf=["userId","collectionPath","largestBatchId"],sf=["userId","collectionGroup","largestBatchId"],af=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],of=[...af,"documentOverlays"],cf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lf=cf,uf=[...lf,"indexConfiguration","indexState","indexEntries"];class hf extends bd{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function df(e,t){const n=jh(e);return Sd.M(n.ae,t)}function ff(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function pf(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function mf(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class gf{constructor(e,t){this.comparator=e,this.root=t||yf.EMPTY}insert(e,t){return new gf(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yf.BLACK,null,null))}remove(e){return new gf(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yf.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vf(this.root,e,this.comparator,!1)}getReverseIterator(){return new vf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vf(this.root,e,this.comparator,!0)}}class vf{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yf{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:yf.RED,this.left=null!=r?r:yf.EMPTY,this.right=null!=i?i:yf.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new yf(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return yf.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return yf.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yf.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yf.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Uh();if(this.right.isRed())throw Uh();const e=this.left.check();if(e!==this.right.check())throw Uh();return e+(this.isRed()?0:1)}}yf.EMPTY=null,yf.RED=!0,yf.BLACK=!1,yf.EMPTY=new class{constructor(){this.size=0}get key(){throw Uh()}get value(){throw Uh()}get color(){throw Uh()}get left(){throw Uh()}get right(){throw Uh()}copy(e,t,n,r,i){return this}insert(e,t,n){return new yf(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bf{constructor(e){this.comparator=e,this.data=new gf(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wf(this.data.getIterator())}getIteratorFrom(e){return new wf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof bf))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new bf(this.comparator);return t.data=e,t}}class wf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _f(e){return e.hasNext()?e.getNext():void 0}class If{constructor(e){this.fields=e,e.sort(od.comparator)}static empty(){return new If([])}unionWith(e){let t=new bf(od.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new If(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ed(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Sf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ef{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Sf("Invalid base64 string: "+e):e}}(e);return new Ef(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ef(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zh(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ef.EMPTY_BYTE_STRING=new Ef("");const kf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tf(e){if(Fh(!!e),"string"==typeof e){let t=0;const n=kf.exec(e);if(Fh(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Cf(e.seconds),nanos:Cf(e.nanos)}}function Cf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function xf(e){return"string"==typeof e?Ef.fromBase64String(e):Ef.fromUint8Array(e)}function Nf(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Af(e){const t=e.mapValue.fields.__previous_value__;return Nf(t)?Af(t):t}function Rf(e){const t=Tf(e.mapValue.fields.__local_write_time__.timestampValue);return new nd(t.seconds,t.nanos)}class Pf{constructor(e,t,n,r,i,s,a,o,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=c}}class Df{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Df("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Df&&e.projectId===this.projectId&&e.database===this.database}}const Of={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Lf={nullValue:"NULL_VALUE"};function Mf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Nf(e)?4:Jf(e)?9007199254740991:10:Uh()}function Uf(e,t){if(e===t)return!0;const n=Mf(e);if(n!==Mf(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Rf(e).isEqual(Rf(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Tf(e.timestampValue),r=Tf(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return xf(e.bytesValue).isEqual(xf(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Cf(e.geoPointValue.latitude)===Cf(t.geoPointValue.latitude)&&Cf(e.geoPointValue.longitude)===Cf(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Cf(e.integerValue)===Cf(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Cf(e.doubleValue),r=Cf(t.doubleValue);return n===r?Ld(n)===Ld(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ed(e.arrayValue.values||[],t.arrayValue.values||[],Uf);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ff(n)!==ff(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Uf(n[i],r[i])))return!1;return!0}(e,t);default:return Uh()}}function Ff(e,t){return void 0!==(e.values||[]).find((e=>Uf(e,t)))}function jf(e,t){if(e===t)return 0;const n=Mf(e),r=Mf(t);if(n!==r)return Zh(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Zh(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Cf(e.integerValue||e.doubleValue),r=Cf(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Vf(e.timestampValue,t.timestampValue);case 4:return Vf(Rf(e),Rf(t));case 5:return Zh(e.stringValue,t.stringValue);case 6:return function(e,t){const n=xf(e),r=xf(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Zh(n[i],r[i]);if(0!==e)return e}return Zh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Zh(Cf(e.latitude),Cf(t.latitude));return 0!==n?n:Zh(Cf(e.longitude),Cf(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=jf(n[i],r[i]);if(e)return e}return Zh(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Of.mapValue&&t===Of.mapValue)return 0;if(e===Of.mapValue)return 1;if(t===Of.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Zh(r[a],s[a]);if(0!==e)return e;const t=jf(n[r[a]],i[s[a]]);if(0!==t)return t}return Zh(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Uh()}}function Vf(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Zh(e,t);const n=Tf(e),r=Tf(t),i=Zh(n.seconds,r.seconds);return 0!==i?i:Zh(n.nanos,r.nanos)}function Bf(e){return zf(e)}function zf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Tf(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return xf(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return cd.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=zf(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(zf(e.fields[i]));return n+"}"}(e.mapValue):Uh()}function qf(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Hf(e){return!!e&&"integerValue"in e}function Gf(e){return!!e&&"arrayValue"in e}function Kf(e){return!!e&&"nullValue"in e}function Wf(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Qf(e){return!!e&&"mapValue"in e}function Yf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return pf(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Yf(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Yf(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Jf(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Xf(e){return"nullValue"in e?Lf:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?qf(Df.empty(),cd.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Uh()}function $f(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?qf(Df.empty(),cd.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Of:Uh()}function Zf(e,t){const n=jf(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ep(e,t){const n=jf(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class tp{constructor(e){this.value=e}static empty(){return new tp({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Qf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yf(t)}setAll(e){let t=od.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Yf(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Qf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Uf(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Qf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){pf(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new tp(Yf(this.value))}}function np(e){const t=[];return pf(e.fields,((e,n)=>{const r=new od([e]);if(Qf(n)){const e=np(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new If(t)}class rp{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new rp(e,0,rd.min(),rd.min(),rd.min(),tp.empty(),0)}static newFoundDocument(e,t,n,r){return new rp(e,1,t,rd.min(),n,r,0)}static newNoDocument(e,t){return new rp(e,2,t,rd.min(),rd.min(),tp.empty(),0)}static newUnknownDocument(e,t){return new rp(e,3,t,rd.min(),rd.min(),tp.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(rd.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tp.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tp.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rd.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof rp&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rp(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class ip{constructor(e,t){this.position=e,this.inclusive=t}}function sp(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?cd.comparator(cd.fromName(a.referenceValue),n.key):jf(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function ap(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Uf(e.position[n],t.position[n]))return!1;return!0}class op{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function cp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class lp{}class up extends lp{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new wp(e,t,n):"array-contains"===t?new Ep(e,n):"in"===t?new kp(e,n):"not-in"===t?new Tp(e,n):"array-contains-any"===t?new Cp(e,n):new up(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new _p(e,n):new Ip(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(jf(t,this.value)):null!==t&&Mf(this.value)===Mf(t)&&this.matchesComparison(jf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Uh()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hp extends lp{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new hp(e,t)}matches(e){return dp(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function dp(e){return"and"===e.op}function fp(e){return"or"===e.op}function pp(e){return mp(e)&&dp(e)}function mp(e){for(const t of e.filters)if(t instanceof hp)return!1;return!0}function gp(e){if(e instanceof up)return e.field.canonicalString()+e.op.toString()+Bf(e.value);if(pp(e))return e.filters.map((e=>gp(e))).join(",");{const t=e.filters.map((e=>gp(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function vp(e,t){return e instanceof up?function(e,t){return t instanceof up&&e.op===t.op&&e.field.isEqual(t.field)&&Uf(e.value,t.value)}(e,t):e instanceof hp?function(e,t){return t instanceof hp&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&vp(n,t.filters[r])),!0)}(e,t):void Uh()}function yp(e,t){const n=e.filters.concat(t);return hp.create(n,e.op)}function bp(e){return e instanceof up?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Bf(e.value))}(e):e instanceof hp?function(e){return e.op.toString()+" {"+e.getFilters().map(bp).join(" ,")+"}"}(e):"Filter"}class wp extends up{constructor(e,t,n){super(e,t,n),this.key=cd.fromName(n.referenceValue)}matches(e){const t=cd.comparator(e.key,this.key);return this.matchesComparison(t)}}class _p extends up{constructor(e,t){super(e,"in",t),this.keys=Sp("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Ip extends up{constructor(e,t){super(e,"not-in",t),this.keys=Sp("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Sp(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>cd.fromName(e.referenceValue)))}class Ep extends up{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gf(t)&&Ff(t.arrayValue,this.value)}}class kp extends up{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ff(this.value.arrayValue,t)}}class Tp extends up{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ff(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ff(this.value.arrayValue,t)}}class Cp extends up{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gf(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ff(this.value.arrayValue,e)))}}class xp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ce=null}}function Np(e){return new xp(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ap(e){const t=jh(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>gp(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Od(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Bf(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Bf(e))).join(",")),t.ce=e}return t.ce}function Rp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!cp(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!vp(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ap(e.startAt,t.startAt)&&ap(e.endAt,t.endAt)}function Pp(e){return cd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Dp(e,t){return e.filters.filter((e=>e instanceof up&&e.field.isEqual(t)))}function Op(e,t,n){let r=Lf,i=!0;for(const s of Dp(e,t)){let e=Lf,t=!0;switch(s.op){case"<":case"<=":e=Xf(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=Lf}Zf({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Zf({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Lp(e,t,n){let r=Of,i=!0;for(const s of Dp(e,t)){let e=Of,t=!0;switch(s.op){case">=":case">":e=$f(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Of}ep({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];ep({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Mp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Up(e,t,n,r,i,s,a,o){return new Mp(e,t,n,r,i,s,a,o)}function Fp(e){return new Mp(e)}function jp(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Vp(e){return null!==e.collectionGroup}function Bp(e){const t=jh(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new bf(od.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new op(r,n))})),e.has(od.keyField().canonicalString())||t.le.push(new op(od.keyField(),n))}return t.le}function zp(e){const t=jh(e);return t.he||(t.he=qp(t,Bp(e))),t.he}function qp(e,t){if("F"===e.limitType)return Np(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new op(e.field,t)}));const n=e.endAt?new ip(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ip(e.startAt.position,e.startAt.inclusive):null;return Np(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Hp(e,t){const n=e.filters.concat([t]);return new Mp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Gp(e,t,n){return new Mp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Kp(e,t){return Rp(zp(e),zp(t))&&e.limitType===t.limitType}function Wp(e){return"".concat(Ap(zp(e)),"|lt:").concat(e.limitType)}function Qp(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>bp(e))).join(", "),"]")),Od(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Bf(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Bf(e))).join(",")),"Target(".concat(t,")")}(zp(e)),"; limitType=").concat(e.limitType,")")}function Yp(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):cd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Bp(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=sp(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Bp(e),t))&&!(e.endAt&&!function(e,t,n){const r=sp(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Bp(e),t))}(e,t)}function Jp(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Xp(e){return(t,n)=>{let r=!1;for(const i of Bp(e)){const e=$p(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function $p(e,t,n){const r=e.field.isKeyField()?cd.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?jf(r,i):Uh()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Uh()}}class Zp{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){pf(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return mf(this.inner)}size(){return this.innerSize}}const em=new gf(cd.comparator);function tm(){return em}const nm=new gf(cd.comparator);function rm(){let e=nm;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function im(e){let t=nm;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function sm(){return om()}function am(){return om()}function om(){return new Zp((e=>e.toString()),((e,t)=>e.isEqual(t)))}const cm=new gf(cd.comparator),lm=new bf(cd.comparator);function um(){let e=lm;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const hm=new bf(Zh);function dm(){return hm}function fm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ld(t)?"-0":t}}function pm(e){return{integerValue:""+e}}function mm(e,t){return Md(t)?pm(t):fm(e,t)}class gm{constructor(){this._=void 0}}function vm(e,t,n){return e instanceof wm?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Nf(t)&&(t=Af(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof _m?Im(e,t):e instanceof Sm?Em(e,t):function(e,t){const n=bm(e,t),r=Tm(n)+Tm(e.Ie);return Hf(n)&&Hf(e.Ie)?pm(r):fm(e.serializer,r)}(e,t)}function ym(e,t,n){return e instanceof _m?Im(e,t):e instanceof Sm?Em(e,t):n}function bm(e,t){return e instanceof km?function(e){return Hf(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class wm extends gm{}class _m extends gm{constructor(e){super(),this.elements=e}}function Im(e,t){const n=Cm(t);for(const r of e.elements)n.some((e=>Uf(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Sm extends gm{constructor(e){super(),this.elements=e}}function Em(e,t){let n=Cm(t);for(const r of e.elements)n=n.filter((e=>!Uf(e,r)));return{arrayValue:{values:n}}}class km extends gm{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Tm(e){return Cf(e.integerValue||e.doubleValue)}function Cm(e){return Gf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class xm{constructor(e,t){this.field=e,this.transform=t}}class Nm{constructor(e,t){this.version=e,this.transformResults=t}}class Am{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Am}static exists(e){return new Am(void 0,e)}static updateTime(e){return new Am(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Pm{}function Dm(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new qm(e.key,Am.none()):new Fm(e.key,e.data,Am.none());{const n=e.data,r=tp.empty();let i=new bf(od.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new jm(e.key,r,new If(i.toArray()),Am.none())}}function Om(e,t,n){e instanceof Fm?function(e,t,n){const r=e.value.clone(),i=Bm(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof jm?function(e,t,n){if(!Rm(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Bm(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Vm(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Lm(e,t,n,r){return e instanceof Fm?function(e,t,n,r){if(!Rm(e.precondition,t))return n;const i=e.value.clone(),s=zm(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof jm?function(e,t,n,r){if(!Rm(e.precondition,t))return n;const i=zm(e.fieldTransforms,r,t),s=t.data;return s.setAll(Vm(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Rm(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Mm(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=bm(r.transform,e||null);null!=i&&(null===n&&(n=tp.empty()),n.set(r.field,i))}return n||null}function Um(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ed(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof _m&&t instanceof _m||e instanceof Sm&&t instanceof Sm?ed(e.elements,t.elements,Uf):e instanceof km&&t instanceof km?Uf(e.Ie,t.Ie):e instanceof wm&&t instanceof wm}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Fm extends Pm{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class jm extends Pm{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Vm(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Bm(e,t,n){const r=new Map;Fh(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,ym(a,o,n[i]))}return r}function zm(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,vm(e,s,t))}return r}class qm extends Pm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hm extends Pm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Gm{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Om(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Lm(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Lm(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=am();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Dm(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(rd.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),um())}isEqual(e){return this.batchId===e.batchId&&ed(this.mutations,e.mutations,((e,t)=>Um(e,t)))&&ed(this.baseMutations,e.baseMutations,((e,t)=>Um(e,t)))}}class Km{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Fh(e.mutations.length===n.length);let r=cm;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Km(e,t,n,r)}}class Wm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Qm{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ym,Jm;function Xm(e){switch(e){default:return Uh();case Vh.CANCELLED:case Vh.UNKNOWN:case Vh.DEADLINE_EXCEEDED:case Vh.RESOURCE_EXHAUSTED:case Vh.INTERNAL:case Vh.UNAVAILABLE:case Vh.UNAUTHENTICATED:return!1;case Vh.INVALID_ARGUMENT:case Vh.NOT_FOUND:case Vh.ALREADY_EXISTS:case Vh.PERMISSION_DENIED:case Vh.FAILED_PRECONDITION:case Vh.ABORTED:case Vh.OUT_OF_RANGE:case Vh.UNIMPLEMENTED:case Vh.DATA_LOSS:return!0}}function $m(e){if(void 0===e)return Oh("GRPC error has no .code"),Vh.UNKNOWN;switch(e){case Ym.OK:return Vh.OK;case Ym.CANCELLED:return Vh.CANCELLED;case Ym.UNKNOWN:return Vh.UNKNOWN;case Ym.DEADLINE_EXCEEDED:return Vh.DEADLINE_EXCEEDED;case Ym.RESOURCE_EXHAUSTED:return Vh.RESOURCE_EXHAUSTED;case Ym.INTERNAL:return Vh.INTERNAL;case Ym.UNAVAILABLE:return Vh.UNAVAILABLE;case Ym.UNAUTHENTICATED:return Vh.UNAUTHENTICATED;case Ym.INVALID_ARGUMENT:return Vh.INVALID_ARGUMENT;case Ym.NOT_FOUND:return Vh.NOT_FOUND;case Ym.ALREADY_EXISTS:return Vh.ALREADY_EXISTS;case Ym.PERMISSION_DENIED:return Vh.PERMISSION_DENIED;case Ym.FAILED_PRECONDITION:return Vh.FAILED_PRECONDITION;case Ym.ABORTED:return Vh.ABORTED;case Ym.OUT_OF_RANGE:return Vh.OUT_OF_RANGE;case Ym.UNIMPLEMENTED:return Vh.UNIMPLEMENTED;case Ym.DATA_LOSS:return Vh.DATA_LOSS;default:return Uh()}}(Jm=Ym||(Ym={}))[Jm.OK=0]="OK",Jm[Jm.CANCELLED=1]="CANCELLED",Jm[Jm.UNKNOWN=2]="UNKNOWN",Jm[Jm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jm[Jm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jm[Jm.NOT_FOUND=5]="NOT_FOUND",Jm[Jm.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jm[Jm.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jm[Jm.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jm[Jm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jm[Jm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jm[Jm.ABORTED=10]="ABORTED",Jm[Jm.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jm[Jm.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jm[Jm.INTERNAL=13]="INTERNAL",Jm[Jm.UNAVAILABLE=14]="UNAVAILABLE",Jm[Jm.DATA_LOSS=15]="DATA_LOSS";let Zm=null;function eg(){return new TextEncoder}const tg=new Ch([4294967295,4294967295],0);function ng(e){const t=eg().encode(e),n=new Th;return n.update(t),new Uint8Array(n.digest())}function rg(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Ch([n,r],0),new Ch([i,s],0)]}class ig{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new sg("Invalid padding: ".concat(t));if(n<0)throw new sg("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new sg("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new sg("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=Ch.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Ch.fromNumber(n)));return 1===r.compare(tg)&&(r=new Ch([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=ng(e),[n,r]=rg(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new ig(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=ng(e),[n,r]=rg(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class sg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ag{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,og.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ag(rd.min(),r,new gf(Zh),tm(),um())}}class og{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new og(n,t,um(),um(),um())}}class cg{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class lg{constructor(e,t){this.targetId=e,this.fe=t}}class ug{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ef.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class hg{constructor(){this.ge=0,this.pe=pg(),this.ye=Ef.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=um(),t=um(),n=um();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Uh()}})),new og(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=pg()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Fh(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class dg{constructor(e){this.Be=e,this.ke=new Map,this.qe=tm(),this.Qe=fg(),this.Ke=new gf(Zh)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:Uh()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Pp(i))if(0===n){const e=new cd(i.path);this.We(t,e,rp.newNoDocument(e,rd.min()))}else Fh(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Zm||Zm.tt(function(e,t,n,r,i){var s,a,o,c,l,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(c=null===(o=null===(a=null==d?void 0:d.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==c?c:0,padding:null!==(u=null===(l=null==d?void 0:d.bits)||void 0===l?void 0:l.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Be.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=xf(n).toUint8Array()}catch(e){if(e instanceof Sf)return Lh("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new ig(s,r,i)}catch(e){return Lh(e instanceof sg?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Te?null:a}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Be.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Be.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Pp(i.target)){const t=new cd(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,rp.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=um();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new ag(e,t,this.Ke,this.qe,n);return this.qe=tm(),this.Qe=fg(),this.Ke=new gf(Zh),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new hg,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new bf(Zh),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Dh("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Be._t(e)}He(e){this.ke.set(e,new hg),this.Be.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function fg(){return new gf(cd.comparator)}function pg(){return new gf(cd.comparator)}const mg={asc:"ASCENDING",desc:"DESCENDING"},gg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vg={and:"AND",or:"OR"};class yg{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bg(e,t){return e.useProto3Json||Od(t)?t:{value:t}}function wg(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function _g(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ig(e,t){return wg(e,t.toTimestamp())}function Sg(e){return Fh(!!e),rd.fromTimestamp(function(e){const t=Tf(e);return new nd(t.seconds,t.nanos)}(e))}function Eg(e,t){return kg(e,t).canonicalString()}function kg(e,t){const n=function(e){return new sd(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Tg(e){const t=sd.fromString(e);return Fh(Qg(t)),t}function Cg(e,t){return Eg(e.databaseId,t.path)}function xg(e,t){const n=Tg(t);if(n.get(1)!==e.databaseId.projectId)throw new Bh(Vh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Bh(Vh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new cd(Pg(n))}function Ng(e,t){return Eg(e.databaseId,t)}function Ag(e){const t=Tg(e);return 4===t.length?sd.emptyPath():Pg(t)}function Rg(e){return new sd(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Pg(e){return Fh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Dg(e,t,n){return{name:Cg(e,t),fields:n.value.mapValue.fields}}function Og(e,t,n){const r=xg(e,t.name),i=Sg(t.updateTime),s=t.createTime?Sg(t.createTime):rd.min(),a=new tp({mapValue:{fields:t.fields}}),o=rp.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Lg(e,t){let n;if(t instanceof Fm)n={update:Dg(e,t.key,t.value)};else if(t instanceof qm)n={delete:Cg(e,t.key)};else if(t instanceof jm)n={update:Dg(e,t.key,t.data),updateMask:Wg(t.fieldMask)};else{if(!(t instanceof Hm))return Uh();n={verify:Cg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof wm)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof _m)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Sm)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof km)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Uh()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ig(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Uh()}(e,t.precondition)),n}function Mg(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Am.updateTime(Sg(e.updateTime)):void 0!==e.exists?Am.exists(e.exists):Am.none()}(t.currentDocument):Am.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Fh("REQUEST_TIME"===t.setToServerValue),n=new wm;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new _m(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Sm(e)}else"increment"in t?n=new km(e,t.increment):Uh();const r=od.fromServerFormat(t.fieldPath);return new xm(r,n)}(e,t))):[];if(t.update){t.update.name;const i=xg(e,t.update.name),s=new tp({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new If(t.map((e=>od.fromServerFormat(e))))}(t.updateMask);return new jm(i,s,e,n,r)}return new Fm(i,s,n,r)}if(t.delete){const r=xg(e,t.delete);return new qm(r,n)}if(t.verify){const r=xg(e,t.verify);return new Hm(r,n)}return Uh()}function Ug(e,t){return{documents:[Ng(e,t.path)]}}function Fg(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ng(e,i);const s=function(e){if(0!==e.length)return Kg(hp.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Hg(e.field),direction:Bg(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=bg(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function jg(e){let t=Ag(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Fh(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Vg(e);return t instanceof hp&&pp(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new op(Gg(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Od(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new ip(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new ip(n,t)}(n.endAt)),Up(t,i,a,s,o,"F",c,l)}function Vg(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Gg(e.unaryFilter.field);return up.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Gg(e.unaryFilter.field);return up.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Gg(e.unaryFilter.field);return up.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Gg(e.unaryFilter.field);return up.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Uh()}}(e):void 0!==e.fieldFilter?function(e){return up.create(Gg(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Uh()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return hp.create(e.compositeFilter.filters.map((e=>Vg(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Uh()}}(e.compositeFilter.op))}(e):Uh()}function Bg(e){return mg[e]}function zg(e){return gg[e]}function qg(e){return vg[e]}function Hg(e){return{fieldPath:e.canonicalString()}}function Gg(e){return od.fromServerFormat(e.fieldPath)}function Kg(e){return e instanceof up?function(e){if("=="===e.op){if(Wf(e.value))return{unaryFilter:{field:Hg(e.field),op:"IS_NAN"}};if(Kf(e.value))return{unaryFilter:{field:Hg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Wf(e.value))return{unaryFilter:{field:Hg(e.field),op:"IS_NOT_NAN"}};if(Kf(e.value))return{unaryFilter:{field:Hg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hg(e.field),op:zg(e.op),value:e.value}}}(e):e instanceof hp?function(e){const t=e.getFilters().map((e=>Kg(e)));return 1===t.length?t[0]:{compositeFilter:{op:qg(e.op),filters:t}}}(e):Uh()}function Wg(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Qg(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Yg{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:rd.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:rd.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ef.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Yg(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yg(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Jg{constructor(e){this.ct=e}}function Xg(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:$g(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Cg(e,t.key),fields:t.data.value.mapValue.fields,updateTime:wg(e,t.version.toTimestamp()),createTime:wg(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Zg(t.version)};else{if(!t.isUnknownDocument())return Uh();r.unknownDocument={path:n.path.toArray(),version:Zg(t.version)}}return r}function $g(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Zg(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ev(e){const t=new nd(e.seconds,e.nanoseconds);return rd.fromTimestamp(t)}function tv(e,t){const n=(t.baseMutations||[]).map((t=>Mg(e.ct,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>Mg(e.ct,t))),i=nd.fromMillis(t.localWriteTimeMs);return new Gm(t.batchId,i,n,r)}function nv(e){const t=ev(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?ev(e.lastLimboFreeSnapshotVersion):rd.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Fh(1===e.documents.length),zp(Fp(Ag(e.documents[0])))}(e.query):function(e){return zp(jg(e))}(e.query),new Yg(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Ef.fromBase64String(e.resumeToken))}function rv(e,t){const n=Zg(t.snapshotVersion),r=Zg(t.lastLimboFreeSnapshotVersion);let i;i=Pp(t.target)?Ug(e.ct,t.target):Fg(e.ct,t.target).ut;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ap(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function iv(e){const t=jg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Gp(t,t.limit,"L"):t}function sv(e,t){return new Wm(t.largestBatchId,Mg(e.ct,t.overlayMutation))}function av(e,t){const n=t.path.lastSegment();return[e,Ud(t.path.popLast()),n]}function ov(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:Zg(r.readTime),documentKey:Ud(r.documentKey.path),largestBatchId:r.largestBatchId}}class cv{getBundleMetadata(e,t){return lv(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:ev(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return lv(e).put(function(e){return{bundleId:e.id,createTime:Zg(Sg(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return uv(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:iv(e.bundledQuery),readTime:ev(e.readTime)}}(e)}))}saveNamedQuery(e,t){return uv(e).put(function(e){return{name:e.name,readTime:Zg(Sg(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function lv(e){return df(e,"bundles")}function uv(e){return df(e,"namedQueries")}class hv{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new hv(e,n)}getOverlay(e,t){return dv(e).get(av(this.userId,t)).next((e=>e?sv(this.serializer,e):null))}getOverlays(e,t){const n=sm();return _d.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new Wm(t,i);r.push(this.ht(e,s))})),_d.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Ud(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(dv(e).H("collectionPathOverlayIndex",r))})),_d.waitFor(i)}getOverlaysForCollection(e,t,n){const r=sm(),i=Ud(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return dv(e).W("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=sv(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=sm();let s;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return dv(e).Y({index:"collectionGroupOverlayIndex",range:a},((e,t,n)=>{const a=sv(this.serializer,t);i.size()<r||a.largestBatchId===s?(i.set(a.getKey(),a),s=a.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return dv(e).put(function(e,t,n){const[r,i,s]=av(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Lg(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function dv(e){return df(e,"documentOverlays")}class fv{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Cf(e.integerValue));else if("doubleValue"in e){const n=Cf(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Ld(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(xf(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?Jf(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Uh()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),cd.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function pv(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function mv(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=pv(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}fv.bt=new fv;class gv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Lt(e){const t=this.Bt(e),n=mv(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Bt(e),n=mv(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class vv{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class yv{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class bv{constructor(){this.Gt=new gv,this.zt=new vv(this.Gt),this.jt=new yv(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class wv{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new wv(this.indexId,this.documentKey,this.arrayValue,n)}}function _v(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Iv(e.arrayValue,t.arrayValue),0!==n?n:(n=Iv(e.directionalValue,t.directionalValue),0!==n?n:cd.comparator(e.documentKey,t.documentKey)))}function Iv(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Sv{constructor(e){this.Yt=new bf(((e,t)=>od.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(Fh(e.collectionGroup===this.collectionId),this.en)return!1;const t=ud(e);if(void 0!==t&&!this.nn(t))return!1;const n=hd(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Zt.length||!this.sn(this.Zt[s++],e))return!1}return!0}on(){if(this.en)return null;let e=new bf(od.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new dd(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new dd(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new dd(n.field,"asc"===n.dir?0:1)));return new ld(ld.UNKNOWN_ID,this.collectionId,t,fd.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Ev(e){var t,n;if(Fh(e instanceof up||e instanceof hp),e instanceof up){if(e instanceof kp){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>up.create(e.field,"==",t))))||[];return hp.create(r,"or")}return e}const r=e.filters.map((e=>Ev(e)));return hp.create(r,e.op)}function kv(e){if(0===e.getFilters().length)return[];const t=Nv(Ev(e));return Fh(xv(t)),Tv(t)||Cv(t)?[t]:t.getFilters()}function Tv(e){return e instanceof up}function Cv(e){return e instanceof hp&&pp(e)}function xv(e){return Tv(e)||Cv(e)||function(e){if(e instanceof hp&&fp(e)){for(const t of e.getFilters())if(!Tv(t)&&!Cv(t))return!1;return!0}return!1}(e)}function Nv(e){if(Fh(e instanceof up||e instanceof hp),e instanceof up)return e;if(1===e.filters.length)return Nv(e.filters[0]);const t=e.filters.map((e=>Nv(e)));let n=hp.create(t,e.op);return n=Pv(n),xv(n)?n:(Fh(n instanceof hp),Fh(dp(n)),Fh(n.filters.length>1),n.filters.reduce(((e,t)=>Av(e,t))))}function Av(e,t){let n;return Fh(e instanceof up||e instanceof hp),Fh(t instanceof up||t instanceof hp),n=e instanceof up?t instanceof up?function(e,t){return hp.create([e,t],"and")}(e,t):Rv(e,t):t instanceof up?Rv(t,e):function(e,t){if(Fh(e.filters.length>0&&t.filters.length>0),dp(e)&&dp(t))return yp(e,t.getFilters());const n=fp(e)?e:t,r=fp(e)?t:e,i=n.filters.map((e=>Av(e,r)));return hp.create(i,"or")}(e,t),Pv(n)}function Rv(e,t){if(dp(t))return yp(t,e.getFilters());{const n=t.filters.map((t=>Av(e,t)));return hp.create(n,"or")}}function Pv(e){if(Fh(e instanceof up||e instanceof hp),e instanceof up)return e;const t=e.getFilters();if(1===t.length)return Pv(t[0]);if(mp(e))return e;const n=t.map((e=>Pv(e))),r=[];return n.forEach((t=>{t instanceof up?r.push(t):t instanceof hp&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:hp.create(r,e.op)}class Dv{constructor(){this._n=new Ov}addToCollectionParentIndex(e,t){return this._n.add(t),_d.resolve()}getCollectionParents(e,t){return _d.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return _d.resolve()}deleteFieldIndex(e,t){return _d.resolve()}deleteAllFieldIndexes(e){return _d.resolve()}createTargetIndexes(e,t){return _d.resolve()}getDocumentsMatchingTarget(e,t){return _d.resolve(null)}getIndexType(e,t){return _d.resolve(0)}getFieldIndexes(e,t){return _d.resolve([])}getNextCollectionGroupToUpdate(e){return _d.resolve(null)}getMinOffset(e,t){return _d.resolve(gd.min())}getMinOffsetFromCollectionGroup(e,t){return _d.resolve(gd.min())}updateCollectionGroup(e,t,n){return _d.resolve()}updateIndexEntries(e,t){return _d.resolve()}}class Ov{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new bf(sd.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new bf(sd.comparator)).toArray()}}const Lv=new Uint8Array(0);class Mv{constructor(e,t){this.databaseId=t,this.an=new Ov,this.un=new Zp((e=>Ap(e)),((e,t)=>Rp(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:Ud(r)};return Uv(e).put(i)}return _d.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[td(t),""],!1,!0);return Uv(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Vd(r.parent))}return n}))}addFieldIndex(e,t){const n=jv(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Vv(e);return i.next((e=>{n.put(ov(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=jv(e),r=Vv(e),i=Fv(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=jv(e),n=Fv(e),r=Vv(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return _d.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new Sv(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Fv(e);let r=!0;const i=new Map;return _d.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=um();const r=[];return _d.forEach(i,((i,s)=>{Dh("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(Ap(t)));const a=function(e,t){const n=ud(t);if(void 0===n)return null;for(const r of Dp(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),o=function(e,t){const n=new Map;for(const r of hd(t))for(const t of Dp(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of hd(t)){const t=0===i.kind?Op(e,i.fieldPath,e.startAt):Lp(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new ip(n,r)}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of hd(t)){const t=0===i.kind?Lp(e,i.fieldPath,e.endAt):Op(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new ip(n,r)}(s,i),u=this.hn(i,s,c),h=this.hn(i,s,l),d=this.Pn(i,s,o),f=this.In(i.indexId,a,u,c.inclusive,h,l.inclusive,d);return _d.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=cd.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return _d.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:kv(hp.create(e.filters,"and")).map((t=>Np(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,s,a){const o=(null!=t?t.length:1)*Math.max(n.length,i.length),c=o/(null!=t?t.length:1),l=[];for(let u=0;u<o;++u){const o=t?this.Tn(t[u/c]):Lv,h=this.En(e,o,n[u%c],r),d=this.dn(e,o,i[u%c],s),f=a.map((t=>this.En(e,o,t,!0)));l.push(...this.createRange(h,d,f))}return l}En(e,t,n,r){const i=new wv(e,cd.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new wv(e,cd.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new Sv(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return _d.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new bf(od.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new bv;for(const r of hd(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);fv.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new bv;return fv.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new bv;return fv.bt.Pt(qf(this.databaseId,t),n.Ht(function(e){const t=hd(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new bv);let i=0;for(const s of hd(e)){const e=n[i++];for(const n of r)if(this.Vn(t,s.fieldPath)&&Gf(e))r=this.mn(r,s,e);else{const t=n.Ht(s.kind);fv.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new bv;n.seed(e.Wt()),fv.bt.Pt(s,n.Ht(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof up&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=jv(e),r=Vv(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return _d.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new fd(t.sequenceNumber,new gd(ev(t.readTime),new cd(Vd(t.documentKey)),t.largestBatchId)):fd.empty(),r=e.fields.map((e=>{let[t,n]=e;return new dd(od.fromServerFormat(t),n)}));return new ld(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Zh(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=jv(e),i=Vv(e);return this.gn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>_d.forEach(t,(t=>i.put(ov(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return _d.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?_d.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),_d.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?_d.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return Fv(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return Fv(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=Fv(e);let i=new bf(_v);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new wv(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new bf(_v);const r=this.An(t,e);if(null==r)return n;const i=ud(t);if(null!=i){const s=e.data.field(i.fieldPath);if(Gf(s))for(const i of s.arrayValue.values||[])n=n.add(new wv(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new wv(t.indexId,e.key,Lv,r));return n}wn(e,t,n,r,i){Dh("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),a=t.getIterator();let o=_f(s),c=_f(a);for(;o||c;){let e=!1,t=!1;if(o&&c){const r=n(o,c);r<0?t=!0:r>0&&(e=!0)}else null!=o?t=!0:e=!0;e?(r(c),c=_f(a)):t?(i(o),o=_f(s)):(o=_f(s),c=_f(a))}}(r,i,_v,(r=>{s.push(this.Sn(e,t,n,r))}),(r=>{s.push(this.bn(e,t,n,r))})),_d.waitFor(s)}gn(e){let t=1;return Vv(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>_v(e,t))).filter(((e,t,n)=>!t||0!==_v(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=_v(s,e),i=_v(s,t);if(0===n)r[0]=e.Jt();else if(n>0&&i<0)r.push(s),r.push(s.Jt());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Lv,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Lv,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return _v(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Bv)}getMinOffset(e,t){return _d.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||Uh())))).next(Bv)}}function Uv(e){return df(e,"collectionParents")}function Fv(e){return df(e,"indexEntries")}function jv(e){return df(e,"indexConfiguration")}function Vv(e){return df(e,"indexState")}function Bv(e){Fh(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;vd(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new gd(t.readTime,t.documentKey,n)}const zv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qv{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new qv(e,qv.DEFAULT_COLLECTION_PERCENTILE,qv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Hv(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const c=r.Y({range:a},((e,t,n)=>(o++,n.delete())));s.push(c.next((()=>{Fh(1===o)})));const l=[];for(const u of n.mutations){const e=qd(t,u.key.path,n.batchId);s.push(i.delete(e)),l.push(u.key)}return _d.waitFor(s).next((()=>l))}function Gv(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Uh();t=e.noDocument}return JSON.stringify(t).length}qv.DEFAULT_COLLECTION_PERCENTILE=10,qv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qv.DEFAULT=new qv(41943040,qv.DEFAULT_COLLECTION_PERCENTILE,qv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qv.DISABLED=new qv(-1,0,0);class Kv{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){Fh(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Kv(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qv(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Yv(e),s=Qv(e);return s.add({}).next((a=>{Fh("number"==typeof a);const o=new Gm(a,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>Lg(e.ct,t))),i=n.mutations.map((t=>Lg(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,o),l=[];let u=new bf(((e,t)=>Zh(e.canonicalString(),t.canonicalString())));for(const e of r){const t=qd(this.userId,e.key.path,a);u=u.add(e.key.path.popLast()),l.push(s.put(c)),l.push(i.put(t,Hd))}return u.forEach((t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[a]=o.keys()})),_d.waitFor(l).next((()=>o))}))}lookupMutationBatch(e,t){return Qv(e).get(t).next((e=>e?(Fh(e.userId===this.userId),tv(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?_d.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Qv(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Fh(t.batchId>=n),i=tv(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Qv(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qv(e).W("userMutationsIndex",t).next((e=>e.map((e=>tv(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=zd(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Yv(e).Y({range:r},((n,r,s)=>{const[a,o,c]=n,l=Vd(o);if(a===this.userId&&t.path.isEqual(l))return Qv(e).get(c).next((e=>{if(!e)throw Uh();Fh(e.userId===this.userId),i.push(tv(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new bf(Zh);const r=[];return t.forEach((t=>{const i=zd(this.userId,t.path),s=IDBKeyRange.lowerBound(i),a=Yv(e).Y({range:s},((e,r,i)=>{const[s,a,o]=e,c=Vd(a);s===this.userId&&t.path.isEqual(c)?n=n.add(o):i.done()}));r.push(a)})),_d.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=zd(this.userId,n),s=IDBKeyRange.lowerBound(i);let a=new bf(Zh);return Yv(e).Y({range:s},((e,t,i)=>{const[s,o,c]=e,l=Vd(o);s===this.userId&&n.isPrefixOf(l)?l.length===r&&(a=a.add(c)):i.done()})).next((()=>this.Fn(e,a)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Qv(e).get(t).next((e=>{if(null===e)throw Uh();Fh(e.userId===this.userId),n.push(tv(this.serializer,e))})))})),_d.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Hv(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),_d.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return _d.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Yv(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Vd(e[1]);r.push(t)}else n.done()})).next((()=>{Fh(0===r.length)}))}))}containsKey(e,t){return Wv(e,this.userId,t)}xn(e){return Jv(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Wv(e,t,n){const r=zd(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return Yv(e).Y({range:s,J:!0},((e,n,r)=>{const[s,o,c]=e;s===t&&o===i&&(a=!0),r.done()})).next((()=>a))}function Qv(e){return df(e,"mutations")}function Yv(e){return df(e,"documentMutations")}function Jv(e){return df(e,"mutationQueues")}class Xv{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Xv(0)}static Ln(){return new Xv(-1)}}class $v{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new Xv(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>rd.fromTimestamp(new nd(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Zv(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(Fh(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Zv(e).Y(((s,a)=>{const o=nv(a);o.sequenceNumber<=t&&null===n.get(o.targetId)&&(r++,i.push(this.removeTargetData(e,o)))})).next((()=>_d.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Zv(e).Y(((e,n)=>{const r=nv(n);t(r)}))}Bn(e){return ey(e).get("targetGlobalKey").next((e=>(Fh(null!==e),e)))}kn(e,t){return ey(e).put("targetGlobalKey",t)}qn(e,t){return Zv(e).put(rv(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Ap(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Zv(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=nv(n);Rp(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=ty(e);return t.forEach((t=>{const s=Ud(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),_d.waitFor(r)}removeMatchingKeys(e,t,n){const r=ty(e);return _d.forEach(t,(t=>{const i=Ud(t.path);return _d.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=ty(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ty(e);let i=um();return r.Y({range:n,J:!0},((e,t,n)=>{const r=Vd(e[1]),s=new cd(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=Ud(t.path),r=IDBKeyRange.bound([n],[td(n)],!1,!0);let i=0;return ty(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return Zv(e).get(t).next((e=>e?nv(e):null))}}function Zv(e){return df(e,"targets")}function ey(e){return df(e,"targetGlobal")}function ty(e){return df(e,"targetDocuments")}function ny(e,t){let[n,r]=e,[i,s]=t;const a=Zh(n,i);return 0===a?Zh(r,s):a}class ry{constructor(e){this.Kn=e,this.buffer=new bf(ny),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ny(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class iy{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){Dh("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Td(e)?Dh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await wd(e)}await this.zn(3e5)}))}}class sy{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return _d.resolve(Dd._e);const n=new ry(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Dh("LruGarbageCollector","Garbage collection skipped; disabled"),_d.resolve(zv)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Dh("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),zv):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,s,a,o,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Dh("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),Ph()<=kt.DEBUG&&Dh("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-o)+"ms\n"+"Total Duration: ".concat(c-l,"ms")),_d.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function ay(e,t){return new sy(e,t)}class oy{constructor(e,t){this.db=e,this.garbageCollector=ay(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return cy(e,n)}removeReference(e,t,n){return cy(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return cy(e,t)}er(e,t){return function(e,t){let n=!1;return Jv(e).Z((r=>Wv(e,r,t).next((e=>(e&&(n=!0),_d.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((s,a)=>{if(a<=t){const t=this.er(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,rd.min()),ty(e).delete(function(e){return[0,Ud(e.path)]}(s)))))}));r.push(t)}})).next((()=>_d.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return cy(e,t)}Xn(e,t){const n=ty(e);let r,i=Dd._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[s,a]=e,{path:o,sequenceNumber:c}=n;0===s?(i!==Dd._e&&t(new cd(Vd(r)),i),i=c,r=o):i=Dd._e})).next((()=>{i!==Dd._e&&t(new cd(Vd(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function cy(e,t){return ty(e).put(function(e,t){return{targetId:0,path:Ud(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class ly{constructor(){this.changes=new Zp((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rp.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?_d.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uy{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return py(e).put(n)}removeEntry(e,t,n){return py(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],$g(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=rp.newInvalidDocument(t);return py(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(my(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:rp.newInvalidDocument(t)};return py(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(my(t))},((e,r)=>{n={document:this.nr(t,r),size:Gv(r)}})).next((()=>n))}getEntries(e,t){let n=tm();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=tm(),r=new gf(cd.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,Gv(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return _d.resolve();let r=new bf(vy);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(my(r.first()),my(r.last())),s=r.getIterator();let a=s.getNext();return py(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=cd.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&vy(a,i)<0;)n(a,null),a=s.getNext();a&&a.isEqual(i)&&(n(a,t),a=s.hasNext()?s.getNext():null),a?r.U(my(a)):r.done()})).next((()=>{for(;a;)n(a,null),a=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),$g(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],o=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return py(e).W(IDBKeyRange.bound(a,o,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=tm();for(const i of e){const e=this.nr(cd.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Yp(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=tm();const s=gy(t,n),a=gy(t,gd.max());return py(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},((e,t,n)=>{const s=this.nr(cd.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new dy(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return fy(e).get("remoteDocumentGlobalKey").next((e=>(Fh(!!e),e)))}tr(e,t){return fy(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Og(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=cd.fromSegments(t.noDocument.path),r=ev(t.noDocument.readTime);n=rp.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Uh();{const e=cd.fromSegments(t.unknownDocument.path),r=ev(t.unknownDocument.version);n=rp.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new nd(e[0],e[1]);return rd.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(rd.min()))return e}return rp.newInvalidDocument(e)}}function hy(e){return new uy(e)}class dy extends ly{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new Zp((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new bf(((e,t)=>Zh(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const a=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,a.readTime)),s.isValidDocument()){const o=Xg(this.ar.serializer,s);r=r.add(i.path.popLast());const c=Gv(o);n+=c-a.size,t.push(this.ar.addEntry(e,i,o))}else if(n-=a.size,this.trackRemovals){const n=Xg(this.ar.serializer,s.convertToNoDocument(rd.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),_d.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((e=>{let{documents:t,_r:n}=e;return n.forEach(((e,n)=>{this.ur.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function fy(e){return df(e,"remoteDocumentGlobal")}function py(e){return df(e,"remoteDocumentsV14")}function my(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function gy(e,t){const n=t.documentKey.path.toArray();return[e,$g(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function vy(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Zh(n[s],r[s]),i)return i;return i=Zh(n.length,r.length),i||(i=Zh(n[n.length-2],r[r.length-2]),i||Zh(n[n.length-1],r[r.length-1]))}class yy{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class by{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Lm(n.mutation,e,If.empty(),nd.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,um()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:um();const r=sm();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=rm();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=sm();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,um())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=tm();const s=om(),a=om();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof jm)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Lm(a.mutation,t,a.mutation.getFieldMask(),nd.now())):s.set(t.key,If.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new yy(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=om();let r=new gf(((e,t)=>e-t)),i=um();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||If.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||um()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,c=r.value,l=am();c.forEach((e=>{if(!i.has(e)){const r=Dm(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,l))}return _d.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return cd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Vp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):_d.resolve(sm());let a=-1,o=i;return s.next((t=>_d.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?_d.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,um()))).next((e=>({batchId:a,changes:im(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new cd(t)).next((e=>{let t=rm();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=rm();return this.indexManager.getCollectionParents(e,i).next((a=>_d.forEach(a,(a=>{const o=function(e,t){return new Mp(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,rp.newInvalidDocument(r)))}));let n=rm();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Lm(s.mutation,r,If.empty(),nd.now()),Yp(t,r)&&(n=n.insert(e,r))})),n}))}}class wy{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return _d.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Sg(e.createTime)}}(t)),_d.resolve()}getNamedQuery(e,t){return _d.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:iv(e.bundledQuery),readTime:Sg(e.readTime)}}(t)),_d.resolve()}}class _y{constructor(){this.overlays=new gf(cd.comparator),this.hr=new Map}getOverlay(e,t){return _d.resolve(this.overlays.get(t))}getOverlays(e,t){const n=sm();return _d.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),_d.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),_d.resolve()}getOverlaysForCollection(e,t,n){const r=sm(),i=t.length+1,s=new cd(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return _d.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new gf(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=sm(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=sm(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return _d.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Wm(t,n));let i=this.hr.get(t);void 0===i&&(i=um(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class Iy{constructor(){this.Pr=new bf(Sy.Ir),this.Tr=new bf(Sy.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new Sy(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new Sy(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new cd(new sd([])),n=new Sy(t,e),r=new Sy(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new cd(new sd([])),n=new Sy(t,e),r=new Sy(t,e+1);let i=um();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Sy(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Sy{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return cd.comparator(e.key,t.key)||Zh(e.pr,t.pr)}static Er(e,t){return Zh(e.pr,t.pr)||cd.comparator(e.key,t.key)}}class Ey{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new bf(Sy.Ir)}checkEmpty(e){return _d.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Gm(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.wr=this.wr.add(new Sy(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _d.resolve(s)}lookupMutationBatch(e,t){return _d.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return _d.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return _d.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return _d.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Sy(t,0),r=new Sy(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),_d.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new bf(Zh);return t.forEach((e=>{const t=new Sy(e,0),r=new Sy(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),_d.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;cd.isDocumentKey(i)||(i=i.child(""));const s=new Sy(new cd(i),0);let a=new bf(Zh);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.pr)),!0)}),s),_d.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Fh(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return _d.forEach(t.mutations,(r=>{const i=new Sy(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new Sy(t,0),r=this.wr.firstAfterOrEqual(n);return _d.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,_d.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ky{constructor(e){this.vr=e,this.docs=new gf(cd.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return _d.resolve(n?n.document.mutableCopy():rp.newInvalidDocument(t))}getEntries(e,t){let n=tm();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():rp.newInvalidDocument(e))})),_d.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=tm();const s=t.path,a=new cd(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||vd(md(a),n)<=0||(r.has(a.key)||Yp(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return _d.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Uh()}Fr(e,t){return _d.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Ty(this)}getSize(e){return _d.resolve(this.size)}}class Ty extends ly{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),_d.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class Cy{constructor(e){this.persistence=e,this.Mr=new Zp((e=>Ap(e)),Rp),this.lastRemoteSnapshotVersion=rd.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Iy,this.targetCount=0,this.Lr=Xv.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),_d.resolve()}getLastRemoteSnapshotVersion(e){return _d.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _d.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),_d.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),_d.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new Xv(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,_d.resolve()}updateTargetData(e,t){return this.qn(t),_d.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,_d.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),_d.waitFor(i).next((()=>r))}getTargetCount(e){return _d.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return _d.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),_d.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),_d.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),_d.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return _d.resolve(n)}containsKey(e,t){return _d.resolve(this.Nr.containsKey(t))}}class xy{constructor(e,t){this.Br={},this.overlays={},this.kr=new Dd(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Cy(this),this.indexManager=new Dv,this.remoteDocumentCache=function(e){return new ky(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Jg(t),this.$r=new wy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _y,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new Ey(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){Dh("MemoryPersistence","Starting transaction:",e);const r=new Ny(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return _d.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class Ny extends bd{constructor(e){super(),this.currentSequenceNumber=e}}class Ay{constructor(e){this.persistence=e,this.zr=new Iy,this.jr=null}static Hr(e){return new Ay(e)}get Jr(){if(this.jr)return this.jr;throw Uh()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),_d.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),_d.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),_d.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _d.forEach(this.Jr,(n=>{const r=cd.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,rd.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return _d.or([()=>_d.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class Ry{constructor(e){this.serializer=e}N(e,t,n,r){const i=new Id("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Bd,{unique:!0}),e.createObjectStore("documentMutations")}(e),Py(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=_d.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Py(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:rd.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Bd,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return _d.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Xr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(s=s.next((()=>this.ti(i)))),n<8&&r>=8&&(s=s.next((()=>this.ni(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ri(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:nf});t.createIndex("collectionPathOverlayIndex",rf,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",sf,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Gd});t.createIndex("documentKeyIndex",Kd),t.createIndex("collectionGroupIndex",Wd)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.si(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:$d}).createIndex("sequenceNumberIndex",Zd,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:ef}).createIndex("documentKeyIndex",tf,{unique:!1})}(e)))),s}ei(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=Gv(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>_d.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>_d.forEach(n,(n=>{Fh(n.userId===t.userId);const r=tv(this.serializer,n);return Hv(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const s=new sd(n),a=function(e){return[0,Ud(e)]}(s);r.push(t.get(a).next((n=>n?_d.resolve():(n=>t.put({targetId:0,path:Ud(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>_d.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:Xd});const n=t.store("collectionParents"),r=new Ov,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Ud(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new sd(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,s]=e;const a=Vd(r);return i(a.popLast())}))))}ri(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=nv(n),i=rv(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new cd(sd.fromString(e.document.name).popFirst(5)):e.noDocument?cd.fromSegments(e.noDocument.path):e.unknownDocument?cd.fromSegments(e.unknownDocument.path):Uh()}(n).path.toArray(),a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>_d.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=hy(this.serializer),i=new xy(Ay.Hr,this.serializer.ct);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:um();tv(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),_d.forEach(n,((e,n)=>{const s=new Nh(n),a=hv.lt(this.serializer,s),o=i.getIndexManager(s),c=Kv.lt(s,this.serializer,o,i.referenceDelegate);return new by(r,c,a,o).recalculateAndSaveOverlaysForDocumentKeys(new hf(t,Dd._e),e).next()}))}))}}function Py(e){e.createObjectStore("targetDocuments",{keyPath:Yd}).createIndex("documentTargetsIndex",Jd,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Qd,{unique:!0}),e.createObjectStore("targetGlobal")}const Dy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Oy{constructor(e,t,n,r,i,s,a,o,c,l){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=s,this.document=a,this._i=c,this.ai=l,this.ui=u,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!Oy.D())throw new Bh(Vh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new oy(this,r),this.Ti=t+"main",this.serializer=new Jg(o),this.Ei=new Sd(this.Ti,this.ui,new Ry(this.serializer)),this.Qr=new $v(this.referenceDelegate,this.serializer),this.remoteDocumentCache=hy(this.serializer),this.$r=new cv,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===l&&Oh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Bh(Vh.FAILED_PRECONDITION,Dy);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new Dd(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>My(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(Td(e))return Dh("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Dh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return Ly(e).get("owner").next((e=>_d.resolve(this.Si(e))))}bi(e){return My(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=df(e,"clientMetadata");return t.W().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return _d.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?_d.resolve(!0):Ly(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new Bh(Vh.FAILED_PRECONDITION,Dy);return!1}}return!(!this.networkEnabled||!this.inForeground)||My(e).W().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Dh("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new hf(e,Dd._e);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Li()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>My(e).W().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return Kv.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Mv(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return hv.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){Dh("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?uf:14===e?lf:13===e?cf:12===e?of:11===e?af:void Uh()}(this.ui);let s;return this.Ei.runTransaction(e,r,i,(r=>(s=new hf(r,this.kr?this.kr.next():Dd._e),"readwrite-primary"===t?this.gi(s).next((e=>!!e||this.pi(s))).next((t=>{if(!t)throw Oh("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new Bh(Vh.FAILED_PRECONDITION,yd);return n(s)})).next((e=>this.wi(s).next((()=>e)))):this.ki(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}ki(e){return Ly(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Bh(Vh.FAILED_PRECONDITION,Dy)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ly(e).put("owner",t)}static D(){return Sd.D()}yi(e){const t=Ly(e);return t.get("owner").next((e=>this.Si(e)?(Dh("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):_d.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Oh("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;st()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return Dh("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Oh("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Oh("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(e){}}Fi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Ly(e){return df(e,"owner")}function My(e){return df(e,"clientMetadata")}function Uy(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Fy{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=um(),r=um();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Fy(e,t.fromCache,n,r)}}class jy{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Vy{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=st()?8:Sd.v(Ze())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new jy;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(Ph()<=kt.DEBUG&&Dh("QueryEngine","SDK will not create cache indexes for query:",Qp(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),_d.resolve()):(Ph()<=kt.DEBUG&&Dh("QueryEngine","Query:",Qp(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Ph()<=kt.DEBUG&&Dh("QueryEngine","The SDK decides to create cache indexes for query:",Qp(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zp(t))):_d.resolve())}ji(e,t){if(jp(t))return _d.resolve(null);let n=zp(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Gp(t,null,"F"),n=zp(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=um(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,Gp(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return jp(t)||r.isEqual(rd.min())?_d.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?_d.resolve(null):(Ph()<=kt.DEBUG&&Dh("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Qp(t)),this.es(e,s,t,pd(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new bf(Xp(e));return t.forEach(((t,r)=>{Yp(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return Ph()<=kt.DEBUG&&Dh("QueryEngine","Using full collection scan to execute query:",Qp(t)),this.zi.getDocumentsMatchingQuery(e,t,gd.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class By{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new gf(Zh),this.rs=new Zp((e=>Ap(e)),Rp),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new by(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function zy(e,t,n,r){return new By(e,t,n,r)}async function qy(e,t){const n=jh(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=um();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Hy(e){const t=jh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function Gy(e,t,n){let r=um(),i=um();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=tm();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(rd.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Dh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function Ky(e,t){const n=jh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Wy(e,t){const n=jh(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,_d.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Yg(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function Qy(e,t,n){const r=jh(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Td(e))throw e;Dh("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function Yy(e,t,n){const r=jh(e);let i=rd.min(),s=um();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=jh(e),i=r.rs.get(n);return void 0!==i?_d.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,zp(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:rd.min(),n?s:um()))).next((e=>($y(r,Jp(t),e),{documents:e,hs:s})))))}function Jy(e,t){const n=jh(e),r=jh(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function Xy(e,t){const n=jh(e),r=n.ss.get(t)||rd.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,pd(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>($y(n,t,e),e)))}function $y(e,t,n){let r=e.ss.get(t)||rd.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function Zy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:um();const r=await Wy(e,zp(iv(t.bundledQuery))),i=jh(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=Sg(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(e,t);const a=r.withResumeToken(Ef.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(e,a).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function eb(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function tb(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function nb(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class rb{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Bh(r.error.code,r.error.message))),s?new rb(e,t,r.state,i):(Oh("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ib{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Bh(n.error.code,n.error.message))),i?new ib(e,n.state,r):(Oh("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sb{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=dm();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Md(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new sb(e,i):(Oh("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class ab{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ab(t.clientId,t.onlineState):(Oh("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class ob{constructor(){this.activeTargetIds=dm()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cb{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new gf(Zh),this.started=!1,this.ys=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=eb(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new ob),this.bs=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(eb(this.persistenceKey,n));if(e){const t=sb.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,t,n){this.Ls(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(nb(this.persistenceKey,e));if(n){const r=ib.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(nb(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Dh("SharedClientState","READ",e,t),t}setItem(e,t){Dh("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Dh("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(Dh("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void Oh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=Dd._e;if(null!=e)try{const n=JSON.parse(e);Fh("number"==typeof n),t=n}catch(e){Oh("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Dd._e&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,t,n){const r=new rb(this.currentUser,e,t,n),i=tb(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Bs(e){const t=tb(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=nb(this.persistenceKey,e),i=new ib(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return sb.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return rb.Es(new Nh(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return ib.Es(r,t)}xs(e){return ab.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);Dh("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),s=[],a=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||a.push(e)})),this.syncEngine.eo(s,a).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=dm();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class lb{constructor(){this.no=new ob,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new ob,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ub{io(e){}shutdown(){}}class hb{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Dh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Dh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let db=null;function fb(){return null===db?db=268435456+Math.round(2147483648*Math.random()):db++,"0x"+db.toString(16)}const pb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mb{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const gb="WebChannelConnection";class vb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const s=fb(),a=this.bo(e,t.toUriEncodedString());Dh("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(o,r,i),this.Co(e,a,o,n).then((t=>(Dh("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Lh("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t}))}vo(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ah,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=pb[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=fb();return new Promise(((s,a)=>{const o=new kh;o.setWithCredentials(!0),o.listenOnce(_h.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case wh.NO_ERROR:const t=o.getResponseJson();Dh(gb,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case wh.TIMEOUT:Dh(gb,"RPC '".concat(e,"' ").concat(i," timed out")),a(new Bh(Vh.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:const n=o.getStatus();if(Dh(gb,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Vh).indexOf(t)>=0?t:Vh.UNKNOWN}(t.status);a(new Bh(e,t.message))}else a(new Bh(Vh.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Bh(Vh.UNAVAILABLE,"Connection failed."));break;default:Uh()}}finally{Dh(gb,"RPC '".concat(e,"' ").concat(i," completed."))}}));const c=JSON.stringify(r);Dh(gb,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",c,n,15)}))}Fo(e,t,n){const r=fb(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=yh(),a=bh(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(o.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const l=i.join("");Dh(gb,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),o);const u=s.createWebChannel(l,o);let h=!1,d=!1;const f=new mb({lo:t=>{d?Dh(gb,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Dh(gb,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Dh(gb,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Eh.EventType.OPEN,(()=>{d||Dh(gb,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Eh.EventType.CLOSE,(()=>{d||(d=!0,Dh(gb,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,Eh.EventType.ERROR,(t=>{d||(d=!0,Lh(gb,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new Bh(Vh.UNAVAILABLE,"The operation could not be completed")))})),p(u,Eh.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Fh(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Dh(gb,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Ym[e];if(void 0!==t)return $m(t)}(t),i=a.message;void 0===n&&(n=Vh.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.Vo(new Bh(n,i)),u.close()}else Dh(gb,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(a,Ih.STAT_EVENT,(t=>{t.stat===Sh.PROXY?Dh(gb,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Sh.NOPROXY&&Dh(gb,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function yb(){return"undefined"!=typeof window?window:null}function bb(){return"undefined"!=typeof document?document:null}function wb(e){return new yg(e,!0)}class _b{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&Dh("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Lo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class Ib{constructor(e,t,n,r,i,s,a,o){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new _b(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===Vh.RESOURCE_EXHAUSTED?(Oh(t.toString()),Oh("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===Vh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new Bh(Vh.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return Dh("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(Dh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Sb extends Ib{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Uh()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Fh(void 0===t||"string"==typeof t),Ef.fromBase64String(t||"")):(Fh(void 0===t||t instanceof Uint8Array),Ef.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Vh.UNKNOWN:$m(e.code);return new Bh(t,e.message||"")}(a);n=new ug(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=xg(e,r.document.name),s=Sg(r.document.updateTime),a=r.document.createTime?Sg(r.document.createTime):rd.min(),o=new tp({mapValue:{fields:r.document.fields}}),c=rp.newFoundDocument(i,s,a,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new cg(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=xg(e,r.document),s=r.readTime?Sg(r.readTime):rd.min(),a=rp.newNoDocument(i,s),o=r.removedTargetIds||[];n=new cg([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=xg(e,r.document),s=r.removedTargetIds||[];n=new cg([],s,i,null)}else{if(!("filter"in t))return Uh();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Qm(r,i),a=e.targetId;n=new lg(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return rd.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?rd.min():t.readTime?Sg(t.readTime):rd.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=Rg(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Pp(r)?{documents:Ug(e,r)}:{query:Fg(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=_g(e,t.resumeToken);const r=bg(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(rd.min())>0){n.readTime=wg(e,t.snapshotVersion.toTimestamp());const r=bg(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Uh()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=Rg(this.serializer),t.removeTarget=e,this.t_(t)}}class Eb extends Ib{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(Fh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(Fh(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Sg(e.updateTime):Sg(t);return n.isEqual(rd.min())&&(n=Sg(t)),new Nm(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Sg(e.commitTime);return this.listener.T_(n,t)}return Fh(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Rg(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Lg(this.serializer,e)))};this.t_(t)}}class kb extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new Bh(Vh.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.So(e,kg(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Vh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Bh(Vh.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.vo(e,kg(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Vh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Bh(Vh.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class Tb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(Oh(t),this.g_=!1):Dh("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class Cb{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{Mb(this)&&(Dh("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=jh(e);t.v_.add(4),await Nb(t),t.x_.set("Unknown"),t.v_.delete(4),await xb(t)}(this))}))})),this.x_=new Tb(n,r)}}async function xb(e){if(Mb(e))for(const t of e.F_)await t(!0)}async function Nb(e){for(const t of e.F_)await t(!1)}function Ab(e,t){const n=jh(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Lb(n)?Ob(n):ew(n).Jo()&&Pb(n,t))}function Rb(e,t){const n=jh(e),r=ew(n);n.C_.delete(t),r.Jo()&&Db(n,t),0===n.C_.size&&(r.Jo()?r.Xo():Mb(n)&&n.x_.set("Unknown"))}function Pb(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(rd.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ew(e).c_(t)}function Db(e,t){e.O_.Oe(t),ew(e).l_(t)}function Ob(e){e.O_=new dg({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),ew(e).start(),e.x_.p_()}function Lb(e){return Mb(e)&&!ew(e).Ho()&&e.C_.size>0}function Mb(e){return 0===jh(e).v_.size}function Ub(e){e.O_=void 0}async function Fb(e){e.C_.forEach(((t,n)=>{Pb(e,t)}))}async function jb(e,t){Ub(e),Lb(e)?(e.x_.S_(t),Ob(e)):e.x_.set("Unknown")}async function Vb(e,t,n){if(e.x_.set("Online"),t instanceof ug&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){Dh("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Bb(e,n)}else if(t instanceof cg?e.O_.$e(t):t instanceof lg?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(rd.min()))try{const t=await Hy(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(Ef.EMPTY_BYTE_STRING,r.snapshotVersion)),Db(e,t);const i=new Yg(r.target,t,n,r.sequenceNumber);Pb(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Dh("RemoteStore","Failed to raise snapshot:",t),await Bb(e,t)}}async function Bb(e,t,n){if(!Td(t))throw t;e.v_.add(1),await Nb(e),e.x_.set("Offline"),n||(n=()=>Hy(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Dh("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await xb(e)}))}function zb(e,t){return t().catch((n=>Bb(e,n,t)))}async function qb(e){const t=jh(e),n=tw(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;Hb(t);)try{const e=await Ky(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,Gb(t,e)}catch(e){await Bb(t,e)}Kb(t)&&Wb(t)}function Hb(e){return Mb(e)&&e.D_.length<10}function Gb(e,t){e.D_.push(t);const n=tw(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function Kb(e){return Mb(e)&&!tw(e).Ho()&&e.D_.length>0}function Wb(e){tw(e).start()}async function Qb(e){tw(e).d_()}async function Yb(e){const t=tw(e);for(const n of e.D_)t.I_(n.mutations)}async function Jb(e,t,n){const r=e.D_.shift(),i=Km.from(r,t,n);await zb(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await qb(e)}async function Xb(e,t){t&&tw(e).P_&&await async function(e,t){if(function(e){return Xm(e)&&e!==Vh.ABORTED}(t.code)){const n=e.D_.shift();tw(e).Zo(),await zb(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await qb(e)}}(e,t),Kb(e)&&Wb(e)}async function $b(e,t){const n=jh(e);n.asyncQueue.verifyOperationInProgress(),Dh("RemoteStore","RemoteStore received new credentials");const r=Mb(n);n.v_.add(3),await Nb(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await xb(n)}async function Zb(e,t){const n=jh(e);t?(n.v_.delete(2),await xb(n)):t||(n.v_.add(2),await Nb(n),n.x_.set("Unknown"))}function ew(e){return e.N_||(e.N_=function(e,t,n){const r=jh(e);return r.R_(),new Sb(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Fb.bind(null,e),To:jb.bind(null,e),u_:Vb.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),Lb(e)?Ob(e):e.x_.set("Unknown")):(await e.N_.stop(),Ub(e))}))),e.N_}function tw(e){return e.L_||(e.L_=function(e,t,n){const r=jh(e);return r.R_(),new Eb(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Qb.bind(null,e),To:Xb.bind(null,e),E_:Yb.bind(null,e),T_:Jb.bind(null,e)}),e.F_.push((async t=>{t?(e.L_.Zo(),await qb(e)):(await e.L_.stop(),e.D_.length>0&&(Dh("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.L_}class nw{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new zh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new nw(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Bh(Vh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rw(e,t){if(Oh("AsyncQueue","".concat(t,": ").concat(e)),Td(e))return new Bh(Vh.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class iw{constructor(e){this.comparator=e?(t,n)=>e(t,n)||cd.comparator(t.key,n.key):(e,t)=>cd.comparator(e.key,t.key),this.keyedMap=rm(),this.sortedSet=new gf(this.comparator)}static emptySet(e){return new iw(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof iw))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new iw;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class sw{constructor(){this.B_=new gf(cd.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Uh():this.B_=this.B_.insert(t,e)}k_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class aw{constructor(e,t,n,r,i,s,a,o,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new aw(e,t,iw.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ow{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some((e=>e.U_()))}}class cw{constructor(){this.queries=new Zp((e=>Wp(e)),Kp),this.onlineState="Unknown",this.W_=new Set}}async function lw(e,t){const n=jh(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.K_()&&t.U_()&&(r=2):(s=new ow,r=t.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=rw(e,"Initialization of query '".concat(Qp(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.Q_.push(t),t.G_(n.onlineState),s.q_&&t.z_(s.q_)&&fw(n)}async function uw(e,t){const n=jh(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Q_.indexOf(t);e>=0&&(s.Q_.splice(e,1),0===s.Q_.length?i=t.U_()?0:1:!s.K_()&&t.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function hw(e,t){const n=jh(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.z_(i)&&(r=!0);t.q_=i}}r&&fw(n)}function dw(e,t,n){const r=jh(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function fw(e){e.W_.forEach((e=>{e.next()}))}var pw,mw;(mw=pw||(pw={})).j_="default",mw.Cache="cache";class gw{constructor(e,t,n){this.query=e,this.H_=t,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=n||{}}z_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new aw(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),t=!0):this.X_(e,this.onlineState)&&(this.ea(e),t=!0),this.Y_=e,t}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let t=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),t=!0),t}X_(e,t){if(!e.fromCache)return!0;if(!this.U_())return!0;const n="Offline"!==t;return(!this.options.ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Z_(e){if(e.docChanges.length>0)return!0;const t=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ea(e){e=aw.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==pw.Cache}}class vw{constructor(e,t){this.na=e,this.byteLength=t}ra(){return"metadata"in this.na}}class yw{constructor(e){this.serializer=e}Ps(e){return xg(this.serializer,e)}Is(e){return e.metadata.exists?Og(this.serializer,e.document,!1):rp.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Sg(e)}}class bw{constructor(e,t,n){this.ia=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ww(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++t;const n=sd.fromString(e.na.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}oa(e){const t=new Map,n=new yw(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||um()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=jh(e);let s=um(),a=tm();for(const l of n){const e=t.Ps(l.metadata.name);l.document&&(s=s.add(e));const n=t.Is(l);n.setReadTime(t.Ts(l.metadata.readTime)),a=a.insert(e,n)}const o=i.os.newChangeBuffer({trackRemovals:!0}),c=await Wy(i,function(e){return zp(Fp(sd.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Gy(e,o,a).next((t=>(o.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.Qr.addMatchingKeys(e,s,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new yw(this.serializer),this.documents,this.ia.id),t=this.oa(this.documents);for(const n of this.queries)await Zy(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,_a:this.collectionGroups,aa:e}}}function ww(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class _w{constructor(e){this.key=e}}class Iw{constructor(e){this.key=e}}class Sw{constructor(e,t){this.query=e,this.ua=t,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=um(),this.mutatedKeys=um(),this.ha=Xp(e),this.Pa=new iw(this.ha)}get Ia(){return this.ua}Ta(e,t){const n=t?t.Ea:new sw,r=t?t.Pa:this.Pa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),u=Yp(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.da(l,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.ha(u,o)>0||c&&this.ha(u,c)<0)&&(a=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(o||c)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Pa:s,Ea:n,Xi:a,mutatedKeys:i}}da(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const s=e.Ea.k_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Uh()}};return n(e)-n(t)}(e.type,t.type)||this.ha(e.doc,t.doc))),this.Aa(n),r=null!=r&&r;const a=t&&!r?this.Ra():[],o=0===this.la.size&&this.current&&!r?1:0,c=o!==this.ca;return this.ca=o,0!==s.length||c?{snapshot:new aw(this.query,e.Pa,i,s,e.mutatedKeys,0===o,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new sw,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach((e=>this.ua=this.ua.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ua=this.ua.delete(e))),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=um(),this.Pa.forEach((e=>{this.ma(e.key)&&(this.la=this.la.add(e.key))}));const t=[];return e.forEach((e=>{this.la.has(e)||t.push(new Iw(e))})),this.la.forEach((n=>{e.has(n)||t.push(new _w(n))})),t}fa(e){this.ua=e.hs,this.la=um();const t=this.Ta(e.documents);return this.applyChanges(t,!0)}ga(){return aw.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class Ew{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class kw{constructor(e){this.key=e,this.pa=!1}}class Tw{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new Zp((e=>Wp(e)),Kp),this.Sa=new Map,this.ba=new Set,this.Da=new gf(cd.comparator),this.Ca=new Map,this.va=new Iy,this.Fa={},this.Ma=new Map,this.xa=Xv.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}async function Cw(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=n_(e);let i;const s=r.wa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await Nw(r,t,n,!0),i}async function xw(e,t){const n=n_(e);await Nw(n,t,!0,!1)}async function Nw(e,t,n,r){const i=await Wy(e.localStore,zp(t)),s=i.targetId,a=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let o;return r&&(o=await Aw(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Ab(e.remoteStore,i),o}async function Aw(e,t,n,r,i){e.Na=(t,n,r)=>async function(e,t,n,r){let i=t.view.Ta(n);i.Xi&&(i=await Yy(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Ta(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return zw(e,t.targetId,o.Va),o.snapshot}(e,t,n,r);const s=await Yy(e.localStore,t,!0),a=new Sw(t,s.hs),o=a.Ta(s.documents),c=og.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=a.applyChanges(o,e.isPrimaryClient,c);zw(e,n,l.Va);const u=new Ew(t,n,a);return e.wa.set(t,u),e.Sa.has(n)?e.Sa.get(n).push(t):e.Sa.set(n,[t]),l.snapshot}async function Rw(e,t,n){const r=jh(e),i=r.wa.get(t),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter((e=>!Kp(e,t)))),void r.wa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Qy(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Rb(r.remoteStore,i.targetId),Vw(r,i.targetId)})).catch(wd)):(Vw(r,i.targetId),await Qy(r.localStore,i.targetId,!0))}async function Pw(e,t){const n=jh(e),r=n.wa.get(t),i=n.Sa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Rb(n.remoteStore,r.targetId))}async function Dw(e,t){const n=jh(e);try{const e=await function(e,t){const n=jh(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach(((s,o)=>{const c=i.get(o);if(!c)return;a.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,o))));let l=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?l=l.withResumeToken(Ef.EMPTY_BYTE_STRING,rd.min()).withLastLimboFreeSnapshotVersion(rd.min()):s.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(s.resumeToken,r)),i=i.insert(o,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,s)&&a.push(n.Qr.updateTargetData(e,l))}));let o=tm(),c=um();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Gy(e,s,t.documentUpdates).next((e=>{o=e.cs,c=e.ls}))),!r.isEqual(rd.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return _d.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,c))).next((()=>o))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ca.get(t);r&&(Fh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.pa=!0:e.modifiedDocuments.size>0?Fh(r.pa):e.removedDocuments.size>0&&(Fh(r.pa),r.pa=!1))})),await Gw(n,e,t)}catch(e){await wd(e)}}function Ow(e,t,n){const r=jh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wa.forEach(((n,r)=>{const i=r.view.G_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=jh(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.G_(t)&&(r=!0)})),r&&fw(n)}(r.eventManager,t),e.length&&r.ya.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Lw(e,t,n){const r=jh(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ca.get(t),s=i&&i.key;if(s){let e=new gf(cd.comparator);e=e.insert(s,rp.newNoDocument(s,rd.min()));const n=um().add(s),i=new ag(rd.min(),new Map,new gf(Zh),e,n);await Dw(r,i),r.Da=r.Da.remove(s),r.Ca.delete(t),Hw(r)}else await Qy(r.localStore,t,!1).then((()=>Vw(r,t,n))).catch(wd)}async function Mw(e,t){const n=jh(e),r=t.batch.batchId;try{const e=await function(e,t){const n=jh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=_d.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Fh(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=um();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);jw(n,r,null),Fw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gw(n,e)}catch(e){await wd(e)}}async function Uw(e,t,n){const r=jh(e);try{const e=await function(e,t){const n=jh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Fh(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);jw(r,t,n),Fw(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Gw(r,e)}catch(n){await wd(n)}}function Fw(e,t){(e.Ma.get(t)||[]).forEach((e=>{e.resolve()})),e.Ma.delete(t)}function jw(e,t,n){const r=jh(e);let i=r.Fa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Fa[r.currentUser.toKey()]=i}}function Vw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Sa.get(t))e.wa.delete(r),n&&e.ya.La(r,n);e.Sa.delete(t),e.isPrimaryClient&&e.va.Vr(t).forEach((t=>{e.va.containsKey(t)||Bw(e,t)}))}function Bw(e,t){e.ba.delete(t.path.canonicalString());const n=e.Da.get(t);null!==n&&(Rb(e.remoteStore,n),e.Da=e.Da.remove(t),e.Ca.delete(n),Hw(e))}function zw(e,t,n){for(const r of n)r instanceof _w?(e.va.addReference(r.key,t),qw(e,r)):r instanceof Iw?(Dh("SyncEngine","Document no longer in limbo: "+r.key),e.va.removeReference(r.key,t),e.va.containsKey(r.key)||Bw(e,r.key)):Uh()}function qw(e,t){const n=t.key,r=n.path.canonicalString();e.Da.get(n)||e.ba.has(r)||(Dh("SyncEngine","New document in limbo: "+n),e.ba.add(r),Hw(e))}function Hw(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){const t=e.ba.values().next().value;e.ba.delete(t);const n=new cd(sd.fromString(t)),r=e.xa.next();e.Ca.set(r,new kw(n)),e.Da=e.Da.insert(n,r),Ab(e.remoteStore,new Yg(zp(Fp(n.path)),r,"TargetPurposeLimboResolution",Dd._e))}}async function Gw(e,t,n){const r=jh(e),i=[],s=[],a=[];r.wa.isEmpty()||(r.wa.forEach(((e,o)=>{a.push(r.Na(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Fy.Ki(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.ya.u_(i),await async function(e,t){const n=jh(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>_d.forEach(t,(t=>_d.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>_d.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Td(e))throw e;Dh("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function Kw(e,t){const n=jh(e);if(!n.currentUser.isEqual(t)){Dh("SyncEngine","User change. New user:",t.toKey());const e=await qy(n.localStore,t);n.currentUser=t,function(e,t){e.Ma.forEach((e=>{e.forEach((e=>{e.reject(new Bh(Vh.CANCELLED,t))}))})),e.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Gw(n,e.us)}}function Ww(e,t){const n=jh(e),r=n.Ca.get(t);if(r&&r.pa)return um().add(r.key);{let e=um();const r=n.Sa.get(t);if(!r)return e;for(const t of r){const r=n.wa.get(t);e=e.unionWith(r.view.Ia)}return e}}async function Qw(e,t){const n=jh(e),r=await Yy(n.localStore,t.query,!0),i=t.view.fa(r);return n.isPrimaryClient&&zw(n,t.targetId,i.Va),i}async function Yw(e,t){const n=jh(e);return Xy(n.localStore,t).then((e=>Gw(n,e)))}async function Jw(e,t,n,r){const i=jh(e),s=await function(e,t){const n=jh(e),r=jh(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):_d.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await qb(i.remoteStore):"acknowledged"===n||"rejected"===n?(jw(i,t,r||null),Fw(i,t),function(e,t){jh(jh(e).mutationQueue).Mn(t)}(i.localStore,t)):Uh(),await Gw(i,s)):Dh("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Xw(e,t,n){const r=jh(e),i=[],s=[];for(const a of t){let e;const t=r.Sa.get(a);if(t&&0!==t.length){e=await Wy(r.localStore,zp(t[0]));for(const e of t){const t=r.wa.get(e),n=await Qw(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await Jy(r.localStore,a);e=await Wy(r.localStore,t),await Aw(r,$w(t),a,!1,e.resumeToken)}i.push(e)}return r.ya.u_(s),i}function $w(e){return Up(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Zw(e){return function(e){return jh(jh(e).persistence).Bi()}(jh(e).localStore)}async function e_(e,t,n,r){const i=jh(e);if(i.Oa)return void Dh("SyncEngine","Ignoring unexpected query state notification.");const s=i.Sa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await Xy(i.localStore,Jp(s[0])),r=ag.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Ef.EMPTY_BYTE_STRING);await Gw(i,e,r);break}case"rejected":await Qy(i.localStore,t,!0),Vw(i,t,r);break;default:Uh()}}async function t_(e,t,n){const r=n_(e);if(r.Oa){for(const e of t){if(r.Sa.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){Dh("SyncEngine","Adding an already active target "+e);continue}const t=await Jy(r.localStore,e),n=await Wy(r.localStore,t);await Aw(r,$w(t),n.targetId,!1,n.resumeToken),Ab(r.remoteStore,n)}for(const e of n)r.Sa.has(e)&&await Qy(r.localStore,e,!1).then((()=>{Rb(r.remoteStore,e),Vw(r,e)})).catch(wd)}}function n_(e){const t=jh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Dw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ww.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Lw.bind(null,t),t.ya.u_=hw.bind(null,t.eventManager),t.ya.La=dw.bind(null,t.eventManager),t}function r_(e){const t=jh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Mw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Uw.bind(null,t),t}class i_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=wb(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return zy(this.persistence,new Vy,e.initialUser,this.serializer)}createPersistence(e){return new xy(Ay.Hr,this.serializer)}createSharedClientState(e){return new lb}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class s_ extends i_{constructor(e,t,n){super(),this.ka=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ka.initialize(this,e),await r_(this.ka.syncEngine),await qb(this.ka.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return zy(this.persistence,new Vy,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new iy(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Pd(t,this.persistence);return new Rd(e.asyncQueue,n)}createPersistence(e){const t=Uy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?qv.withCacheSize(this.cacheSizeBytes):qv.DEFAULT;return new Oy(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,yb(),bb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new lb}}class a_ extends s_{constructor(e,t){super(e,t,!1),this.ka=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ka.syncEngine;this.sharedClientState instanceof cb&&(this.sharedClientState.syncEngine={Zs:Jw.bind(null,t),Xs:e_.bind(null,t),eo:t_.bind(null,t),Bi:Zw.bind(null,t),Ys:Yw.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=jh(e);if(n_(n),r_(n),!0===t&&!0!==n.Oa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Xw(n,e.toArray());n.Oa=!0,await Zb(n.remoteStore,!0);for(const r of t)Ab(n.remoteStore,r)}else if(!1===t&&!1!==n.Oa){const e=[];let t=Promise.resolve();n.Sa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Vw(n,i),Qy(n.localStore,i,!0)))),Rb(n.remoteStore,i)})),await t,await Xw(n,e),function(e){const t=jh(e);t.Ca.forEach(((e,n)=>{Rb(t.remoteStore,n)})),t.va.mr(),t.Ca=new Map,t.Da=new gf(cd.comparator)}(n),n.Oa=!1,await Zb(n.remoteStore,!1)}}(this.ka.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=yb();if(!cb.D(t))throw new Bh(Vh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Uy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new cb(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class o_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ow(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Kw.bind(null,this.syncEngine),await Zb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new cw}createDatastore(e){const t=wb(e.databaseInfo.databaseId),n=function(e){return new vb(e)}(e.databaseInfo);return function(e,t,n,r){return new kb(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Cb(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Ow(this.syncEngine,e,0)),hb.D()?new hb:new ub)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Tw(e,t,n,r,i,s);return a&&(o.Oa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=jh(e);Dh("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await Nb(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function c_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class l_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Oh("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class u_{constructor(e,t){this.Ka=e,this.serializer=t,this.metadata=new zh,this.buffer=new Uint8Array,this.$a=new TextDecoder("utf-8"),this.Ua().then((e=>{e&&e.ra()?this.metadata.resolve(e.na.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.na))))}),(e=>this.metadata.reject(e)))}close(){return this.Ka.cancel()}async getMetadata(){return this.metadata.promise}async Ba(){return await this.getMetadata(),this.Ua()}async Ua(){const e=await this.Wa();if(null===e)return null;const t=this.$a.decode(e),n=Number(t);isNaN(n)&&this.Ga("length string (".concat(t,") is not valid number"));const r=await this.za(n);return new vw(JSON.parse(r),e.length+n)}ja(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Wa(){for(;this.ja()<0&&!await this.Ha(););if(0===this.buffer.length)return null;const e=this.ja();e<0&&this.Ga("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async za(e){for(;this.buffer.length<e;)await this.Ha()&&this.Ga("Reached the end of bundle when more is expected.");const t=this.$a.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Ga(e){throw this.Ka.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ha(){const e=await this.Ka.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class h_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Bh(Vh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=jh(e),r={documents:t.map((e=>Cg(n.serializer,e)))},i=await n.vo("BatchGetDocuments",n.serializer.databaseId,sd.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Fh(!!t.found),t.found.name,t.found.updateTime;const n=xg(e,t.found.name),r=Sg(t.found.updateTime),i=t.found.createTime?Sg(t.found.createTime):rd.min(),s=new tp({mapValue:{fields:t.found.fields}});return rp.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){Fh(!!t.missing),Fh(!!t.readTime);const n=xg(e,t.missing),r=Sg(t.readTime);return rp.newNoDocument(n,r)}(e,t):Uh()}(n.serializer,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());Fh(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new qm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=cd.fromPath(t);this.mutations.push(new Hm(n,this.precondition(n)))})),await async function(e,t){const n=jh(e),r={writes:t.map((e=>Lg(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,sd.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Uh();t=rd.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Bh(Vh.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(rd.min())?Am.exists(!1):Am.updateTime(t):Am.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(rd.min()))throw new Bh(Vh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Am.updateTime(t)}return Am.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class d_{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Ja=n.maxAttempts,this.jo=new _b(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){this.jo.qo((async()=>{const e=new h_(this.datastore),t=this.Xa(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.eu(e)}))))})).catch((e=>{this.eu(e)}))}))}Xa(e){try{const t=this.updateFunction(e);return!Od(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget((()=>(this.Za(),Promise.resolve())))):this.deferred.reject(e)}tu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Xm(t)}return!1}}class f_{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Nh.UNAUTHENTICATED,this.clientId=$h.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Dh("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Dh("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Bh(Vh.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=rw(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function p_(e,t){e.asyncQueue.verifyOperationInProgress(),Dh("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await qy(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function m_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await v_(e);Dh("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>$b(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>$b(t.remoteStore,n))),e._onlineComponents=t}function g_(e){return"FirebaseError"===e.name?e.code===Vh.FAILED_PRECONDITION||e.code===Vh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function v_(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Dh("FirestoreClient","Using user provided OfflineComponentProvider");try{await p_(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!g_(n))throw n;Lh("Error using user provided cache. Falling back to memory cache: "+n),await p_(e,new i_)}}else Dh("FirestoreClient","Using default OfflineComponentProvider"),await p_(e,new i_);return e._offlineComponents}async function y_(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Dh("FirestoreClient","Using user provided OnlineComponentProvider"),await m_(e,e._uninitializedComponentsProvider._online)):(Dh("FirestoreClient","Using default OnlineComponentProvider"),await m_(e,new o_))),e._onlineComponents}function b_(e){return v_(e).then((e=>e.persistence))}function w_(e){return v_(e).then((e=>e.localStore))}function __(e){return y_(e).then((e=>e.remoteStore))}function I_(e){return y_(e).then((e=>e.syncEngine))}function S_(e){return y_(e).then((e=>e.datastore))}async function E_(e){const t=await y_(e),n=t.eventManager;return n.onListen=Cw.bind(null,t.syncEngine),n.onUnlisten=Rw.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=xw.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Pw.bind(null,t.syncEngine),n}function k_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new zh;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new l_({next:s=>{t.enqueueAndForget((()=>uw(e,a)));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new Bh(Vh.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new Bh(Vh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new gw(Fp(n.path),s,{includeMetadataChanges:!0,ta:!0});return lw(e,a)}(await E_(e),e.asyncQueue,t,n,r))),r.promise}function T_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new zh;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new l_({next:n=>{t.enqueueAndForget((()=>uw(e,a))),n.fromCache&&"server"===r.source?i.reject(new Bh(Vh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new gw(n,s,{includeMetadataChanges:!0,ta:!0});return lw(e,a)}(await E_(e),e.asyncQueue,t,n,r))),r.promise}function C_(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?eg().encode(e):e,function(e,t){return new u_(e,t)}(function(e,t){if(e instanceof Uint8Array)return c_(e,t);if(e instanceof ArrayBuffer)return c_(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,wb(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=jh(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=jh(e),r=Sg(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(ww(r));const i=new bw(r,e.localStore,t.serializer);let s=await t.Ba();for(;s;){const e=await i.sa(s);e&&n._updateProgress(e),s=await t.Ba()}const a=await i.complete();return await Gw(e,a.aa,void 0),await function(e,t){const n=jh(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(a.progress),Promise.resolve(a._a)}catch(e){return Lh("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await I_(e),i,r)}))}function x_(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const N_=new Map;function A_(e,t,n){if(!n)throw new Bh(Vh.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function R_(e,t,n,r){if(!0===t&&!0===r)throw new Bh(Vh.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function P_(e){if(!cd.isDocumentKey(e))throw new Bh(Vh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function D_(e){if(cd.isDocumentKey(e))throw new Bh(Vh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function O_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Uh()}function L_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Bh(Vh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=O_(e);throw new Bh(Vh.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function M_(e,t){if(t<=0)throw new Bh(Vh.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class U_{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Bh(Vh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Bh(Vh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=x_(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Bh(Vh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Bh(Vh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Bh(Vh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class F_{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Bh(Vh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Bh(Vh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Hh;switch(e.type){case"firstParty":return new Qh(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Bh(Vh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=N_.get(e);t&&(Dh("ComponentProvider","Removing Datastore"),N_.delete(e),t.terminate())}(this),Promise.resolve()}}function j_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=L_(e,F_))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&Lh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Nh.MOCK_USER;else{t=$e(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Bh(Vh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Nh(s)}e._authCredentials=new Gh(new qh(t,n))}}class V_{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new V_(this.firestore,e,this._query)}}class B_{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new z_(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new B_(this.firestore,e,this._key)}}class z_ extends V_{constructor(e,t,n){super(e,t,Fp(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new B_(this.firestore,null,new cd(e))}withConverter(e){return new z_(this.firestore,e,this._path)}}function q_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=bt(e),A_("collection","path",t),e instanceof F_){const n=sd.fromString(t,...r);return D_(n),new z_(e,null,n)}{if(!(e instanceof B_||e instanceof z_))throw new Bh(Vh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(sd.fromString(t,...r));return D_(n),new z_(e.firestore,null,n)}}function H_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=bt(e),1===arguments.length&&(t=$h.newId()),A_("doc","path",t),e instanceof F_){const n=sd.fromString(t,...r);return P_(n),new B_(e,null,new cd(n))}{if(!(e instanceof B_||e instanceof z_))throw new Bh(Vh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(sd.fromString(t,...r));return P_(n),new B_(e.firestore,e instanceof z_?e.converter:null,new cd(n))}}function G_(e,t){return e=bt(e),t=bt(t),(e instanceof B_||e instanceof z_)&&(t instanceof B_||t instanceof z_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function K_(e,t){return e=bt(e),t=bt(t),e instanceof V_&&t instanceof V_&&e.firestore===t.firestore&&Kp(e._query,t._query)&&e.converter===t.converter}class W_{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new _b(this,"async_queue_retry"),this.cu=()=>{const e=bb();e&&Dh("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=bb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const t=bb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise((()=>{}));const t=new zh;return this.hu((()=>this.iu&&this.au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.ru.push(e),this.Pu())))}async Pu(){if(0!==this.ru.length){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Td(e))throw e;Dh("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo((()=>this.Pu()))}}hu(e){const t=this.nu.then((()=>(this._u=!0,e().catch((e=>{this.ou=e,this._u=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Oh("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this._u=!1,e))))));return this.nu=t,t}enqueueAfterDelay(e,t,n){this.lu(),this.uu.indexOf(e)>-1&&(t=0);const r=nw.createAndSchedule(this,e,t,n,(e=>this.Iu(e)));return this.su.push(r),r}lu(){this.ou&&Uh()}verifyOperationInProgress(){}async Tu(){let e;do{e=this.nu,await e}while(e!==this.nu)}Eu(e){for(const t of this.su)if(t.timerId===e)return!0;return!1}du(e){return this.Tu().then((()=>{this.su.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.su)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tu()}))}Au(e){this.uu.push(e)}Iu(e){const t=this.su.indexOf(e);this.su.splice(t,1)}}function Q_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Y_{constructor(){this._progressObserver={},this._taskCompletionResolver=new zh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class J_ extends F_{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new W_,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||$_(this),this._firestoreClient.terminate()}}function X_(e){return e._firestoreClient||$_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function $_(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Pf(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,x_(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new f_(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Z_(e,t,n){const r=new zh;return e.asyncQueue.enqueue((async()=>{try{await p_(e,n),await m_(e,t),r.resolve()}catch(e){const n=e;if(!g_(n))throw n;Lh("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function eI(e){return function(e){const t=new zh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=jh(e);Mb(n.remoteStore)||Dh("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=jh(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ma.get(e)||[];r.push(t),n.Ma.set(e,r)}catch(e){const n=rw(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await I_(e),t))),t.promise}(X_(e=L_(e,J_)))}function tI(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await b_(e),n=await __(e);return t.setNetworkEnabled(!0),function(e){const t=jh(e);return t.v_.delete(0),xb(t)}(n)}))}(X_(e=L_(e,J_)))}function nI(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await b_(e),n=await __(e);return t.setNetworkEnabled(!1),async function(e){const t=jh(e);t.v_.add(0),await Nb(t),t.x_.set("Offline")}(n)}))}(X_(e=L_(e,J_)))}function rI(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=jh(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await w_(e),t)))}(X_(e=L_(e,J_)),t).then((t=>t?new V_(e,null,t.query):null))}function iI(e){if(e._initialized||e._terminated)throw new Bh(Vh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class sI{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sI(Ef.fromBase64String(e))}catch(e){throw new Bh(Vh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new sI(Ef.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class aI{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Bh(Vh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new od(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class oI{constructor(e){this._methodName=e}}class cI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Bh(Vh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Bh(Vh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zh(this._lat,e._lat)||Zh(this._long,e._long)}}const lI=/^__.*__$/;class uI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new jm(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fm(e,this.data,t,this.fieldTransforms)}}class hI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new jm(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Uh()}}class fI{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new fI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.pu(e),r}yu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.Ru(),r}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return DI(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(dI(this.Vu)&&lI.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class pI{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||wb(e)}Cu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new fI({Vu:e,methodName:t,Du:n,path:od.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mI(e){const t=e._freezeSettings(),n=wb(e._databaseId);return new pI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function gI(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Cu(s.merge||s.mergeFields?2:0,t,n,i);NI("Data must be an object, but it was:",a,r);const o=CI(r,a);let c,l;if(s.merge)c=new If(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=AI(t,r,n);if(!a.contains(i))throw new Bh(Vh.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));OI(e,i)||e.push(i)}c=new If(e),l=a.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=a.fieldTransforms;return new uI(new tp(o),c,l)}class vI extends oI{_toFieldTransform(e){if(2!==e.Vu)throw 1===e.Vu?e.Su("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Su("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vI}}function yI(e,t,n){return new fI({Vu:3,Du:t.settings.Du,methodName:e._methodName,gu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class bI extends oI{_toFieldTransform(e){return new xm(e.path,new wm)}isEqual(e){return e instanceof bI}}class wI extends oI{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=yI(this,e,!0),n=this.vu.map((e=>TI(e,t))),r=new _m(n);return new xm(e.path,r)}isEqual(e){return e instanceof wI&&ht(this.vu,e.vu)}}class _I extends oI{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=yI(this,e,!0),n=this.vu.map((e=>TI(e,t))),r=new Sm(n);return new xm(e.path,r)}isEqual(e){return e instanceof _I&&ht(this.vu,e.vu)}}class II extends oI{constructor(e,t){super(e),this.Fu=t}_toFieldTransform(e){const t=new km(e.serializer,mm(e.serializer,this.Fu));return new xm(e.path,t)}isEqual(e){return e instanceof II&&this.Fu===e.Fu}}function SI(e,t,n,r){const i=e.Cu(1,t,n);NI("Data must be an object, but it was:",i,r);const s=[],a=tp.empty();pf(r,((e,r)=>{const o=PI(t,e,n);r=bt(r);const c=i.yu(o);if(r instanceof vI)s.push(o);else{const e=TI(r,c);null!=e&&(s.push(o),a.set(o,e))}}));const o=new If(s);return new hI(a,o,i.fieldTransforms)}function EI(e,t,n,r,i,s){const a=e.Cu(1,t,n),o=[AI(t,r,n)],c=[i];if(s.length%2!=0)throw new Bh(Vh.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)o.push(AI(t,s[d])),c.push(s[d+1]);const l=[],u=tp.empty();for(let d=o.length-1;d>=0;--d)if(!OI(l,o[d])){const e=o[d];let t=c[d];t=bt(t);const n=a.yu(e);if(t instanceof vI)l.push(e);else{const r=TI(t,n);null!=r&&(l.push(e),u.set(e,r))}}const h=new If(l);return new hI(u,h,a.fieldTransforms)}function kI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return TI(n,e.Cu(r?4:3,t))}function TI(e,t){if(xI(e=bt(e)))return NI("Unsupported field value:",t,e),CI(e,t);if(e instanceof oI)return function(e,t){if(!dI(t.Vu))throw t.Su("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Su("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&4!==t.Vu)throw t.Su("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=TI(i,t.wu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=bt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return mm(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=nd.fromDate(e);return{timestampValue:wg(t.serializer,n)}}if(e instanceof nd){const n=new nd(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:wg(t.serializer,n)}}if(e instanceof cI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof sI)return{bytesValue:_g(t.serializer,e._byteString)};if(e instanceof B_){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Su("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Eg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Su("Unsupported field value: ".concat(O_(e)))}(e,t)}function CI(e,t){const n={};return mf(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pf(e,((e,r)=>{const i=TI(r,t.fu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function xI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof nd||e instanceof cI||e instanceof sI||e instanceof B_||e instanceof oI)}function NI(e,t,n){if(!xI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=O_(n);throw"an object"===r?t.Su(e+" a custom object"):t.Su(e+" "+r)}}function AI(e,t,n){if((t=bt(t))instanceof aI)return t._internalPath;if("string"==typeof t)return PI(e,t);throw DI("Field path arguments must be of type string or ",e,!1,void 0,n)}const RI=new RegExp("[~\\*/\\[\\]]");function PI(e,t,n){if(t.search(RI)>=0)throw DI("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new aI(...t.split("."))._internalPath}catch(Io){throw DI("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function DI(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=" in field ".concat(r)),a&&(c+=" in document ".concat(i)),c+=")"),new Bh(Vh.INVALID_ARGUMENT,o+e+c)}function OI(e,t){return e.some((e=>e.isEqual(t)))}class LI{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new B_(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new MI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(UI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class MI extends LI{data(){return super.data()}}function UI(e,t){return"string"==typeof t?PI(e,t):t instanceof aI?t._internalPath:t._delegate._internalPath}function FI(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Bh(Vh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jI{}class VI extends jI{}function BI(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof jI&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof qI)).length,n=e.filter((e=>e instanceof zI)).length;if(t>1||t>0&&n>0)throw new Bh(Vh.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class zI extends VI{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new zI(e,t,n)}_apply(e){const t=this._parse(e);return XI(e._query,t),new V_(e.firestore,e.converter,Hp(e._query,t))}_parse(e){const t=mI(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Bh(Vh.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){JI(a,s);const t=[];for(const n of a)t.push(YI(r,e,n));o={arrayValue:{values:t}}}else o=YI(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||JI(a,s),o=kI(n,t,a,"in"===s||"not-in"===s);return up.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class qI extends jI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new qI(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:hp.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)XI(n,i),n=Hp(n,i)}(e._query,t),new V_(e.firestore,e.converter,Hp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class HI extends VI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new HI(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Bh(Vh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Bh(Vh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new op(t,n)}(e._query,this._field,this._direction);return new V_(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Mp(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class GI extends VI{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new GI(e,t,n)}_apply(e){return new V_(e.firestore,e.converter,Gp(e._query,this._limit,this._limitType))}}class KI extends VI{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new KI(e,t,n)}_apply(e){const t=QI(e,this.type,this._docOrFields,this._inclusive);return new V_(e.firestore,e.converter,function(e,t){return new Mp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class WI extends VI{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new WI(e,t,n)}_apply(e){const t=QI(e,this.type,this._docOrFields,this._inclusive);return new V_(e.firestore,e.converter,function(e,t){return new Mp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function QI(e,t,n,r){if(n[0]=bt(n[0]),n[0]instanceof LI)return function(e,t,n,r,i){if(!r)throw new Bh(Vh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const a of Bp(e))if(a.field.isKeyField())s.push(qf(t,r.key));else{const e=r.data.field(a.field);if(Nf(e))throw new Bh(Vh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=a.field.canonicalString();throw new Bh(Vh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new ip(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=mI(e.firestore);return function(e,t,n,r,i,s){const a=e.explicitOrderBy;if(i.length>a.length)throw new Bh(Vh.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const o=[];for(let c=0;c<i.length;c++){const s=i[c];if(a[c].field.isKeyField()){if("string"!=typeof s)throw new Bh(Vh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!Vp(e)&&-1!==s.indexOf("/"))throw new Bh(Vh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(sd.fromString(s));if(!cd.isDocumentKey(n))throw new Bh(Vh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new cd(n);o.push(qf(t,i))}else{const e=kI(n,r,s);o.push(e)}}return new ip(o,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function YI(e,t,n){if("string"==typeof(n=bt(n))){if(""===n)throw new Bh(Vh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vp(t)&&-1!==n.indexOf("/"))throw new Bh(Vh.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(sd.fromString(n));if(!cd.isDocumentKey(r))throw new Bh(Vh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return qf(e,new cd(r))}if(n instanceof B_)return qf(e,n._key);throw new Bh(Vh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(O_(n),"."))}function JI(e,t){if(!Array.isArray(e)||0===e.length)throw new Bh(Vh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function XI(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Bh(Vh.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Bh(Vh.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class $I{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Mf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cf(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Uh()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return pf(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new cI(Cf(e.latitude),Cf(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Af(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Rf(e));default:return null}}convertTimestamp(e){const t=Tf(e);return new nd(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=sd.fromString(e);Fh(Qg(n));const r=new Df(n.get(1),n.get(3)),i=new cd(n.popFirst(5));return r.isEqual(t)||Oh("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function ZI(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class eS extends $I{constructor(e){super(),this.firestore=e}convertBytes(e){return new sI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new B_(this.firestore,null,t)}}class tS{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nS extends LI{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new rS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(UI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class rS extends nS{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class iS{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new tS(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new rS(this._firestore,this._userDataWriter,n.key,n,new tS(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Bh(Vh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new rS(e._firestore,e._userDataWriter,n.doc.key,n.doc,new tS(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new rS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new tS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:sS(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function sS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Uh()}}function aS(e,t){return e instanceof nS&&t instanceof nS?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof iS&&t instanceof iS&&e._firestore===t._firestore&&K_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function oS(e){e=L_(e,B_);const t=L_(e.firestore,J_);return k_(X_(t),e._key).then((n=>gS(t,e,n)))}class cS extends $I{constructor(e){super(),this.firestore=e}convertBytes(e){return new sI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new B_(this.firestore,null,t)}}function lS(e){e=L_(e,B_);const t=L_(e.firestore,J_),n=X_(t),r=new cS(t);return function(e,t){const n=new zh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=jh(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Bh(Vh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=rw(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await w_(e),t,n))),n.promise}(n,e._key).then((n=>new nS(t,r,e._key,n,new tS(null!==n&&n.hasLocalMutations,!0),e.converter)))}function uS(e){e=L_(e,V_);const t=L_(e.firestore,J_),n=X_(t),r=new cS(t);return function(e,t){const n=new zh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Yy(e,t,!0),i=new Sw(t,r.hs),s=i.Ta(r.documents),a=i.applyChanges(s,!1);n.resolve(a.snapshot)}catch(e){const r=rw(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await w_(e),t,n))),n.promise}(n,e._query).then((n=>new iS(t,r,e,n)))}function hS(e,t,n){e=L_(e,B_);const r=L_(e.firestore,J_),i=ZI(e.converter,t,n);return mS(r,[gI(mI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Am.none())])}function dS(e,t,n){e=L_(e,B_);const r=L_(e.firestore,J_),i=mI(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),c=3;c<a;c++)o[c-3]=arguments[c];return s="string"==typeof(t=bt(t))||t instanceof aI?EI(i,"updateDoc",e._key,t,n,o):SI(i,"updateDoc",e._key,t),mS(r,[s.toMutation(e._key,Am.exists(!0))])}function fS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=bt(e);let o={includeMetadataChanges:!1,source:"default"},c=0;"object"!=typeof n[c]||Q_(n[c])||(o=n[c],c++);const l={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Q_(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[c+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,h,d;if(e instanceof B_)h=L_(e.firestore,J_),d=Fp(e._key.path),u={next:t=>{n[c]&&n[c](gS(h,e,t))},error:n[c+1],complete:n[c+2]};else{const t=L_(e,V_);h=L_(t.firestore,J_),d=t._query;const r=new cS(h);u={next:e=>{n[c]&&n[c](new iS(h,r,t,e))},error:n[c+1],complete:n[c+2]},FI(e._query)}return function(e,t,n,r){const i=new l_(r),s=new gw(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>lw(await E_(e),s))),()=>{i.Qa(),e.asyncQueue.enqueueAndForget((async()=>uw(await E_(e),s)))}}(X_(h),d,l,u)}function pS(e,t){return function(e,t){const n=new l_(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){jh(e).W_.add(t),t.next()}(await E_(e),n))),()=>{n.Qa(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){jh(e).W_.delete(t)}(await E_(e),n)))}}(X_(e=L_(e,J_)),Q_(t)?t:{next:t})}function mS(e,t){return function(e,t){const n=new zh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=r_(e);try{const e=await function(e,t){const n=jh(e),r=nd.now(),i=t.reduce(((e,t)=>e.add(t.key)),um());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=tm(),c=um();return n.os.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=Mm(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new jm(e.key,t,np(t.value.mapValue),Am.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:im(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Fa[e.currentUser.toKey()];r||(r=new gf(Zh)),r=r.insert(t,n),e.Fa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Gw(r,e.changes),await qb(r.remoteStore)}catch(e){const t=rw(e,"Failed to persist write");n.reject(t)}}(await I_(e),t,n))),n.promise}(X_(e),t)}function gS(e,t,n){const r=n.docs.get(t._key),i=new cS(e);return new nS(e,i,t._key,r,new tS(n.hasPendingWrites,n.fromCache),t.converter)}const vS={maxAttempts:5};class yS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=mI(e)}set(e,t,n){this._verifyNotCommitted();const r=bS(e,this._firestore),i=ZI(r.converter,t,n),s=gI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Am.none())),this}update(e,t,n){this._verifyNotCommitted();const r=bS(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=bt(t))||t instanceof aI?EI(this._dataReader,"WriteBatch.update",r._key,t,n,a):SI(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Am.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=bS(e,this._firestore);return this._mutations=this._mutations.concat(new qm(t._key,Am.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Bh(Vh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bS(e,t){if((e=bt(e)).firestore!==t)throw new Bh(Vh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class wS extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=mI(e)}get(e){const t=bS(e,this._firestore),n=new eS(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Uh();const r=e[0];if(r.isFoundDocument())return new LI(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new LI(this._firestore,n,t._key,null,t.converter);throw Uh()}))}set(e,t,n){const r=bS(e,this._firestore),i=ZI(r.converter,t,n),s=gI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=bS(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=bt(t))||t instanceof aI?EI(this._dataReader,"Transaction.update",r._key,t,n,a):SI(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=bS(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=bS(e,this._firestore),n=new cS(this._firestore);return super.get(e).then((e=>new nS(this._firestore,n,t._key,e._document,new tS(!1,!1),t.converter)))}}function _S(){return new bI("serverTimestamp")}function IS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new wI("arrayUnion",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ah=e}(mn),an(new wt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new J_(new Kh(e.getProvider("auth-internal")),new Jh(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Bh(Vh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Df(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),_n(xh,"4.5.1",e),_n(xh,"4.5.1","esm2017")}();var SS=n(184);function ES(e){let{setChat:t,setSelectedChat:n,currentUserUid:r,selectedChat:s,setCombinedId:a}=e;const{auth:o,db:c}=(0,i.useContext)($C),[l]=co(o),[u,h]=(0,i.useState)([]);(0,i.useEffect)((()=>{(async()=>{if(l){const e=H_(c,"usersChats",l.uid),t=await oS(e);if(t.exists()){const e=t.data(),n=Object.entries(e).map((e=>{let[t,n]=e;return{chatId:t,...n.userInfo}}));h(n)}}})()}),[l,c]),(0,i.useEffect)((()=>{if(u.length>0&&s){const e=u.find((e=>e.uid===s.uid));e&&d(e)}}),[u,s]);const d=e=>{const i=r>e.uid?"".concat(r,"_").concat(e.uid):"".concat(e.uid,"_").concat(r);n(e),t(!0),oS(H_(c,"chats",i)).then((e=>{e.exists()&&t(e.data())}))};return(0,SS.jsxs)("div",{className:"sidebar",children:[(0,SS.jsx)("h1",{children:"\u0427\u0430\u0442\u0438"}),(0,SS.jsx)("ul",{className:"sidebar__list",children:u.map(((e,t)=>(0,SS.jsxs)("li",{onClick:()=>d(e),className:(null===s||void 0===s?void 0:s.uid)===e.uid?"sidebar__item sidebar__item_select":"sidebar__item",children:[(0,SS.jsx)("img",{src:e.photoURL,alt:"avatar"}),e.displayName]},t)))})]})}const kS={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let TS;const CS=new Uint8Array(16);function xS(){if(!TS&&(TS="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!TS))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return TS(CS)}const NS=[];for(let n=0;n<256;++n)NS.push((n+256).toString(16).slice(1));function AS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return NS[e[t+0]]+NS[e[t+1]]+NS[e[t+2]]+NS[e[t+3]]+"-"+NS[e[t+4]]+NS[e[t+5]]+"-"+NS[e[t+6]]+NS[e[t+7]]+"-"+NS[e[t+8]]+NS[e[t+9]]+"-"+NS[e[t+10]]+NS[e[t+11]]+NS[e[t+12]]+NS[e[t+13]]+NS[e[t+14]]+NS[e[t+15]]}const RS=function(e,t,n){if(kS.randomUUID&&!t&&!e)return kS.randomUUID();const r=(e=e||{}).random||(e.rng||xS)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return AS(r)},PS="firebasestorage.googleapis.com",DS="storageBucket";class OS extends ot{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(US(e),"Firebase Storage: ".concat(t," (").concat(US(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,OS.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return US(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var LS,MS;function US(e){return"storage/"+e}function FS(){return new OS(LS.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function jS(){return new OS(LS.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function VS(){return new OS(LS.CANCELED,"User canceled the upload/download.")}function BS(){return new OS(LS.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zS(e){return new OS(LS.INVALID_ARGUMENT,e)}function qS(){return new OS(LS.APP_DELETED,"The Firebase app was deleted.")}function HS(e){return new OS(LS.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function GS(e,t){return new OS(LS.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function KS(e){throw new OS(LS.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(LS||(LS={}));class WS{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=WS.makeFromUrl(e,t)}catch(i){return new WS(e,"")}if(""===n.path)return n;throw r=e,new OS(LS.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===PS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let c=0;c<o.length;c++){const t=o[c],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new WS(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new OS(LS.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class QS{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function YS(e){return"string"===typeof e||e instanceof String}function JS(e){return XS()&&e instanceof Blob}function XS(){return"undefined"!==typeof Blob}function $S(e,t,n,r){if(r<t)throw zS("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw zS("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function ZS(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function eE(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function tE(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(MS||(MS={}));class nE{constructor(e,t,n,r,i,s,a,o,c,l,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new rE(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===MS.NO_ERROR,i=n.getStatus();if(!t||tE(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===MS.ABORT;return void e(!1,new rE(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new rE(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(s){r(s)}else if(null!==i){const e=FS();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?qS():VS())}else{r(jS())}};this.canceled_?t(0,new rE(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function c(){return 2===o}let l=!1;function u(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,c())}),t)}function d(){s&&clearTimeout(s)}function f(e){if(l)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(c()||a)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(e){p||(p=!0,d(),l||(null!==i?(e||(o=2),clearTimeout(i),h(0)):e||(o=1)))}return h(0),s=setTimeout((()=>{a=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class rE{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function iE(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function sE(){const e=iE();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(XS())return new Blob(n);throw new OS(LS.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function aE(e){if("undefined"===typeof atob)throw t="base-64",new OS(LS.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const oE={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cE{constructor(e,t){this.data=e,this.contentType=t||null}}function lE(e,t){switch(e){case oE.RAW:return new cE(uE(t));case oE.BASE64:case oE.BASE64URL:return new cE(hE(e,t));case oE.DATA_URL:return new cE(function(e){const t=new dE(e);return t.base64?hE(oE.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw GS(oE.DATA_URL,"Malformed data URL.")}return uE(t)}(t.rest)}(t),new dE(t).contentType)}throw FS()}function uE(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function hE(e,t){switch(e){case oE.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw GS(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case oE.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw GS(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=aE(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw GS(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class dE{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw GS(oE.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class fE{constructor(e,t){let n=0,r="";JS(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(JS(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new fE(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new fE(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(XS()){const e=t.map((e=>e instanceof fE?e.data_:e));return new fE(sE.apply(null,e))}{const e=t.map((e=>YS(e)?lE(oE.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new fE(r,!0)}}uploadData(){return this.data_}}function pE(e){let t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function mE(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function gE(e,t){return t}class vE{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||gE}}let yE=null;function bE(){if(yE)return yE;const e=[];e.push(new vE("bucket")),e.push(new vE("generation")),e.push(new vE("metageneration")),e.push(new vE("name","fullPath",!0));const t=new vE("name");t.xform=function(e,t){return function(e){return!YS(e)||e.length<2?e:mE(e)}(t)},e.push(t);const n=new vE("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new vE("timeCreated")),e.push(new vE("updated")),e.push(new vE("md5Hash",null,!0)),e.push(new vE("cacheControl",null,!0)),e.push(new vE("contentDisposition",null,!0)),e.push(new vE("contentEncoding",null,!0)),e.push(new vE("contentLanguage",null,!0)),e.push(new vE("contentType",null,!0)),e.push(new vE("metadata","customMetadata",!0)),yE=e,yE}function wE(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new WS(n,r);return t._makeStorageReference(i)}})}(r,e),r}function _E(e,t,n){const r=pE(t);if(null===r)return null;return wE(e,r,n)}function IE(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const SE="prefixes",EE="items";function kE(e,t,n){const r=pE(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[SE])for(const i of n[SE]){const n=i.replace(/\/$/,""),s=e._makeStorageReference(new WS(t,n));r.prefixes.push(s)}if(n[EE])for(const i of n[EE]){const n=e._makeStorageReference(new WS(t,i.name));r.items.push(n)}return r}(e,t,r)}class TE{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function CE(e){if(!e)throw FS()}function xE(e,t){return function(n,r){const i=_E(e,r,t);return CE(null!==i),i}}function NE(e,t){return function(n,r){const i=_E(e,r,t);return CE(null!==i),function(e,t,n,r){const i=pE(t);if(null===i)return null;if(!YS(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return ZS("/b/"+a(i)+"/o/"+a(s),n,r)+eE({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function AE(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new OS(LS.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new OS(LS.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new OS(LS.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new OS(LS.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function RE(e){const t=AE(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new OS(LS.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function PE(e,t,n){const r=ZS(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new TE(r,"GET",xE(e,n),i);return s.errorHandler=RE(t),s}function DE(e,t,n,r,i){const s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const a=ZS(t.bucketOnlyServerUrl(),e.host,e._protocol),o=e.maxOperationRetryTime,c=new TE(a,"GET",function(e,t){return function(n,r){const i=kE(e,t,r);return CE(null!==i),i}}(e,t.bucket),o);return c.urlParams=s,c.errorHandler=AE(t),c}function OE(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function LE(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const c=OE(t,r,i),l="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+IE(c,n)+"\r\n--"+o+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",u="\r\n--"+o+"--",h=fE.getBlob(l,r,u);if(null===h)throw BS();const d={name:c.fullPath},f=ZS(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new TE(f,"POST",xE(e,n),p);return m.urlParams=d,m.headers=a,m.body=h.uploadData(),m.errorHandler=AE(t),m}class ME{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function UE(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){CE(!1)}return CE(!!n&&-1!==(t||["active"]).indexOf(n)),n}const FE=262144;function jE(e,t,n,r,i,s,a,o){const c=new ME(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new OS(LS.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const l=c.total-c.current;let u=l;i>0&&(u=Math.min(u,i));const h=c.current,d=h+u;let f="";f=0===u?"finalize":l===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(c.current)},m=r.slice(h,d);if(null===m)throw BS();const g=t.maxUploadRetryTime,v=new TE(n,"POST",(function(e,n){const i=UE(e,["active","final"]),a=c.current+u,o=r.size();let l;return l="final"===i?xE(t,s)(e,n):null,new ME(a,o,"final"===i,l)}),g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=o||null,v.errorHandler=AE(e),v}const VE={STATE_CHANGED:"state_changed"},BE={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function zE(e){switch(e){case"running":case"pausing":case"canceling":return BE.RUNNING;case"paused":return BE.PAUSED;case"success":return BE.SUCCESS;case"canceled":return BE.CANCELED;default:return BE.ERROR}}class qE{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function HE(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let GE=null;class KE{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=MS.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=MS.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=MS.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw KS("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw KS("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw KS("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw KS("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw KS("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class WE extends KE{initXhr(){this.xhr_.responseType="text"}}function QE(){return GE?GE():new WE}class YE{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=bE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(LS.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(tE(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=jS()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(LS.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a=OE(t,r,i),o={name:a.fullPath},c=ZS(s,e.host,e._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},u=IE(a,n),h=e.maxUploadRetryTime,d=new TE(c,"POST",(function(e){let t;UE(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){CE(!1)}return CE(YS(t)),t}),h);return d.urlParams=o,d.headers=l,d.body=u,d.errorHandler=AE(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,QE,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,s=new TE(n,"POST",(function(e){const t=UE(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){CE(!1)}n||CE(!1);const i=Number(n);return CE(!isNaN(i)),new ME(i,r.size(),"final"===t)}),i);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=AE(t),s}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,QE,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=FE*this._chunkMultiplier,t=new ME(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let s;try{s=jE(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(o){return this._error=o,void this._transition("error")}const a=this._ref.storage._makeRequest(s,QE,r,i,!1);this._request=a,a.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(FE*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=PE(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,QE,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=LE(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,QE,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=VS(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=zE(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new qE(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(zE(this._state)){case BE.SUCCESS:HE(this._resolve.bind(null,this.snapshot))();break;case BE.CANCELED:case BE.ERROR:HE(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(zE(this._state)){case BE.RUNNING:case BE.PAUSED:e.next&&HE(e.next.bind(e,this.snapshot))();break;case BE.SUCCESS:e.complete&&HE(e.complete.bind(e))();break;default:e.error&&HE(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class JE{constructor(e,t){this._service=e,this._location=t instanceof WS?t:WS.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new JE(e,t)}get root(){const e=new WS(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mE(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new WS(this._location.bucket,e);return new JE(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw HS(e)}}function XE(e){const t={prefixes:[],items:[]};return $E(e,t).then((()=>t))}async function $E(e,t,n){const r={pageToken:n},i=await ZE(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await $E(e,t,i.nextPageToken)}function ZE(e,t){null!=t&&"number"===typeof t.maxResults&&$S("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=DE(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,QE)}function ek(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=ZS(t.fullServerUrl(),e.host,e._protocol),s=IE(n,r),a=e.maxOperationRetryTime,o=new TE(i,"PATCH",xE(e,r),a);return o.headers={"Content-Type":"application/json; charset=utf-8"},o.body=s,o.errorHandler=RE(t),o}(e.storage,e._location,t,bE());return e.storage.makeRequestWithTokens(n,QE)}function tk(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=ZS(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new TE(r,"GET",NE(e,n),i);return s.errorHandler=RE(t),s}(e.storage,e._location,bE());return e.storage.makeRequestWithTokens(t,QE).then((e=>{if(null===e)throw new OS(LS.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function nk(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=ZS(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new TE(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=RE(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,QE)}function rk(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new WS(e._location.bucket,n);return new JE(e.storage,r)}function ik(e,t){if(e instanceof ok){const n=e;if(null==n._bucket)throw new OS(LS.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+DS+"' property when initializing the app?");const r=new JE(n,n._bucket);return null!=t?ik(r,t):r}return void 0!==t?rk(e,t):e}function sk(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof ok)return new JE(e,t);throw zS("To use ref(service, url), the first argument must be a Storage instance.")}return ik(e,t)}function ak(e,t){const n=null===t||void 0===t?void 0:t[DS];return null==n?null:WS.makeFromBucketSpec(n,e)}class ok{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=PS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?WS.makeFromBucketSpec(r,this._host):ak(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=WS.makeFromBucketSpec(this._url,e):this._bucket=ak(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$S("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$S("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new JE(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new QS(qS());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=eE(e.urlParams),c=e.url+o,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(l,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new nE(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const ck="@firebase/storage",lk="0.12.3",uk="storage";function hk(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new YE(e,new fE(t),n)}(e=bt(e),t,n)}function dk(e){return function(e){e._throwIfRoot("getMetadata");const t=PE(e.storage,e._location,bE());return e.storage.makeRequestWithTokens(t,QE)}(e=bt(e))}function fk(e){return tk(e=bt(e))}function pk(e,t){return sk(e=bt(e),t)}function mk(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:$e(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function gk(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new ok(r,i,s,n,mn)}an(new wt(uk,gk,"PUBLIC").setMultipleInstances(!0)),_n(ck,lk,""),_n(ck,lk,"esm2017");var vk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},yk=i.createContext&&i.createContext(vk),bk=function(){return bk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},bk.apply(this,arguments)},wk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function _k(e){return e&&e.map((function(e,t){return i.createElement(e.tag,bk({key:t},e.attr),_k(e.child))}))}function Ik(e){return function(t){return i.createElement(Sk,bk({attr:bk({},e.attr)},t),_k(e.child))}}function Sk(e){var t=function(t){var n,r=e.attr,s=e.size,a=e.title,o=wk(e,["attr","size","title"]),c=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.createElement("svg",bk({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:bk(bk({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&i.createElement("title",null,a),e.children)};return void 0!==yk?i.createElement(yk.Consumer,null,(function(e){return t(e)})):t(vk)}function Ek(e){return Ik({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}}]})(e)}function kk(e){return Ik({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7a2.5 2.5 0 000 5zM9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3zm7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75zM9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13z"}}]})(e)}function Tk(e){return Ik({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8h-3zM5 19l3-4 2 3 3-4 4 5H5z"}}]})(e)}function Ck(e){return Ik({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M20 5h-3.2L15 3H9L7.2 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 14h-8v-1c-2.8 0-5-2.2-5-5s2.2-5 5-5V7h8v12zm-3-6c0-2.8-2.2-5-5-5v1.8c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2V18c2.8 0 5-2.2 5-5zm-8.2 0c0 1.8 1.4 3.2 3.2 3.2V9.8c-1.8 0-3.2 1.4-3.2 3.2z"}}]})(e)}function xk(e){return Ik({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476.59 227.05l-.16-.07L49.35 49.84A23.56 23.56 0 0027.14 52 24.65 24.65 0 0016 72.59v113.29a24 24 0 0019.52 23.57l232.93 43.07a4 4 0 010 7.86L35.53 303.45A24 24 0 0016 327v113.31A23.57 23.57 0 0026.59 460a23.94 23.94 0 0013.22 4 24.55 24.55 0 009.52-1.93L476.4 285.94l.19-.09a32 32 0 000-58.8z"}}]})(e)}function Nk(e){let{currentUserUid:t,combinedId:n,db:r,storage:s,userUid:a,chat:o}=e;const[c,l]=(0,i.useState)(""),[u,h]=(0,i.useState)(null);return(0,SS.jsxs)("div",{className:"inputComponent",children:[(0,SS.jsx)("p",{className:"red",children:a}),(0,SS.jsx)("input",{type:"text",placeholder:"Type something...",className:"input inputComponent__input",onChange:e=>l(e.target.value),value:c||""}),(0,SS.jsxs)("div",{className:"inputComponent__send",children:[(0,SS.jsx)("input",{type:"file",style:{display:"none"},id:"file",onChange:e=>h(e.target.files[0])}),(0,SS.jsx)("label",{htmlFor:"file",children:(0,SS.jsx)(Tk,{className:"inputComponent__icon"})}),(0,SS.jsx)("button",{onClick:async()=>{if(!c.trim()&&!u)return;if(!n)return;const e={id:RS(),text:c,senderId:t,recipientName:o.displayName,recipientPhoto:o.photoURL,date:nd.now()},i=H_(r,"chats",n);if(u){const t=hk(pk(s,RS()),u);t.on("state_changed",(e=>{}),(e=>console.error(e)),(async()=>{const n=await fk(t.snapshot.ref);e.img=n,await dS(i,{messages:IS(e)})}))}else await dS(i,{messages:IS(e)});l(""),h(null)},className:"inputComponent__button",children:(0,SS.jsx)(xk,{})})]})]})}function Ak(){return(0,SS.jsx)("div",{className:"loader-container",children:(0,SS.jsx)("div",{className:"loader"})})}function Rk(e){let{chat:t,setCombinedId:n}=e;const{auth:r,db:s}=(0,i.useContext)($C),[a]=co(r),[o,c]=(0,i.useState)([]),[l,u]=(0,i.useState)(null),[h,d]=(0,i.useState)(!0),f=(0,i.useRef)(null),p=null===t||void 0===t?void 0:t.chatId;n(p),(0,i.useEffect)((()=>{if(!p)return;const e=fS(H_(s,"chats",p),(e=>{e.exists()&&(c(e.data().messages),d(!1))})),t=fS(H_(s,"chats",p),(e=>{e.exists()&&u(e.data().recipient)}));return()=>{e(),t()}}),[p,s]),(0,i.useEffect)((()=>{t&&u({name:t.displayName,photo:t.photoURL})}),[t]);const m=(0,i.useCallback)((()=>{f.current&&f.current.scrollIntoView({behavior:"smooth"})}),[]);(0,i.useEffect)((()=>{m()}),[o,m]);const g=()=>{m()};return h?(0,SS.jsx)(Ak,{}):(0,SS.jsxs)("div",{className:"messages",children:[t&&(0,SS.jsx)("div",{className:"messages__info",children:l&&(0,SS.jsxs)(SS.Fragment,{children:[(0,SS.jsx)("img",{src:l.photo,alt:"avatar"}),(0,SS.jsx)("p",{children:l.name})]})}),(0,SS.jsxs)("div",{className:"messages__container",children:[o.map((e=>(0,SS.jsxs)("div",{className:"message ".concat(e.senderId===(null===a||void 0===a?void 0:a.uid)?"myMessage":"otherMessage"),children:[e.text,e.img&&(0,SS.jsx)("img",{src:e.img,alt:"Message Attachment",onLoad:g})]},e.id))),(0,SS.jsx)("div",{ref:f})]})]})}function Pk(e){const{setError:t,text:n}=e;return(0,SS.jsx)("div",{className:"frame",children:(0,SS.jsxs)("div",{className:"modall",children:[(0,SS.jsxs)("div",{children:[(0,SS.jsx)("img",{src:"https://100dayscss.com/codepen/alert.png",width:"44",height:"38",alt:"message"}),(0,SS.jsx)("span",{className:"title",children:"\u041e\u0445 \u0445\u0430\u043b\u0435\u043f\u0430!"})]}),(0,SS.jsx)("p",{children:n}),(0,SS.jsx)("div",{className:"button",onClick:e=>(e=>{e.stopPropagation(),t(!1)})(e),children:"\u0417\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u043e"})]})})}function Dk(e){return Ik({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 277.333H277.333V416h-42.666V277.333H96v-42.666h138.667V96h42.666v138.667H416v42.666z"}}]})(e)}function Ok(e){return Ik({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C140.559 48 48 140.559 48 256c0 115.436 92.559 208 208 208 115.435 0 208-92.564 208-208 0-115.441-92.564-208-208-208zm104.002 282.881l-29.12 29.117L256 285.117l-74.881 74.881-29.121-29.117L226.881 256l-74.883-74.881 29.121-29.116L256 226.881l74.881-74.878 29.12 29.116L285.119 256l74.883 74.881z"}}]})(e)}function Lk(e){return Ik({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.94 74.17l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.75 18.75-49.15 0-67.91zm-246.8-20.53c-15.62-15.62-40.94-15.62-56.56 0L75.8 172.43c-6.25 6.25-6.25 16.38 0 22.62l22.63 22.63c6.25 6.25 16.38 6.25 22.63 0l101.82-101.82 22.63 22.62L93.95 290.03A327.038 327.038 0 0 0 .17 485.11l-.03.23c-1.7 15.28 11.21 28.2 26.49 26.51a327.02 327.02 0 0 0 195.34-93.8l196.79-196.79-82.77-82.77-84.85-84.85z"}}]})(e)}class Mk{constructor(e,t){this._delegate=e,this.firebase=t,rn(e,new wt("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),wn(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$t;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$t;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){rn(this._delegate,e)}_addOrOverwriteComponent(e){sn(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Uk=new ct("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Fk=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=gn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ut(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:_n,setLogLevel:Sn,onLog:In,apps:null,SDK_VERSION:mn,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(an(e)&&"PUBLIC"===e.type){const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw Uk.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&Ke(a,e.serviceProps),r[s]=a,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ut(n,e=e||$t))throw Uk.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Mk);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ke(n,e)},createSubscribe:gt,ErrorFactory:ct,deepExtend:Ke}),n}(),jk=new At("@firebase/app-compat");if(tt()&&void 0!==self.firebase){jk.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&jk.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Vk=Fk;!function(e){_n("@firebase/app-compat","0.2.30",e)}();function Bk(e){return Ik({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4 10a1 1 0 0 1 2 0v2a1 1 0 0 1-2 0v-2zm3 0a1 1 0 0 1 2 0v2a1 1 0 0 1-2 0v-2zm3 0a1 1 0 1 1 2 0v2a1 1 0 0 1-2 0v-2z"}},{tag:"path",attr:{d:"M5.757 1.071a.5.5 0 0 1 .172.686L3.383 6h9.234L10.07 1.757a.5.5 0 1 1 .858-.514L13.783 6H15.5a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-.623l-1.844 6.456a.75.75 0 0 1-.722.544H3.69a.75.75 0 0 1-.722-.544L1.123 8H.5a.5.5 0 0 1-.5-.5v-1A.5.5 0 0 1 .5 6h1.717L5.07 1.243a.5.5 0 0 1 .686-.172zM2.163 8l1.714 6h8.246l1.714-6H2.163z"}}]})(e)}function zk(e){return Ik({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"}}]})(e)}Vk.registerVersion("firebase","10.10.0","app-compat");const qk=e=>{const{seconds:t,nanoseconds:n}=e,r=1e3*t+Math.floor(n/1e6),i=new Date(r),s=new Date,a=e=>(e<10?"0":"")+e;if(i.getDate()===s.getDate()&&i.getMonth()===s.getMonth()&&i.getFullYear()===s.getFullYear()){return"\u0441\u044c\u043e\u0433\u043e\u0434\u043d\u0456 \u043e "+(a(i.getHours())+":"+a(i.getMinutes()))}return i.getDate()+" "+["\u0441\u0456\u0447","\u043b\u044e\u0442","\u0431\u0435\u0440","\u043a\u0432\u0456\u0442","\u0442\u0440\u0430\u0432","\u0447\u0435\u0440","\u043b\u0438\u043f","\u0441\u0435\u0440","\u0432\u0435\u0440","\u0436\u043e\u0432","\u043b\u0438\u0441","\u0433\u0440\u0443\u0434"][i.getMonth()]+" "+i.getFullYear()},Hk=async(e,t,n,r,i,s)=>{if(e.stopPropagation(),r)try{const e=i.collection("carts").doc(r.uid),s=await e.get(),a=i.collection("products").doc(t.uid),o=await a.get();if(s.exists){const i=s.data(),c=i.products.includes(t.uid)?i.products.filter((e=>e!==t.uid)):[...i.products,t.uid];await e.update({products:c}),n(!i.products.includes(t.uid));let l=Array.isArray(o.data().basket)?o.data().basket:[];i.products.includes(t.uid)?l=l.filter((e=>e!==r.uid)):l.push(r.uid),await a.update({basket:l})}else{await e.set({products:[t.uid]}),n(!0);let i=[];o.exists&&(i=Array.isArray(o.data().basket)?o.data().basket:[]),i.push(r.uid),await a.update({basket:i})}}catch(a){s(!0)}else s(!0)};function Gk(e){let{product:t,loading:n}=e;const{auth:r,firestore:s,storage:a}=(0,i.useContext)($C),[o]=co(r),[c,l]=(0,i.useState)(!1),[u,h]=(0,i.useState)(null),[d,f]=(0,i.useState)(!1),p=te();(0,i.useEffect)((()=>{(async()=>{if(t.product&&t.product.photos&&t.product.photos.length>0)try{const e=a.refFromURL(t.product.photos[0]),n=await e.getDownloadURL();h(n)}catch(d){console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f URL-\u0430\u0434\u0440\u0435\u0441\u0438 \u0444\u043e\u0442\u043e \u0437 Firebase Storage:",d)}})();o&&t&&(async()=>{try{const e=s.collection("carts").doc(o.uid),n=await e.get();if(n.exists){const e=n.data();l(e.products.includes(t.uid))}else l(!1)}catch(d){console.error("Error checking basket:",d)}})()}),[t,o,s,a]);return t&&t.product?(0,SS.jsx)("li",{className:"product",onClick:()=>{t.product&&p("/product/".concat(encodeURIComponent(t.product.title)),{state:{product:t}})},children:n?(0,SS.jsx)(Ak,{}):(0,SS.jsxs)(SS.Fragment,{children:[d&&(0,SS.jsx)(Pk,{setError:f,text:"\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"}),u&&(0,SS.jsx)("img",{src:u,alt:t.product.title,className:"product__img"}),(0,SS.jsxs)("div",{className:"product__info",children:[(0,SS.jsx)("h3",{className:"product__infoTitle",children:t.product.title}),(0,SS.jsx)(Bk,{onClick:e=>Hk(e,t,l,o,s,f),className:c?"basket__active basket-icon":"basket-icon"}),(0,SS.jsxs)("p",{className:"product__price",children:[t.product.price," \u0433\u0440\u043d"]}),(0,SS.jsxs)("span",{className:"product__place-data",children:[(0,SS.jsx)("p",{children:t.product.categori}),(0,SS.jsx)("p",{children:qk(t.createdAt)})]})]})]})}):null}class Kk{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Wk{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Kk(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new Kk(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"===typeof t?e=>t(new Kk(e,this,this._ref)):{next:t.next?e=>t.next(new Kk(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class Qk{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new Yk(e,this._service)))}get items(){return this._delegate.items.map((e=>new Yk(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Yk{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return rk(e,t)}(this._delegate,e);return new Yk(t,this.storage)}get root(){return new Yk(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Yk(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Wk(hk(this._delegate,e,t),this)}putString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oE.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");const r=lE(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Wk(new YE(this._delegate,new fE(r.data,!0),i),this)}listAll(){return function(e){return XE(e=bt(e))}(this._delegate).then((e=>new Qk(e,this.storage)))}list(e){return function(e,t){return ZE(e=bt(e),t)}(this._delegate,e||void 0).then((e=>new Qk(e,this.storage)))}getMetadata(){return dk(this._delegate)}updateMetadata(e){return function(e,t){return ek(e=bt(e),t)}(this._delegate,e)}getDownloadURL(){return fk(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return nk(e=bt(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw HS(e)}}class Jk{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Xk(e))throw zS("ref() expected a child path but got a URL, use refFromURL instead.");return new Yk(pk(this._delegate,e),this)}refFromURL(e){if(!Xk(e))throw zS("refFromURL() expected a full URL but got a child path, use ref() instead.");try{WS.makeFromUrl(e,this._delegate.host)}catch(t){throw zS("refFromUrl() expected a valid full URL but got an invalid one.")}return new Yk(pk(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};mk(this._delegate,e,t,n)}}function Xk(e){return/^[A-Za-z]+:\/\//.test(e)}function $k(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new Jk(r,i)}function Zk(e){const{sizeTitle:t,maxSize:n,minSize:r,inputFocused:i}=e;return(0,SS.jsxs)("p",{className:"sizeInput",children:[(0,SS.jsxs)("span",{className:i&&t<r?"red":"",children:["\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0449\u043e\u043d\u0430\u0439\u043c\u0435\u043d\u0448\u0435 ",r," \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432"]}),(0,SS.jsxs)("span",{className:i&&t>n?"red":"",children:[t,"/",n]})]})}!function(e){const t={TaskState:BE,TaskEvent:VE,StringFormat:oE,Storage:Jk,Reference:Yk};e.INTERNAL.registerComponent(new wt("storage-compat",$k,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.6")}(Vk);const eT=[{title:"\u0412\u0441\u0435",alt:"all"},{title:"\u041a\u043e\u0442\u0438",alt:"cat"},{title:"\u0421\u043e\u0431\u0430\u043a\u0438",alt:"dog"},{title:"\u041f\u0442\u0430\u0445\u0438",alt:"bird"},{title:"\u0420\u0438\u0431\u043a\u0438",alt:"fish"},{title:"\u0413\u0440\u0438\u0437\u0443\u043d\u0438",alt:"rodents"},{title:"\u0420\u0435\u043f\u0442\u0438\u043b\u0456\u0457",alt:"reptiles"}];function tT(e){const{setProductData:t,productData:n}=e,[r,s]=(0,i.useState)(!1),[a,o]=(0,i.useState)("");(0,i.useEffect)((()=>(document.addEventListener("click",c),()=>{document.removeEventListener("click",c)})),[]),(0,i.useEffect)((()=>{}),[n]);const c=e=>{e.target.closest(".dropdown")||s(!1)};return(0,SS.jsxs)("div",{className:"dropdown",children:[(0,SS.jsx)("button",{type:"button",className:"button",onClick:()=>{s(!r)},children:a?a.title:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e"}),(0,SS.jsx)("div",{className:"dropdown-content ".concat(r?"dropdown-content-click":""),children:eT.map((e=>"all"!==e.alt?(0,SS.jsx)("li",{onClick:()=>(e=>{o(e),t((t=>({...t,category:e}))),s(!1)})(e),children:e.title},e.alt):null))})]})}function nT(e){const{setProductData:t,productData:n}=e,[r,s]=(0,i.useState)(0),[a,o]=(0,i.useState)(""),[c,l]=(0,i.useState)(!1);return(0,SS.jsxs)(SS.Fragment,{children:[(0,SS.jsxs)("div",{className:"addProduct__group",children:[(0,SS.jsx)("label",{htmlFor:"title",children:"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443*"}),(0,SS.jsx)("input",{type:"text",id:"title",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u041b\u0430\u0431\u0440\u0430\u0434\u043e\u0440\u2010\u0440\u0435\u0442\u0440\u0438\u0432\u0435\u0440 \u0446\u0443\u0446\u0435\u043d\u044f\u0442\u043a\u0430",className:"input",onChange:e=>{const n=e.target.value;s(n.length),n.length>=16&&n.length<=70?t((e=>({...e,title:n}))):t((e=>({...e,title:""})))},maxLength:"70",onFocus:()=>{l(!0)},required:!0}),(0,SS.jsx)(Zk,{sizeTitle:r,maxSize:70,minSize:16,inputFocused:c})]}),(0,SS.jsxs)("div",{className:"addProduct__group",children:[(0,SS.jsx)("label",{htmlFor:"price",children:"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0446\u0456\u043d\u0443*"}),(0,SS.jsxs)("div",{className:"addProduct__price-container",children:[(0,SS.jsx)("input",{type:"number",id:"price",placeholder:"",className:"input addProduct__price",onChange:e=>{let n=e.target.value;n.length>6&&(n=n.slice(0,6),e.target.value=n),(e=>{let n=e.target.value;if(/[^\d.]/.test(n))o("");else{const e=n.split(".");e[1]&&e[1].length>1&&(e[1]=e[1].substring(0,1),n=e.join(".")),o(n),t((e=>({...e,price:n})))}})(e)},required:!0}),(0,SS.jsx)("p",{children:"\u0433\u0440\u043d."})]})]}),(0,SS.jsxs)("div",{className:"addProduct__group",children:[(0,SS.jsx)("label",{htmlFor:"category",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f*"}),(0,SS.jsx)(tT,{setProductData:t,productData:n})]})]})}function rT(e){const{url:t,onImageSelected:n,onImageDeleted:r}=e,[s,a]=(0,i.useState)(null);return(0,SS.jsx)("div",{className:"addProduct__Photo",children:(0,SS.jsxs)("div",{className:"addProduct__content",children:[t?(0,SS.jsxs)("div",{className:"addProduct__imgContainer",children:[(0,SS.jsx)("img",{src:t,alt:"animal",className:"addProduct__image"}),(0,SS.jsx)("div",{className:"addProduct__blur",children:(0,SS.jsx)(Ek,{className:"addProduct__delete wave-animation",onClick:()=>{r(t,s)}})})]}):(0,SS.jsxs)("div",{children:[(0,SS.jsx)(Ck,{className:"icons addProduct__icon"}),(0,SS.jsxs)("div",{className:"addProduct__hoverPhoto",children:[(0,SS.jsx)(Dk,{className:"icons wave-animation"}),(0,SS.jsx)("p",{children:"Add Photo"})]})]}),(0,SS.jsx)("input",{type:"file",accept:"image/*",className:"input",onChange:async e=>{const t=e.target.files[0];if(t){const e=URL.createObjectURL(t);a(t),n(e,t)}}})]})})}function iT(e){const{setProductData:t}=e,[n,r]=(0,i.useState)(0),[s,a]=(0,i.useState)(!1);return(0,SS.jsxs)("div",{className:"description",children:[(0,SS.jsx)("p",{children:"\u041e\u043f\u0438\u0441*"}),(0,SS.jsx)("textarea",{type:"text",className:"description__input input",placeholder:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435, \u0449\u043e \u0432\u0438 \u0445\u043e\u0442\u0456\u043b\u0438 \u0431\u0438 \u0434\u0456\u0437\u043d\u0430\u0442\u0438\u0441\u044c \u0437 \u043e\u0433\u043e\u043b\u043e\u0448\u0435\u043d\u043d\u044f",maxLength:"3000",onChange:e=>{const n=e.target.value;r(n.length),n.length>=40&&n.length<=3e3?t((e=>({...e,description:n}))):t((e=>({...e,description:""})))},rows:10,cols:3,onFocus:()=>{a(!0)},required:!0}),(0,SS.jsx)(Zk,{sizeTitle:n,maxSize:3e3,minSize:40,inputFocused:s})]})}function sT(e){let{setProductData:t}=e;return(0,SS.jsxs)("div",{children:[(0,SS.jsx)("h2",{className:"title-h2",children:"\u0412\u0430\u0448\u0456 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0456 \u0434\u0430\u043d\u0456"}),(0,SS.jsx)("label",{htmlFor:"Name",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0430 \u043e\u0441\u043e\u0431\u0430*"}),(0,SS.jsx)("input",{type:"text",id:"Name",placeholder:"\u042f\u043a \u0434\u043e \u0432\u0430\u0441 \u0437\u0432\u0435\u0440\u0442\u0430\u0442\u0438\u0441\u044c",className:"input",required:!0,onChange:e=>{const n=e.target.value;t((e=>({...e,contactPerson:n})))},maxLength:20}),(0,SS.jsx)("label",{htmlFor:"telephone",children:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443"}),(0,SS.jsx)("input",{type:"number",id:"telephone",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0442\u0435\u043b\u0435\u0444\u043e\u043d \u0443 \u0444\u043e\u0440\u043c\u0430\u0442\u0456 (0XX) XXX-XXXX",className:"input",onChange:e=>{const n=e.target.value;t((e=>({...e,telephone:n})))},pattern:"[0]-[0-9]{2}-[0-9]{3}-[0-9]{4}"})]})}function aT(e){let{description:t,basket:n,viewCount:r,basketCount:i}=e;return(0,SS.jsxs)("div",{className:"descriptionProduct",children:[(0,SS.jsx)("h2",{className:"descriptionProduct__title",children:"\u041e\u043f\u0438\u0441"}),(0,SS.jsx)("p",{className:"descriptionProduct__description",children:t}),(0,SS.jsx)("div",{className:"descriptionProduct__line"}),(0,SS.jsxs)("div",{className:"descriptionProduct__statistics",children:[(0,SS.jsxs)("p",{className:"descriptionProduct__like",children:["\u0414\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443: ",i]}),(0,SS.jsxs)("p",{className:"descriptionProduct__views",children:["\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434\u0456\u0432: ",r]})]})]})}function oT(e){let{product:t}=e;const{auth:n,firestore:r}=(0,i.useContext)($C),[s]=co(n),[a,o]=(0,i.useState)(!1),[c,l]=(0,i.useState)(!1),[u,h]=(0,i.useState)("\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d"),d=te();(0,i.useEffect)((()=>{s&&t&&(async()=>{try{const e=r.collection("carts").doc(s.uid),n=await e.get();n.exists&&n.data().products.includes(t.uid)?o(!0):o(!1)}catch(c){console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u043a\u0438 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0443 \u0443 \u043a\u043e\u0448\u0438\u043a\u0443 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430:",c)}})()}),[t,s,r]);return(0,SS.jsxs)("div",{className:"salesMan",children:[c&&(0,SS.jsx)(Pk,{setError:l,text:"\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0438 \u043d\u0435 \u0432\u0432\u0456\u0439\u0448\u043b\u0438"}),(0,SS.jsxs)("div",{className:"salesMan__container-dataIcon",children:[(0,SS.jsxs)("p",{className:"salesMan__data",children:["\u041e\u043f\u0443\u0431\u043b\u0456\u043a\u043e\u0432\u0430\u043d\u043e ",qk(t.createdAt)]}),(0,SS.jsx)(Bk,{onClick:e=>{e.stopPropagation(),Hk(e,t,o,s,r,l).catch((e=>console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0434\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u044f \u0434\u043e \u043a\u043e\u0448\u0438\u043a\u0430:",e)))},className:a?"basket-icon basket__active":"basket-icon"})]}),(0,SS.jsxs)("h1",{className:"salesMan__title",children:[" ",t.product.title]}),(0,SS.jsxs)("p",{className:"salesMan__price",children:[t.product.price," \u0433\u0440\u043d."]}),(0,SS.jsxs)("div",{className:"salesMan__container-button",children:[(0,SS.jsx)("button",{type:"salesMan__button_message button",className:"button salesMan__button_send",onClick:()=>{d(Me,{state:{product:t}})},children:"\u041f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f"}),(0,SS.jsx)("button",{className:"salesMan__button_tel button",onClick:()=>h(t.product.telephone),children:u})]})]})}var cT=n(464);function lT(e){const t=e.disabled?" arrow--disabled":"";return(0,SS.jsxs)("svg",{onClick:e.onClick,className:"arrow ".concat(e.left?"arrow--left":"arrow--right"," ").concat(t),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[e.left&&(0,SS.jsx)("path",{d:"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z"}),!e.left&&(0,SS.jsx)("path",{d:"M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"})]})}function uT(e){let{listPhotoSrc:t}=e;const[n,r]=(0,i.useState)(0),[s,a]=(0,i.useState)(!1),[o,c]=(0,i.useState)(0),[l,u]=(0,cT.E)({initial:0,slideChanged(e){r(e.track.details.rel)},created(){a(!0)}}),h=(0,i.useMemo)((()=>t.map(((e,t)=>t))),[t]);return(0,SS.jsxs)("div",{className:"slider__container",children:[(0,SS.jsxs)("div",{className:"navigation-wrapper",children:[(0,SS.jsx)("div",{ref:l,className:"keen-slider",children:t.map(((e,t)=>(0,SS.jsx)("img",{src:e,alt:e,className:"keen-slider__slide number-slide".concat(t)},h[t])))},h[0]+h.length),s&&t.length>1&&u.current&&(0,SS.jsxs)(SS.Fragment,{children:[(0,SS.jsx)(lT,{left:!0,onClick:e=>{var t;return e.stopPropagation()||(null===(t=u.current)||void 0===t?void 0:t.prev())},disabled:0===n}),(0,SS.jsx)(lT,{onClick:e=>{var t;return e.stopPropagation()||(null===(t=u.current)||void 0===t?void 0:t.next())},disabled:n===u.current.track.details.slides.length-1})]})]}),s&&u.current&&t.length>1&&(0,SS.jsx)("div",{className:"dots",children:h.map((e=>(0,SS.jsx)("button",{onClick:()=>{var t;null===(t=u.current)||void 0===t||t.moveToIdx(e)},className:"dot"+(n===e?" active":"")},e)))})]})}function hT(){const e=Z(),t=e.state&&e.state.product,[n,r]=(0,i.useState)(!1),{auth:s,firestore:a}=(0,i.useContext)($C),[o]=co(s),[c,l]=(0,i.useState)(0),[u,h]=(0,i.useState)(0);return(0,i.useEffect)((()=>{if(!t||!o)return;const e=a.collection("products").doc(t.uid);(async()=>{try{const t=await e.get();if(t.exists){const n=t.data(),r=n.view||[],i=n.basket||[];r.includes(o.uid)||(r.push(o.uid),await e.update({view:r})),l(r.length),h(i.length)}else r(!0)}catch(n){r(!0)}})()}),[t,o,a]),t?(0,SS.jsxs)("div",{className:"productPages",children:[(0,SS.jsxs)("div",{className:"productPages__container",children:[(0,SS.jsx)(uT,{listPhotoSrc:t.product.photos}),(0,SS.jsx)(oT,{product:t})]}),(0,SS.jsx)(aT,{description:t.product.description,basket:t.product.basket,viewCount:c,basketCount:u})]}):n&&(0,SS.jsx)(Pk,{text:"\u0421\u0442\u043e\u0440\u0456\u043d\u043a\u0430 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u0430",setError:r})}function dT(e){return Ik({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]})(e)}function fT(e){const{setSearchTerm:t,setMaxPrice:n,setMinPrice:r,setSortBy:s}=e,[a,o]=(0,i.useState)(""),[c,l]=(0,i.useState)(""),[u,h]=(0,i.useState)(!1),d=["\u043d\u0435 \u0441\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438","\u0434\u0435\u0448\u0435\u0432\u0448\u0456","\u0434\u043e\u0440\u043e\u0436\u0447\u0456"];(0,i.useEffect)((()=>(document.addEventListener("click",f),()=>{document.removeEventListener("click",f)})),[]);const f=e=>{e.target.closest(".dropdown")||h(!1)};return(0,SS.jsx)("div",{className:"search",children:(0,SS.jsx)("form",{autoComplete:"on",children:(0,SS.jsxs)("div",{children:[(0,SS.jsxs)("div",{className:"search__container",children:[(0,SS.jsx)("input",{type:"text",placeholder:"\u0429\u043e \u0448\u0443\u043a\u0430\u0454\u0442\u0435?",className:"search__input input",onChange:e=>o(e.target.value)}),(0,SS.jsxs)("button",{type:"submit",onClick:e=>(e=>{e.preventDefault(),t(a);const n=document.getElementById("productsList");n&&n.scrollIntoView({behavior:"smooth",block:"start"})})(e),className:"search__button_search button",children:[(0,SS.jsx)("span",{children:"\u041f\u043e\u0448\u0443\u043a"}),(0,SS.jsx)(dT,{})]})]}),(0,SS.jsxs)("div",{className:"search__container search__container_price",children:[(0,SS.jsx)("p",{children:"\u0446\u0456\u043d\u0430: "}),(0,SS.jsx)("input",{className:"input search__price",type:"number",placeholder:"\u0432\u0456\u0434:",onChange:e=>r(e.target.value)}),(0,SS.jsx)("input",{className:"input search__price",type:"number",placeholder:"\u0434\u043e:",onChange:e=>n(e.target.value)}),(0,SS.jsxs)("div",{className:"dropdown",children:[(0,SS.jsx)("button",{type:"button",className:"button search__sorted",onClick:()=>{h(!u)},children:c||"\u043f\u043e\u043a\u0430\u0437\u0443\u0432\u0430\u0442\u0438 \u0441\u043f\u043e\u0447\u0430\u0442\u043a\u0443"}),(0,SS.jsx)("div",{className:"dropdown-content ".concat(u?"dropdown-content-click":""),children:d.map((e=>"all"!==e.alt?(0,SS.jsx)("li",{onClick:()=>(e=>{l(e),e===d[1]?s("cheap"):e===d[2]?s("dear"):l(""),h(!1)})(e),children:e},e):null))})]})]})]})})})}function pT(e){let{title:t,alt:r,handleCategoryClick:s,selectedCategory:a}=e;const[o,c]=(0,i.useState)(!1);(0,i.useEffect)((()=>{c(a===r)}),[a,r]);return(0,SS.jsxs)("div",{className:"categories__item",onClick:()=>{s(r),c(o)},children:[(0,SS.jsx)("img",{className:"categories__img ".concat(o?"categories__active":""),src:n(628)("./".concat(r,".jpg")),alt:r}),(0,SS.jsx)("p",{className:"categories__text",children:t})]})}function mT(e){let{handleCategoryClick:t,selectedCategory:n}=e;return(0,SS.jsxs)("div",{className:"categories",children:[(0,SS.jsx)("p",{className:"categories__title",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457"}),(0,SS.jsx)("div",{className:"categories__items",children:eT.map((e=>(0,SS.jsx)(pT,{alt:e.alt,title:e.title,handleCategoryClick:t,selectedCategory:n},e.title)))})]})}const gT=10;function vT(e){let{selectedCategory:t,filterProducts:n}=e;const[r,s]=(0,i.useState)(0),a=n,o=t&&"all"!==t?a.filter((e=>e.product.category.alt&&e.product.category.alt===t)):a,{pagItems:c,pagStart:l,pagEnd:u}=(0,i.useMemo)((()=>{if(!o)return{pagItems:[],pagStart:0,pagEnd:0};const e=Math.ceil(o.length/gT),t=[];for(let i=0;i<e;i++)t.push((0,SS.jsx)("button",{onClick:()=>s(i),className:r===i?"active":"",children:i+1},i));const n=r*gT;return{pagItems:t,pagStart:n,pagEnd:n+gT}}));return(0,SS.jsx)("div",{className:"productsList",id:"productsList",children:(0,SS.jsxs)("div",{className:"productsList__container",children:[(0,SS.jsx)("h1",{className:"productsList__title",children:"\u041e\u0433\u043e\u043b\u043e\u0448\u0435\u043d\u043d\u044f"}),(null===o||void 0===o?void 0:o.length)>0?(0,SS.jsxs)(SS.Fragment,{children:[(0,SS.jsx)("ul",{className:"productsList__products",children:o.slice(l,u).map((e=>(0,SS.jsx)(Gk,{product:e},e.uid)))}),(0,SS.jsx)("p",{className:"productsList__pagination",children:c})]}):(0,SS.jsx)("h2",{className:"productsList__title-h2 title-h2",children:"\u041e\u0433\u043e\u043b\u043e\u0448\u0435\u043d\u044c \u043d\u0435\u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"})]})})}var yT=function(){return yT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},yT.apply(this,arguments)},bT=function(e){return{loading:void 0===e||null===e,value:e}},wT=function(e){var t=e?e():void 0,n=(0,i.useReducer)((function(e,t){switch(t.type){case"error":return yT(yT({},e),{error:t.error,loading:!1,value:void 0});case"reset":return bT(t.defaultValue);case"value":return yT(yT({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),bT(t)),r=n[0],s=n[1],a=(0,i.useCallback)((function(){var t=e?e():void 0;s({type:"reset",defaultValue:t})}),[e]),o=(0,i.useCallback)((function(e){s({type:"error",error:e})}),[]),c=(0,i.useCallback)((function(e){s({type:"value",value:e})}),[]);return(0,i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:a,setError:o,setValue:c,value:r.value}}),[r.error,r.loading,a,o,c,r.value])},_T=function(e,t,n){var r=(0,i.useRef)(e);return(0,i.useEffect)((function(){t(e,r.current)||(r.current=e,n&&n())})),r},IT=function(e,t){var n=!e&&!t,r=!!e&&!!t&&K_(e,t);return n||r},ST=function(e,t){return _T(e,IT,t)},ET=function(e,t){var n=function(e,t){var n=wT(),r=n.error,s=n.loading,a=n.reset,o=n.setError,c=n.setValue,l=n.value,u=ST(e,a);return(0,i.useEffect)((function(){if(u.current){var e=(null===t||void 0===t?void 0:t.snapshotListenOptions)?fS(u.current,t.snapshotListenOptions,c,o):fS(u.current,c,o);return function(){e()}}c(void 0)}),[u.current]),[l,s,r]}(e,t),r=n[0],s=n[1],a=n[2];return[kT(r,null===t||void 0===t?void 0:t.snapshotOptions,null===t||void 0===t?void 0:t.initialValue),s,a,r]},kT=function(e,t,n){return(0,i.useMemo)((function(){var r;return null!==(r=null===e||void 0===e?void 0:e.docs.map((function(e){return e.data(t)})))&&void 0!==r?r:n}),[e,t])};function TT(){const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(""),{firestore:s}=(0,i.useContext)($C),[a,o]=(0,i.useState)(""),[c,l]=(0,i.useState)(""),[u,h]=(0,i.useState)(""),[d,f]=ET(s.collection("products").orderBy("createdAt"));let p=((e,t)=>e?t.filter((t=>t.product.title.toLowerCase().includes(e.toLowerCase()))):t)(n,d);return a&&(p=p.filter((e=>e.product.price<=parseInt(a)))),c&&(p=p.filter((e=>e.product.price>=parseInt(c)))),"dear"===u?p.sort(((e,t)=>t.product.price-e.product.price)):"cheap"===u&&p.sort(((e,t)=>e.product.price-t.product.price)),f?(0,SS.jsx)(Ak,{}):(0,SS.jsxs)(SS.Fragment,{children:[(0,SS.jsx)(fT,{setSearchTerm:r,searchTerm:n,setMaxPrice:o,setMinPrice:l,setSortBy:h}),(0,SS.jsx)(mT,{handleCategoryClick:e=>{t(e)},selectedCategory:e}),(0,SS.jsx)(vT,{selectedCategory:e,filterProducts:p})]})}const CT=[{path:Ue,Component:hT},{path:Ve,Component:TT},{path:Ue,Component:hT}],xT=[{path:Me,Component:function(){const{auth:e,storage:t,db:n}=(0,i.useContext)($C),r=Z(),s=r.state&&r.state.product,[a]=co(e),[o,c]=(0,i.useState)(null),[l,u]=(0,i.useState)(null),h=null===a||void 0===a?void 0:a.uid,d=null===s||void 0===s?void 0:s.uidUser,[f,p]=(0,i.useState)(""),[m,g]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{if(!h||!d)return;(async e=>{const t=h>e?"".concat(h,"_").concat(e):"".concat(e,"_").concat(h);p(t);try{const r=await oS(H_(n,"chats",t));if(!r.exists()){if(!s)return void g(!0);if(!s.displayName||!s.photoURL)return;await hS(H_(n,"chats",t),{messages:[],recipient:{name:s.displayName,photo:s.photoURL}});const r=H_(n,"usersChats",h),i=H_(n,"usersChats",e);(await oS(r)).exists()||await hS(r,{}),(await oS(i)).exists()||await hS(i,{}),await dS(r,{["".concat(t,".userInfo")]:{uid:e,displayName:s.displayName,photoURL:s.photoURL},["".concat(t,".date")]:_S()}),await dS(i,{["".concat(t,".userInfo")]:{uid:h,displayName:null===a||void 0===a?void 0:a.displayName,photoURL:null===a||void 0===a?void 0:a.photoURL},["".concat(t,".date")]:_S()})}c(r.data()),u({displayName:s.displayName,photoURL:s.photoURL,uid:e})}catch(r){g(!0)}})(d)}),[h,d,s,n,null===a||void 0===a?void 0:a.displayName,null===a||void 0===a?void 0:a.photoURL]),(0,SS.jsxs)("div",{className:"chat",children:[m&&(0,SS.jsx)(Pk,{setError:g,text:"\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"}),(0,SS.jsxs)("div",{className:"chat__container",children:[(0,SS.jsx)(ES,{setChat:c,setCombinedId:p,selectedChat:l,setSelectedChat:u,currentUserUid:h}),o?(0,SS.jsxs)("div",{className:"chat__messagesInput",children:[(0,SS.jsx)(Rk,{chat:l,setCombinedId:p,combinedId:f}),(0,SS.jsx)(Nk,{currentUserUid:h,chat:l,db:n,storage:t,combinedId:f})]}):(0,SS.jsx)("h1",{style:{margin:"0 auto",display:"flex",alignItems:"center"},children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0447\u0430\u0442"})]})]})}},{path:Fe,Component:function(){const{auth:e,firestore:t,storage:n}=(0,i.useContext)($C),[r]=co(e),s=te(),[a,o]=(0,i.useState)([]),[c,l]=(0,i.useState)(!1),[u,h]=(0,i.useState)([]),[d,f]=(0,i.useState)(!1),[p,m]=(0,i.useState)({title:"",price:"",description:"",telephone:"",contactPerson:"",category:"",photos:[],view:0,basket:[]}),g=Math.max(6-a.length,0),v=Array.from({length:g},((e,t)=>(0,SS.jsx)(rT,{onImageSelected:y,onImageDeleted:b},t)));function y(e,t){o((n=>{const r=[...n,e];return m((e=>({...e,photos:r}))),h((e=>[...e,t])),r}))}function b(e,t){o((t=>t.filter((t=>t!==e)))),m((t=>({...t,photos:t.photos.filter((t=>t!==e))}))),h((e=>e.filter((e=>e!==t))))}return(0,SS.jsx)("div",{className:"addProduct",children:c?(0,SS.jsx)(Ak,{}):(0,SS.jsxs)(SS.Fragment,{children:[(0,SS.jsx)("h1",{className:"addProduct__title title",children:"\u0421\u0432\u043e\u0440\u0438\u0442\u0438 \u043e\u0433\u043e\u043b\u043e\u0448\u0435\u043d\u043d\u044f"}),d&&(0,SS.jsx)(Pk,{setError:f,text:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0443\u0441\u0456 \u043f\u043e\u043b\u044f"}),(0,SS.jsxs)("div",{className:"addProduct__container",children:[(0,SS.jsx)("h2",{className:"title-h2",children:"\u041e\u043f\u0438\u0448\u0456\u0442\u044c \u0443 \u043f\u043e\u0434\u0440\u043e\u0431\u0438\u0446\u044f\u0445"}),(0,SS.jsxs)("form",{autoComplete:"on",children:[(0,SS.jsx)(nT,{setProductData:m,productData:p}),(0,SS.jsxs)("div",{children:[(0,SS.jsx)("h2",{className:"title-h2 addProduct__title_margin",children:"Photos"}),(0,SS.jsxs)("div",{className:"addProduct__containerPhoto",children:[a.map(((e,t)=>(0,SS.jsx)(rT,{url:e,index:t,onImageDeleted:b},t))),v]})]}),(0,SS.jsx)(iT,{setProductData:m}),(0,SS.jsx)(sT,{setProductData:m}),(0,SS.jsx)("button",{type:"submit",className:"button maxContent",onClick:async e=>{e.preventDefault();let i=!1;if(Object.entries(p).forEach((e=>{let[t,n]=e;"view"!==t&&"basket"!==t&&(""===n||Array.isArray(n)&&0===n.length)&&(i=!0)})),i)f(!0);else{f(!1);const e=[];try{l(!0),await Promise.all(u.map((async t=>{const r=pk(n,"photos/".concat(RS()));await hk(r,t);const i=await fk(r);e.push(i)})));const i=RS();await t.collection("products").doc(i).set({uid:i,uidUser:r.uid,view:[],basket:[],displayName:r.displayName,photoURL:r.photoURL,product:{...p,photos:e},createdAt:Vk.firestore.Timestamp.now()}),await t.collection("users").doc(r.uid).collection("products").doc(i).set({uid:i,uidUser:r.uid,view:[],basket:[],displayName:r.displayName,photoURL:r.photoURL,product:{...p,photos:e},createdAt:Vk.firestore.Timestamp.now()}),s(Ve),l(!1)}catch(d){console.error("Error uploading photos or adding product:",d),f(!0)}}},children:"\u041e\u043f\u0443\u0431\u043b\u0456\u043a\u0443\u0432\u0430\u0442\u0438"})]})]})]})})}},{path:je,Component:function(){const{auth:e,firestore:t}=(0,i.useContext)($C),[n]=co(e),[r,s]=(0,i.useState)([]),[a,o]=(0,i.useState)([]),[c,l]=(0,i.useState)(!0),[u,h]=(0,i.useState)(""),[d,f]=(0,i.useState)(""),[p,m]=(0,i.useState)(null),[g,v]=(0,i.useState)(""),[y,b]=(0,i.useState)(!1),[w,_]=(0,i.useState)(!0);return(0,i.useEffect)((()=>{if(n){const e=async()=>{try{const e=t.collection("users").doc(n.uid).collection("products"),r=(await e.get()).docs.map((e=>({id:e.id,...e.data()}))),i=t.collection("carts").doc(n.uid),a=(await i.get()).data(),c=a?a.products:[],u=await Promise.all(c.map((async e=>{const n=await t.collection("products").doc(e).get();return{id:n.id,...n.data()}})));s(r),o(u),h(n.displayName),f(n.photoURL),l(!1)}catch(e){console.error("Error fetching user data: ",e),l(!1)}};e()}}),[n,t,p]),(0,SS.jsx)("div",{className:"profilePages",children:(0,SS.jsxs)("div",{className:"profilePages__title",children:[(0,SS.jsxs)("form",{className:"profilePages__form",onSubmit:async e=>{e.preventDefault(),b(!0);try{const e=Vk.auth().currentUser;if(e){let n=d;if(p){const t=Vk.storage().ref().child("profilePictures/".concat(e.uid,"/").concat(p.name));await t.put(p),n=await t.getDownloadURL()}await e.updateProfile({displayName:u,photoURL:n}),await t.collection("users").doc(e.uid).set({displayName:u,photoURL:n},{merge:!0}),l(!1),v(""),m(null),b(!1),_(!0)}}catch(n){console.error("Error updating profile: ",n),b(!1),_(!0)}},children:[(0,SS.jsxs)("div",{className:"profilePages__inputs",children:[(0,SS.jsxs)("div",{className:"profilePages__formContainer",children:[(0,SS.jsx)("label",{htmlFor:"photoFile",children:(0,SS.jsx)(Lk,{className:"profilePages__icon"})}),(0,SS.jsx)("img",{src:g||d,alt:"avatar",className:"profilePages__avatar"}),(0,SS.jsx)("input",{type:"file",id:"photoFile",onChange:e=>{const t=e.target.files[0];t&&(m(t),v(URL.createObjectURL(t)))}})]}),(0,SS.jsxs)("div",{className:"profilePages__formContainer",children:[(0,SS.jsx)("label",{htmlFor:"displayName",children:(0,SS.jsx)(Lk,{className:"profilePages__icon",onClick:()=>_(!w)})}),w?(0,SS.jsx)("h1",{children:u}):(0,SS.jsx)("input",{type:"text",id:"displayName",value:u,onChange:e=>h(e.target.value),className:"input"})]})]}),y&&(0,SS.jsx)(Ak,{}),(0,SS.jsxs)("div",{className:"profilePages__buttons",children:[(0,SS.jsx)("button",{type:"submit",className:"button",disabled:y,children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043c\u0456\u043d\u0438"}),(0,SS.jsx)("button",{type:"button",className:"button",onClick:()=>{h(n.displayName),f(n.photoURL),v(""),m(null),_(!0)},children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438 \u0437\u043c\u0456\u043d\u0438"})]})]}),(0,SS.jsxs)("div",{className:"productsList",id:"productsList",children:[(0,SS.jsxs)("div",{className:"productsList__container",children:[(0,SS.jsx)("h1",{className:"productsList__title",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),a.length>0?(0,SS.jsx)("ul",{className:"productsList__products",children:a.map((e=>(0,SS.jsx)(Gk,{product:e},e.id)))}):(0,SS.jsx)("h2",{className:"productsList__title-h2 title-h2",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u043e\u0440\u043e\u0436\u043d\u044f"})]}),(0,SS.jsxs)("div",{className:"productsList__container",children:[(0,SS.jsx)("h1",{className:"productsList__title",children:"\u0412\u0430\u0448\u0456 \u043e\u0433\u043e\u043b\u043e\u0448\u0435\u043d\u043d\u044f"}),r.length>0?(0,SS.jsx)("ul",{className:"productsList__products",children:r.map((e=>(0,SS.jsxs)("div",{className:"productsList__products_container",children:[(0,SS.jsx)(Ok,{onClick:()=>(async e=>{try{await t.collection("products").doc(e).delete(),await t.collection("users").doc(n.uid).collection("products").doc(e).delete(),s(r.filter((t=>t.id!==e)))}catch(i){console.error("Error deleting product: ",i)}})(e.id),className:"productsList__delete"}),(0,SS.jsx)(Gk,{product:e},e.id)]},e.id)))}):(0,SS.jsx)("h2",{className:"productsList__title-h2 title-h2",children:"\u041e\u0433\u043e\u043b\u043e\u0448\u0435\u043d\u044c \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"})]})]})]})})}},{path:Ve,Component:TT},{path:Ue,Component:hT}];function NT(){return window}async function AT(e,t,n){var r;const{BuildInfo:i}=NT();ir(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(ir(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),a={};return $r()?a.ibi=i.packageName:Yr()?a.apn=i.packageName:Jn(e,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=s,Ka(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,a)}function RT(e){const{cordova:t}=NT();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const PT=20;class DT extends Ia{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function OT(e){const t=await UT()._get(FT(e));return t&&await UT()._remove(FT(e)),t}function LT(e,t){var n,r;const i=function(e){const t=jT(e),n=t.link?decodeURIComponent(t.link):void 0,r=jT(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return jT(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=jT(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],o=a?Xn(a):null;return o?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:o,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function MT(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<PT;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function UT(){return jr(ks)}function FT(e){return zr("authEvent",e.config.apiKey,e.name)}function jT(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return pt(n.join("?"))}const VT=class{constructor(){this._redirectPersistence=Cs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=wa,this._overrideRedirectResult=pa}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new DT(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Jn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,a,o,c,l,u;const h=NT();nr("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),nr("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),nr("function"===typeof(null===(s=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),nr("function"===typeof(null===(c=null===(o=null===(a=null===h||void 0===h?void 0:h.cordova)||void 0===a?void 0:a.plugins)||void 0===o?void 0:o.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),nr("function"===typeof(null===(u=null===(l=null===h||void 0===h?void 0:h.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),ha.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:MT(),postBody:null,tenantId:e.tenantId,error:Xn(e,"no-auth-event")}}(e,n,r);await function(e,t){return UT()._set(FT(e),t)}(e,s);const a=await AT(e,s,t);return async function(e,t,n){const{cordova:r}=NT();let i=()=>{};try{await new Promise(((s,a)=>{let o=null;function c(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function l(){o||(o=window.setTimeout((()=>{a(Xn(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),Yr()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),o&&window.clearTimeout(o)}}))}finally{i()}}(e,i,await RT(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=NT(),n={};$r()?n.iosBundleId=t.packageName:Yr()?n.androidPackageName=t.packageName:Jn(e,"operation-not-supported-in-this-environment"),await ka(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=NT(),s=setTimeout((async()=>{await OT(e),t.onEvent(BT())}),500),a=async n=>{clearTimeout(s);const r=await OT(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=LT(r,n.url)),t.onEvent(i||BT())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,a);const o=r,c="".concat(i.packageName.toLowerCase(),"://");NT().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&a({url:e}),"function"===typeof o)try{o(e)}catch(t){console.error(t)}}}};function BT(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Xn("no-auth-event")}}function zT(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function qT(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return!("file:"!==zT()&&"ionic:"!==zT()&&"capacitor:"!==zT()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function HT(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return it()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/Edge\/\d+/.test(e)}(e)}function GT(){try{const e=self.localStorage,t=Ns();if(e)return e.setItem(t,"1"),e.removeItem(t),!HT()||at()}catch(e){return KT()&&at()}return!1}function KT(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function WT(){return("http:"===zT()||"https:"===zT()||nt()||qT())&&!(rt()||et())&&GT()&&!KT()}function QT(){return qT()&&"undefined"!==typeof document}const YT={LOCAL:"local",NONE:"none",SESSION:"session"},JT=nr,XT="persistence";async function $T(e){await e._initializationPromise;const t=ZT(),n=zr(XT,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function ZT(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const eC=nr;class tC{constructor(){this.browserResolver=jr(Qa),this.cordovaResolver=jr(VT),this.underlyingResolver=null,this._redirectPersistence=Cs,this._completeRedirectFn=wa,this._overrideRedirectResult=pa}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return QT()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return eC(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!QT()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function nC(e){return e.unwrap()}function rC(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new oC(e,function(e,t){var n;const r=bt(e),i=t;return nr(t.customData.operationType,r,"argument-error"),nr(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),bs._fromError(r,i)}(e,t))}else if(r){const e=iC(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function iC(e){const{_tokenResponse:t}=e instanceof ot?e.customData:e;if(!t)return null;if(!(e instanceof ot)&&"temporaryProof"in t&&"phoneNumber"in t)return ta.credentialFromResult(e);const n=t.providerId;if(!n||n===Un.PASSWORD)return null;let r;switch(n){case Un.GOOGLE:r=Di;break;case Un.FACEBOOK:r=Pi;break;case Un.GITHUB:r=Oi;break;case Un.TWITTER:r=Ui;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:a,nonce:o}=t;return i||s||e||a?a?n.startsWith("saml.")?Li._create(n,a):Ei._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:i}):new Ri(n).credential({idToken:e,accessToken:i,rawNonce:o}):null}return e instanceof ot?r.credentialFromError(e):r.credentialFromResult(e)}function sC(e,t){return t.catch((t=>{throw t instanceof ot&&rC(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,iC(r)),additionalUserInfo:vs(e),user:cC.getOrCreate(n)};var r}))}async function aC(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>sC(e,n.confirm(t))}}class oC{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return sC(nC(this.auth),this.resolver.resolveSignIn(e))}}class cC{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=bt(e);return _s.has(t)||_s.set(t,ws._fromUser(t)),_s.get(t)}(e)}static getOrCreate(e){return cC.USER_MAP.has(e)||cC.USER_MAP.set(e,new cC(e)),cC.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return sC(this.auth,Ji(this._delegate,e))}async linkWithPhoneNumber(e,t){return aC(this.auth,async function(e,t,n){const r=bt(e);await Ki(!1,r,"phone");const i=await ea(r.auth,t,bt(n));return new Zs(i,(e=>Ji(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return sC(this.auth,async function(e,t,n){const r=bt(e);er(r.auth,t,Ni);const i=na(r.auth,n);return new la(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,tC))}async linkWithRedirect(e){return await $T(ii(this.auth)),ba(this._delegate,e,tC)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return sC(this.auth,Xi(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return aC(this.auth,async function(e,t,n){const r=bt(e);if(un(r.auth.app))return Promise.reject(Zn(r.auth));const i=await ea(r.auth,t,bt(n));return new Zs(i,(e=>Xi(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return sC(this.auth,async function(e,t,n){const r=bt(e);if(un(r.auth.app))return Promise.reject(Xn(r.auth,"operation-not-supported-in-this-environment"));er(r.auth,t,Ni);const i=na(r.auth,n);return new la(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,tC))}async reauthenticateWithRedirect(e){return await $T(ii(this.auth)),ya(this._delegate,e,tC)}sendEmailVerification(e){return os(this._delegate,e)}async unlink(e){return await Hi(this._delegate,e),this}updateEmail(e){return function(e,t){const n=bt(e);return un(n.auth.app)?Promise.reject(Zn(n.auth)):us(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return us(bt(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=bt(e);if(un(n.auth.app))return Promise.reject(Zn(n.auth));await Gi(n,t)}(this._delegate,e)}updateProfile(e){return ls(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return cs(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}cC.USER_MAP=new WeakMap;const lC=nr;class uC{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;lC(n,"invalid-api-key",{appName:e.name}),lC(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?tC:void 0;this._delegate=t.initialize({options:{persistence:dC(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Gn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?cC.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){di(this._delegate,e,t)}applyActionCode(e){return is(this._delegate,e)}checkActionCode(e){return ss(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await gi(bt(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&rs(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return sC(this._delegate,async function(e,t,n){if(un(e.app))return Promise.reject(Zn(e));const r=ii(e),i=hi(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fi),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&rs(e),t})),a=await ji._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return as(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Ci.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){lC(WT(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await ii(e)._initializationPromise,wa(e,t,!1)}(this._delegate,tC);return e?sC(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){ii(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=hC(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=hC(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=ii(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){nr(t.handleCodeInApp,r,"argument-error"),t&&ns(r,e,t)}(i,n),await hi(r,i,"getOobCode",_i)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=ii(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&ns(r,i,n),await hi(r,i,"getOobCode",wi)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){JT(Object.values(YT).includes(t),e,"invalid-persistence-type"),rt()?JT(t!==YT.SESSION,e,"unsupported-persistence-type"):et()?JT(t===YT.NONE,e,"unsupported-persistence-type"):KT()?JT(t===YT.NONE||t===YT.LOCAL&&at(),e,"unsupported-persistence-type"):JT(t===YT.NONE||GT(),e,"unsupported-persistence-type")}(this._delegate,e),e){case YT.SESSION:t=Cs;break;case YT.LOCAL:t=await jr(zs)._isAvailable()?zs:ks;break;case YT.NONE:t=Br;break;default:return Jn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return sC(this._delegate,async function(e){var t;if(un(e.app))return Promise.reject(Zn(e));const n=ii(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new ji({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Fi(n,{returnSecureToken:!0}),i=await ji._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return sC(this._delegate,Yi(this._delegate,e))}signInWithCustomToken(e){return sC(this._delegate,$i(this._delegate,e))}signInWithEmailAndPassword(e,t){return sC(this._delegate,function(e,t,n){return un(e.app)?Promise.reject(Zn(e)):Yi(bt(e),xi.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&rs(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return sC(this._delegate,async function(e,t,n){if(un(e.app))return Promise.reject(Zn(e));const r=bt(e),i=xi.credentialWithLink(t,n||sr());return nr(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Yi(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return aC(this._delegate,async function(e,t,n){if(un(e.app))return Promise.reject(Zn(e));const r=ii(e),i=await ea(r,t,bt(n));return new Zs(i,(e=>Yi(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return lC(WT(),this._delegate,"operation-not-supported-in-this-environment"),sC(this._delegate,async function(e,t,n){if(un(e.app))return Promise.reject(Xn(e,"operation-not-supported-in-this-environment"));const r=ii(e);er(e,t,Ni);const i=na(r,n);return new la(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,tC))}async signInWithRedirect(e){return lC(WT(),this._delegate,"operation-not-supported-in-this-environment"),await $T(this._delegate),va(this._delegate,e,tC)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await ss(bt(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function hC(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&cC.getOrCreate(e)),error:t,complete:n}}function dC(e,t){const n=function(e,t){const n=ZT();if(!n)return[];const r=zr(XT,e,t);switch(n.getItem(r)){case YT.NONE:return[Br];case YT.LOCAL:return[zs,Cs];case YT.SESSION:return[Cs];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(zs)||n.push(zs),"undefined"!==typeof window)for(const r of[ks,Cs])n.includes(r)||n.push(r);return n.includes(Br)||n.push(Br),n}uC.Persistence=YT;class fC{constructor(){this.providerId="phone",this._delegate=new ta(nC(Vk.auth()))}static credential(e,t){return ta.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}fC.PHONE_SIGN_IN_METHOD=ta.PHONE_SIGN_IN_METHOD,fC.PROVIDER_ID=ta.PROVIDER_ID;const pC=nr;class mC{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vk.app();var r;pC(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new $s(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var gC;(gC=Vk).INTERNAL.registerComponent(new wt("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new uC(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Fn,PASSWORD_RESET:jn,RECOVER_EMAIL:Vn,REVERT_SECOND_FACTOR_ADDITION:Bn,VERIFY_AND_CHANGE_EMAIL:zn,VERIFY_EMAIL:qn}},EmailAuthProvider:xi,FacebookAuthProvider:Pi,GithubAuthProvider:Oi,GoogleAuthProvider:Di,OAuthProvider:Ri,SAMLAuthProvider:Mi,PhoneAuthProvider:fC,PhoneMultiFactorGenerator:Xa,RecaptchaVerifier:mC,TwitterAuthProvider:Ui,Auth:uC,AuthCredential:mi,Error:ot}).setInstantiationMode("LAZY").setMultipleInstances(!1)),gC.registerVersion("@firebase/auth-compat","0.5.5");var vC=n(926),yC=n.n(vC);n(911),n(541),n(121),n(301),n(928);(function(){(function(){var e,t,r="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)t=Object.setPrototypeOf;else{var i;e:{var s={};try{s.__proto__={xb:!0},i=s.xb;break e}catch(nu){}i=!1}t=i?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var a=t;function o(e,t){if(e.prototype=r(t.prototype),e.prototype.constructor=e,a)a(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}else e[n]=t[n];e.K=t.prototype}var c="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},l="undefined"!=typeof window&&window===this?this:"undefined"!=typeof n.g&&null!=n.g?n.g:this;function u(e,t){if(t){var n=l;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];i in n||(n[i]={}),n=n[i]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&c(n,e,{configurable:!0,writable:!0,value:t})}}u("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),u("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var i=n[t];if(i===e||Object.is(i,e))return!0}return!1}}));var h=this;function d(e){return void 0!==e}function f(e){return"string"==typeof e}var p=/^[\w+/_-]+[=]{0,2}$/,m=null;function g(){}function v(e){e.W=void 0,e.Xa=function(){return e.W?e.W:e.W=new e}}function y(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function b(e){return"array"==y(e)}function w(e){var t=y(e);return"array"==t||"object"==t&&"number"==typeof e.length}function _(e){return"function"==y(e)}function I(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var S="closure_uid_"+(1e9*Math.random()>>>0),E=0;function k(e,t,n){return e.call.apply(e.bind,arguments)}function T(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function C(e,t,n){return(C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?k:T).apply(null,arguments)}function x(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function N(e,t){for(var n in t)e[n]=t[n]}var A,R=Date.now||function(){return+new Date};function P(e,t){e=e.split(".");var n,r=h;e[0]in r||"undefined"==typeof r.execScript||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)!e.length&&d(t)?r[n]=t:r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}}function D(e,t){function n(){}n.prototype=t.prototype,e.K=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.vc=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function O(e){if(Error.captureStackTrace)Error.captureStackTrace(this,O);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function L(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");O.call(this,n+e[r])}function M(e,t){throw new L("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}D(O,Error),O.prototype.name="CustomError",D(L,O),L.prototype.name="AssertionError";var U=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(f(e))return f(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},F=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=f(e)?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};var j=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,s=f(e)?e.split(""):e,a=0;a<n;a++)if(a in s){var o=s[a];t.call(void 0,o,a,e)&&(r[i++]=o)}return r},V=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i=f(e)?e.split(""):e,s=0;s<n;s++)s in i&&(r[s]=t.call(void 0,i[s],s,e));return r},B=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=f(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function z(e,t){return 0<=U(e,t)}function q(e,t){var n;return(n=0<=(t=U(e,t)))&&H(e,t),n}function H(e,t){return 1==Array.prototype.splice.call(e,t,1).length}function G(e,t){!function(e,t){for(var n=f(e)?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&H(e,r)&&0}))}function K(e){return Array.prototype.concat.apply([],arguments)}function W(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Q(e,t,n){return 2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,n)}var Y=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},J=/&/g,X=/</g,$=/>/g,Z=/"/g,ee=/'/g,te=/\x00/g,ne=/[\x00&<>"']/;function re(e,t){return e<t?-1:e>t?1:0}function ie(e){return ne.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(J,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(X,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace($,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(Z,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ee,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(te,"&#0;"))),e}function se(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ae(e){var t,n={};for(t in e)n[t]=e[t];return n}var oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var s=0;s<oe.length;s++)n=oe[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}var le="StopIteration"in h?h.StopIteration:{message:"StopIteration",stack:""};function ue(){}function he(e){if(e instanceof ue)return e;if("function"==typeof e.ha)return e.ha(!1);if(w(e)){var t=0,n=new ue;return n.next=function(){for(;;){if(t>=e.length)throw le;if(t in e)return e[t++];t++}},n}throw Error("Not implemented")}function de(e){if(w(e))return W(e);e=he(e);var t=[];return function(e,t){if(w(e))try{F(e,t,void 0)}catch(n){if(n!==le)throw n}else{e=he(e);try{for(;;)t.call(void 0,e.next(),void 0,e)}catch(r){if(r!==le)throw r}}}(e,(function(e){t.push(e)})),t}function fe(e,t){this.g={},this.a=[],this.j=this.h=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof fe)for(n=e.ja(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function pe(e){if(e.h!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];me(e.g,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.h!=e.a.length){var i={};for(n=t=0;t<e.a.length;)me(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function me(e,t){return Object.prototype.hasOwnProperty.call(e,t)}ue.prototype.next=function(){throw le},ue.prototype.ha=function(){return this},(e=fe.prototype).la=function(){pe(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.g[this.a[t]]);return e},e.ja=function(){return pe(this),this.a.concat()},e.clear=function(){this.g={},this.j=this.h=this.a.length=0},e.get=function(e,t){return me(this.g,e)?this.g[e]:t},e.set=function(e,t){me(this.g,e)||(this.h++,this.a.push(e),this.j++),this.g[e]=t},e.forEach=function(e,t){for(var n=this.ja(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}},e.ha=function(e){pe(this);var t=0,n=this.j,r=this,i=new ue;return i.next=function(){if(n!=r.j)throw Error("The map has changed since the iterator was created");if(t>=r.a.length)throw le;var i=r.a[t++];return e?i:r.g[i]},i};var ge=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ve(e,t,n,r){for(var i=n.length;0<=(t=e.indexOf(n,t))&&t<r;){var s=e.charCodeAt(t-1);if((38==s||63==s)&&(!(s=e.charCodeAt(t+i))||61==s||38==s||35==s))return t;t+=i+1}return-1}var ye=/#|$/;function be(e,t){var n=e.search(ye),r=ve(e,0,t,n);if(0>r)return null;var i=e.indexOf("&",r);return(0>i||i>n)&&(i=n),r+=t.length+1,decodeURIComponent(e.substr(r,i-r).replace(/\+/g," "))}var we=/[?&]($|#)/;function _e(e,t){var n;this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1,e instanceof _e?(this.i=d(t)?t:e.i,Ie(this,e.j),this.A=e.A,this.h=e.h,Se(this,e.C),this.g=e.g,Ee(this,Fe(e.a)),this.s=e.s):e&&(n=String(e).match(ge))?(this.i=!!t,Ie(this,n[1]||"",!0),this.A=Te(n[2]||""),this.h=Te(n[3]||"",!0),Se(this,n[4]),this.g=Te(n[5]||"",!0),Ee(this,n[6]||"",!0),this.s=Te(n[7]||"")):(this.i=!!t,this.a=new Oe(null,this.i))}function Ie(e,t,n){e.j=n?Te(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Se(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.C=t}else e.C=null}function Ee(e,t,n){t instanceof Oe?(e.a=t,function(e,t){t&&!e.j&&(Le(e),e.h=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Me(this,t),Me(this,n),0<e.length&&(this.h=null,this.a.set(je(this,n),W(e)),this.g+=e.length))}),e)),e.j=t}(e.a,e.i)):(n||(t=Ce(t,Pe)),e.a=new Oe(t,e.i))}function ke(e){return e instanceof _e?new _e(e):new _e(e,void 0)}function Te(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ce(e,t,n){return f(e)?(e=encodeURI(e).replace(t,xe),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function xe(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}_e.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ce(t,Ne,!0),":");var n=this.h;return(n||"file"==t)&&(e.push("//"),(t=this.A)&&e.push(Ce(t,Ne,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.C)&&e.push(":",String(n))),(n=this.g)&&(this.h&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ce(n,"/"==n.charAt(0)?Re:Ae,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.s)&&e.push("#",Ce(n,De)),e.join("")};var Ne=/[#\/\?@]/g,Ae=/[#\?:]/g,Re=/[#\?]/g,Pe=/[#\?@]/g,De=/#/g;function Oe(e,t){this.g=this.a=null,this.h=e||null,this.j=!!t}function Le(e){e.a||(e.a=new fe,e.g=0,e.h&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.h,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Me(e,t){Le(e),t=je(e,t),me(e.a.g,t)&&(e.h=null,e.g-=e.a.get(t).length,me((e=e.a).g,t)&&(delete e.g[t],e.h--,e.j++,e.a.length>2*e.h&&pe(e)))}function Ue(e,t){return Le(e),t=je(e,t),me(e.a.g,t)}function Fe(e){var t=new Oe;return t.h=e.h,e.a&&(t.a=new fe(e.a),t.g=e.g),t}function je(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ve(e){this.a=ke(e)}function Be(e){return e.a.a.get(He.Pa)||null}function ze(e,t){t?e.a.a.set(He.PROVIDER_ID,t):Me(e.a.a,He.PROVIDER_ID)}(e=Oe.prototype).add=function(e,t){Le(this),this.h=null,e=je(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.g+=1,this},e.clear=function(){this.a=this.h=null,this.g=0},e.forEach=function(e,t){Le(this),this.a.forEach((function(n,r){F(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.ja=function(){Le(this);for(var e=this.a.la(),t=this.a.ja(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},e.la=function(e){Le(this);var t=[];if(f(e))Ue(this,e)&&(t=K(t,this.a.get(je(this,e))));else{e=this.a.la();for(var n=0;n<e.length;n++)t=K(t,e[n])}return t},e.set=function(e,t){return Le(this),this.h=null,Ue(this,e=je(this,e))&&(this.g-=this.a.get(e).length),this.a.set(e,[t]),this.g+=1,this},e.get=function(e,t){return e&&0<(e=this.la(e)).length?String(e[0]):t},e.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var e=[],t=this.a.ja(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.la(r);for(var s=0;s<r.length;s++){var a=i;""!==r[s]&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.h=e.join("&")},Ve.prototype.toString=function(){return this.a.toString()};var qe,He={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"};e:{var Ge=h.navigator;if(Ge){var Ke=Ge.userAgent;if(Ke){qe=Ke;break e}}qe=""}function We(e){return-1!=qe.indexOf(e)}function Qe(){return(We("Chrome")||We("CriOS"))&&!We("Edge")}function Ye(e){return Ye[" "](e),e}Ye[" "]=g;var Je,Xe=We("Opera"),$e=We("Trident")||We("MSIE"),Ze=We("Edge"),et=Ze||$e,tt=We("Gecko")&&!(-1!=qe.toLowerCase().indexOf("webkit")&&!We("Edge"))&&!(We("Trident")||We("MSIE"))&&!We("Edge"),nt=-1!=qe.toLowerCase().indexOf("webkit")&&!We("Edge"),rt=nt&&We("Mobile"),it=We("Macintosh");function st(){var e=h.document;return e?e.documentMode:void 0}e:{var at="",ot=function(){var e=qe;return tt?/rv:([^\);]+)(\)|;)/.exec(e):Ze?/Edge\/([\d\.]+)/.exec(e):$e?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):nt?/WebKit\/(\S+)/.exec(e):Xe?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ot&&(at=ot?ot[1]:""),$e){var ct=st();if(null!=ct&&ct>parseFloat(at)){Je=String(ct);break e}}Je=at}var lt,ut={};function ht(e){return function(e,t){var n=ut;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=Y(String(Je)).split("."),r=Y(String(e)).split("."),i=Math.max(n.length,r.length),s=0;0==t&&s<i;s++){var a=n[s]||"",o=r[s]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;t=re(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||re(0==a[2].length,0==o[2].length)||re(a[2],o[2]),a=a[3],o=o[3]}while(0==t)}return 0<=t}))}var dt=h.document;function ft(e,t){this.a=e===mt&&t||"",this.g=pt}lt=dt&&$e?st()||("CSS1Compat"==dt.compatMode?parseInt(Je,10):5):void 0,ft.prototype.ma=!0,ft.prototype.ka=function(){return this.a},ft.prototype.toString=function(){return"Const{"+this.a+"}"};var pt={},mt={};function gt(){this.a="",this.h=yt}function vt(e){return e instanceof gt&&e.constructor===gt&&e.h===yt?e.a:(M("expected object of type TrustedResourceUrl, got '"+e+"' of type "+y(e)),"type_error:TrustedResourceUrl")}gt.prototype.ma=!0,gt.prototype.ka=function(){return this.a.toString()},gt.prototype.g=function(){return 1},gt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var yt={};function bt(){this.a="",this.h=Et}function wt(e){return e instanceof bt&&e.constructor===bt&&e.h===Et?e.a:(M("expected object of type SafeUrl, got '"+e+"' of type "+y(e)),"type_error:SafeUrl")}bt.prototype.ma=!0,bt.prototype.ka=function(){return this.a.toString()},bt.prototype.g=function(){return 1},bt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var _t=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function It(e){return e instanceof bt?e:(e="object"==typeof e&&e.ma?e.ka():String(e),_t.test(e)||(e="about:invalid#zClosurez"),kt(e))}function St(e){return e instanceof bt?e:(e="object"==typeof e&&e.ma?e.ka():String(e),_t.test(e)||(e="about:invalid#zClosurez"),kt(e))}var Et={};function kt(e){var t=new bt;return t.a=e,t}function Tt(){this.a="",this.g=Ct}kt("about:blank"),Tt.prototype.ma=!0;var Ct={};function xt(){this.a="",this.j=At,this.h=null}function Nt(e){return e instanceof xt&&e.constructor===xt&&e.j===At?e.a:(M("expected object of type SafeHtml, got '"+e+"' of type "+y(e)),"type_error:SafeHtml")}Tt.prototype.ka=function(){return this.a},Tt.prototype.toString=function(){return"SafeStyle{"+this.a+"}"},xt.prototype.g=function(){return this.h},xt.prototype.ma=!0,xt.prototype.ka=function(){return this.a.toString()},xt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var At={};function Rt(e,t){var n=new xt;return n.a=e,n.h=t,n}Rt("<!DOCTYPE html>",0);var Pt=Rt("",0);Rt("<br>",0);var Dt=function(e){var t,n=!1;return function(){return n||(t=function(){if("undefined"===typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!!e.firstChild&&(t=e.firstChild.firstChild,e.innerHTML=Nt(Pt),!t.parentElement)}(),n=!0),t}}();function Ot(e,t){t=t instanceof bt?t:St(t),e.assign(wt(t))}function Lt(e,t){this.a=d(e)?e:0,this.g=d(t)?t:0}function Mt(e,t){this.width=e,this.height=t}function Ut(e){return e?new Wt(Ht(e)):A||(A=new Wt)}function Ft(e,t){var n=t||document;return n.querySelectorAll&&n.querySelector?n.querySelectorAll("."+e):Vt(document,e,t)}function jt(e,t){var n=t||document;if(n.getElementsByClassName)e=n.getElementsByClassName(e)[0];else{n=document;var r=t||n;e=r.querySelectorAll&&r.querySelector&&e?r.querySelector(e?"."+e:""):Vt(n,e,t)[0]||null}return e||null}function Vt(e,t,n){var r;if((e=n||e).querySelectorAll&&e.querySelector&&t)return e.querySelectorAll(t?"."+t:"");if(t&&e.getElementsByClassName){var i=e.getElementsByClassName(t);return i}if(i=e.getElementsByTagName("*"),t){var s={};for(n=r=0;e=i[n];n++){var a=e.className;"function"==typeof a.split&&z(a.split(/\s+/),t)&&(s[r++]=e)}return s.length=r,s}return i}Lt.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Lt.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Lt.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Lt.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this},(e=Mt.prototype).toString=function(){return"("+this.width+" x "+this.height+")"},e.aspectRatio=function(){return this.width/this.height},e.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},e.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},e.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var Bt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function zt(e){return e.scrollingElement?e.scrollingElement:(nt||"CSS1Compat"!=e.compatMode)&&e.body||e.documentElement}function qt(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Ht(e){return 9==e.nodeType?e:e.ownerDocument||e.document}function Gt(e,t){if("textContent"in e)e.textContent=t;else if(3==e.nodeType)e.data=String(t);else if(e.firstChild&&3==e.firstChild.nodeType){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=String(t)}else{for(var n;n=e.firstChild;)e.removeChild(n);e.appendChild(Ht(e).createTextNode(String(t)))}}function Kt(e,t){return t?function(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}(e,(function(e){return!t||f(e.className)&&z(e.className.split(/\s+/),t)})):null}function Wt(e){this.a=e||h.document||document}Wt.prototype.N=function(){return f(void 0)?this.a.getElementById(void 0):void 0};var Qt={Fc:!0},Yt={Hc:!0},Jt={Ec:!0},Xt={Gc:!0};function $t(){throw Error("Do not instantiate directly")}function Zt(e,t,n,r){if(e=e(t||tn,void 0,n),r=(r||Ut()).a.createElement("DIV"),(e=function(e){if(!I(e))return ie(String(e));if(e instanceof $t){if(e.fa===Qt)return e.content;if(e.fa===Xt)return ie(e.content)}return M("Soy template output is unsafe for use as HTML: "+e),"zSoyz"}(e)).match(en),e=Rt(e,null),Dt())for(;r.lastChild;)r.removeChild(r.lastChild);return r.innerHTML=Nt(e),1==r.childNodes.length&&(1==(e=r.firstChild).nodeType&&(r=e)),r}$t.prototype.va=null,$t.prototype.toString=function(){return this.content};var en=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,tn={};function nn(){$t.call(this)}function rn(e){return null!=e&&e.fa===Qt?e:e instanceof xt?cn(Nt(e).toString(),e.g()):cn(ie(String(String(e))),function(e){if(null!=e)switch(e.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}(e))}function sn(){$t.call(this)}function an(e,t){this.content=String(e),this.va=null!=t?t:null}function on(e){return new an(e,void 0)}D(nn,$t),nn.prototype.fa=Qt,D(sn,$t),sn.prototype.fa=Yt,sn.prototype.va=1,D(an,$t),an.prototype.fa=Xt;var cn=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,n){return e=new t(String(e)),void 0!==n&&(e.va=n),e}}(nn),ln=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e){return new t(String(e))}}(sn);function un(e){return(e=String(e))?new an(e,void 0):""}var hn=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,n){return(e=String(e))?(e=new t(e),void 0!==n&&(e.va=n),e):""}}(nn);function dn(e){return null!=e&&e.fa===Qt?String(String(e.content).replace(Sn,"").replace(En,"&lt;")).replace(bn,gn):ie(String(e))}function fn(e){return null!=e&&e.fa===Yt?e=String(e).replace(wn,yn):e instanceof bt?e=String(wt(e).toString()).replace(wn,yn):(e=String(e),In.test(e)?e=e.replace(wn,yn):(M("Bad value `%s` for |filterNormalizeUri",[e]),e="#zSoyz")),e}function pn(e){return null!=e&&e.fa===Jt?e=e.content:null==e?e="":e instanceof Tt?e instanceof Tt&&e.constructor===Tt&&e.g===Ct?e=e.a:(M("expected object of type SafeStyle, got '"+e+"' of type "+y(e)),e="type_error:SafeStyle"):(e=String(e),_n.test(e)||(M("Bad value `%s` for |filterCssValue",[e]),e="zSoyz")),e}var mn={"\0":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","\x85":"&#133;","\xa0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function gn(e){return mn[e]}var vn={"\0":"%00","\x01":"%01","\x02":"%02","\x03":"%03","\x04":"%04","\x05":"%05","\x06":"%06","\x07":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","\x0e":"%0E","\x0f":"%0F","\x10":"%10","\x11":"%11","\x12":"%12","\x13":"%13","\x14":"%14","\x15":"%15","\x16":"%16","\x17":"%17","\x18":"%18","\x19":"%19","\x1a":"%1A","\x1b":"%1B","\x1c":"%1C","\x1d":"%1D","\x1e":"%1E","\x1f":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\x7f":"%7F","\x85":"%C2%85","\xa0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uff01":"%EF%BC%81","\uff03":"%EF%BC%83","\uff04":"%EF%BC%84","\uff06":"%EF%BC%86","\uff07":"%EF%BC%87","\uff08":"%EF%BC%88","\uff09":"%EF%BC%89","\uff0a":"%EF%BC%8A","\uff0b":"%EF%BC%8B","\uff0c":"%EF%BC%8C","\uff0f":"%EF%BC%8F","\uff1a":"%EF%BC%9A","\uff1b":"%EF%BC%9B","\uff1d":"%EF%BC%9D","\uff1f":"%EF%BC%9F","\uff20":"%EF%BC%A0","\uff3b":"%EF%BC%BB","\uff3d":"%EF%BC%BD"};function yn(e){return vn[e]}var bn=/[\x00\x22\x27\x3c\x3e]/g,wn=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,_n=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,In=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,Sn=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,En=/</g;function kn(){return on("Enter a valid phone number")}function Tn(){return on("Unable to send password reset code to specified email")}function Cn(){return on("Something went wrong. Please try again.")}function xn(){return on("This email already exists without any means of sign-in. Please reset the password to recover.")}function Nn(e){var t="";switch((e=e||{}).code){case"invalid-argument":t+="Client specified an invalid argument.";break;case"invalid-configuration":t+="Client specified an invalid project configuration.";break;case"failed-precondition":t+="Request can not be executed in the current system state.";break;case"out-of-range":t+="Client specified an invalid range.";break;case"unauthenticated":t+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":t+="Client does not have sufficient permission.";break;case"not-found":t+="Specified resource is not found.";break;case"aborted":t+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":t+="The resource that a client tried to create already exists.";break;case"resource-exhausted":t+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":t+="Request cancelled by the client.";break;case"data-loss":t+="Unrecoverable data loss or data corruption.";break;case"unknown":t+="Unknown server error.";break;case"internal":t+="Internal server error.";break;case"not-implemented":t+="API method not implemented by the server.";break;case"unavailable":t+="Service unavailable.";break;case"deadline-exceeded":t+="Request deadline exceeded.";break;case"auth/user-disabled":t+="The user account has been disabled by an administrator.";break;case"auth/timeout":t+="The operation has timed out.";break;case"auth/too-many-requests":t+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":t+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":t+="A network error has occurred. Try again later.";break;case"restart-process":t+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":t+="No sign-in provider is available for the given email, please try with a different email."}return on(t)}function An(){return on("Please login again to perform this operation")}function Rn(e,t,n){var r=Error.call(this);if(this.message=r.message,"stack"in r&&(this.stack=r.stack),this.code=Pn+e,!(e=t)){if(e="","firebaseui/merge-conflict"===this.code)e+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";else e+=Cn();e=on(e).toString()}this.message=e||"",this.credential=n||null}o(Rn,Error),Rn.prototype.toJSON=function(){return{code:this.code,message:this.message}};var Pn="firebaseui/";function Dn(){0!=On&&(Ln[this[S]||(this[S]=++E)]=this),this.T=this.T,this.C=this.C}var On=0,Ln={};function Mn(e,t){e.T?d(void 0)?t.call(void 0):t():(e.C||(e.C=[]),e.C.push(d(void 0)?C(t,void 0):t))}function Un(e){e&&"function"==typeof e.m&&e.m()}Dn.prototype.T=!1,Dn.prototype.m=function(){if(!this.T&&(this.T=!0,this.o(),0!=On)){var e=this[S]||(this[S]=++E);if(0!=On&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ln[e]}},Dn.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};var Fn=Object.freeze||function(e){return e},jn=!$e||9<=Number(lt),Vn=$e&&!ht("9"),Bn=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{h.addEventListener("test",g,t),h.removeEventListener("test",g,t)}catch(n){}return e}();function zn(e,t){this.type=e,this.g=this.target=t,this.h=!1,this.qb=!0}function qn(e,t){if(zn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(tt){e:{try{Ye(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.key=e.key||"",this.j=e.charCode||("keypress"==n?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=f(e.pointerType)?e.pointerType:Hn[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}zn.prototype.stopPropagation=function(){this.h=!0},zn.prototype.preventDefault=function(){this.qb=!1},D(qn,zn);var Hn=Fn({2:"touch",3:"pen",4:"mouse"});qn.prototype.stopPropagation=function(){qn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},qn.prototype.preventDefault=function(){qn.K.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Vn)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(Rh){}};var Gn="closure_listenable_"+(1e6*Math.random()|0),Kn=0;function Wn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.La=i,this.key=++Kn,this.sa=this.Ia=!1}function Qn(e){e.sa=!0,e.listener=null,e.proxy=null,e.src=null,e.La=null}function Yn(e){this.src=e,this.a={},this.g=0}function Jn(e,t){var n=t.type;n in e.a&&q(e.a[n],t)&&(Qn(t),0==e.a[n].length&&(delete e.a[n],e.g--))}function Xn(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.sa&&s.listener==t&&s.capture==!!n&&s.La==r)return i}return-1}Yn.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.a[s])||(e=this.a[s]=[],this.g++);var a=Xn(e,t,r,i);return-1<a?(t=e[a],n||(t.Ia=!1)):((t=new Wn(t,this.src,s,!!r,i)).Ia=n,e.push(t)),t};var $n="closure_lm_"+(1e6*Math.random()|0),Zn={};function er(e,t,n,r,i){if(r&&r.once)return nr(e,t,n,r,i);if(b(t)){for(var s=0;s<t.length;s++)er(e,t[s],n,r,i);return null}return n=hr(n),e&&e[Gn]?e.J.add(String(t),n,!1,I(r)?!!r.capture:!!r,i):tr(e,t,n,!1,r,i)}function tr(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=I(i)?!!i.capture:!!i,o=lr(e);if(o||(e[$n]=o=new Yn(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){var e=cr,t=jn?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Bn||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(sr(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function nr(e,t,n,r,i){if(b(t)){for(var s=0;s<t.length;s++)nr(e,t[s],n,r,i);return null}return n=hr(n),e&&e[Gn]?e.J.add(String(t),n,!0,I(r)?!!r.capture:!!r,i):tr(e,t,n,!0,r,i)}function rr(e,t,n,r,i){if(b(t))for(var s=0;s<t.length;s++)rr(e,t[s],n,r,i);else r=I(r)?!!r.capture:!!r,n=hr(n),e&&e[Gn]?(e=e.J,(t=String(t).toString())in e.a&&(-1<(n=Xn(s=e.a[t],n,r,i))&&(Qn(s[n]),H(s,n),0==s.length&&(delete e.a[t],e.g--)))):e&&(e=lr(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Xn(t,n,r,i)),(n=-1<e?t[e]:null)&&ir(n))}function ir(e){if("number"!=typeof e&&e&&!e.sa){var t=e.src;if(t&&t[Gn])Jn(t.J,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(sr(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=lr(t))?(Jn(n,e),0==n.g&&(n.src=null,t[$n]=null)):Qn(e)}}}function sr(e){return e in Zn?Zn[e]:Zn[e]="on"+e}function ar(e,t,n,r){var i=!0;if((e=lr(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var s=t[e];s&&s.capture==n&&!s.sa&&(s=or(s,r),i=i&&!1!==s)}return i}function or(e,t){var n=e.listener,r=e.La||e.src;return e.Ia&&ir(e),n.call(r,t)}function cr(e,t){if(e.sa)return!0;if(!jn){if(!t)e:{t=["window","event"];for(var n=h,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new qn(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.g;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;!t.h&&0<=i;i--){t.g=r[i];var s=ar(r[i],e,!0,t);n=n&&s}for(i=0;!t.h&&i<r.length;i++)t.g=r[i],s=ar(r[i],e,!1,t),n=n&&s}return n}return or(e,new qn(t,this))}function lr(e){return(e=e[$n])instanceof Yn?e:null}var ur="__closure_events_fn_"+(1e9*Math.random()>>>0);function hr(e){return _(e)?e:(e[ur]||(e[ur]=function(t){return e.handleEvent(t)}),e[ur])}function dr(){Dn.call(this),this.J=new Yn(this),this.wb=this,this.Ha=null}function fr(e,t){var n,r=e.Ha;if(r)for(n=[];r;r=r.Ha)n.push(r);if(e=e.wb,r=t.type||t,f(t))t=new zn(t,e);else if(t instanceof zn)t.target=t.target||e;else{var i=t;ce(t=new zn(r,e),i)}if(i=!0,n)for(var s=n.length-1;!t.h&&0<=s;s--){var a=t.g=n[s];i=pr(a,r,!0,t)&&i}if(t.h||(i=pr(a=t.g=e,r,!0,t)&&i,t.h||(i=pr(a,r,!1,t)&&i)),n)for(s=0;!t.h&&s<n.length;s++)i=pr(a=t.g=n[s],r,!1,t)&&i;return i}function pr(e,t,n,r){if(!(t=e.J.a[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.sa&&a.capture==n){var o=a.listener,c=a.La||a.src;a.Ia&&Jn(e.J,a),i=!1!==o.call(c,r)&&i}}return i&&0!=r.qb}D(dr,Dn),dr.prototype[Gn]=!0,dr.prototype.Za=function(e){this.Ha=e},dr.prototype.removeEventListener=function(e,t,n,r){rr(this,e,t,n,r)},dr.prototype.o=function(){if(dr.K.o.call(this),this.J){var e,t=this.J;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)Qn(n[r]);delete t.a[e],t.g--}}this.Ha=null};var mr={},gr=0;function vr(e,t){if(!e)throw Error("Event target element must be provided!");if(e=br(e),mr[e]&&mr[e].length)for(var n=0;n<mr[e].length;n++)fr(mr[e][n],t)}function yr(e){var t=br(e.N());mr[t]&&mr[t].length&&(function(e,t){e:{for(var n=e.length,r=f(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}0<=t&&H(e,t)}(mr[t],(function(t){return t==e})),mr[t].length||delete mr[t])}function br(e){return"undefined"===typeof e.a&&(e.a=gr,gr++),e.a}function wr(e){if(!e)throw Error("Event target element must be provided!");dr.call(this),this.a=e}function _r(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(Rh){return!1}}function Ir(e,t){this.h=e,this.j=t,this.g=0,this.a=null}function Sr(e,t){e.j(t),100>e.g&&(e.g++,t.next=e.a,e.a=t)}function Er(){this.g=this.a=null}o(wr,dr),wr.prototype.N=function(){return this.a},wr.prototype.register=function(){var e=br(this.N());mr[e]?z(mr[e],this)||mr[e].push(this):mr[e]=[this]},Ir.prototype.get=function(){if(0<this.g){this.g--;var e=this.a;this.a=e.next,e.next=null}else e=this.h();return e};var kr,Tr,Cr=new Ir((function(){return new Nr}),(function(e){e.reset()}));function xr(){var e=Dr,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.g=null),t.next=null),t}function Nr(){this.next=this.g=this.a=null}function Ar(e){h.setTimeout((function(){throw e}),0)}function Rr(e,t){Tr||function(){if(h.Promise&&h.Promise.resolve){var e=h.Promise.resolve(void 0);Tr=function(){e.then(Or)}}else Tr=function(){var e=Or;!_(h.setImmediate)||h.Window&&h.Window.prototype&&!We("Edge")&&h.Window.prototype.setImmediate==h.setImmediate?(kr||(kr=function(){var e=h.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!We("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(""),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=C((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!We("Trident")&&!We("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(d(n.next)){var e=(n=n.next).gb;n.gb=null,e()}},function(e){r.next={gb:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){h.setTimeout(e,0)}}()),kr(e)):h.setImmediate(e)}}(),Pr||(Tr(),Pr=!0),Dr.add(e,t)}Er.prototype.add=function(e,t){var n=Cr.get();n.set(e,t),this.g?this.g.next=n:this.a=n,this.g=n},Nr.prototype.set=function(e,t){this.a=e,this.g=t,this.next=null},Nr.prototype.reset=function(){this.next=this.g=this.a=null};var Pr=!1,Dr=new Er;function Or(){for(var e;e=xr();){try{e.a.call(e.g)}catch(Rh){Ar(Rh)}Sr(Cr,e)}Pr=!1}function Lr(e){if(this.a=Mr,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,e!=g)try{var t=this;e.call(void 0,(function(e){Wr(t,Ur,e)}),(function(e){if(!(e instanceof Zr))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(n){}Wr(t,Fr,e)}))}catch(n){Wr(this,Fr,n)}}var Mr=0,Ur=2,Fr=3;function jr(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}jr.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var Vr=new Ir((function(){return new jr}),(function(e){e.reset()}));function Br(e,t,n){var r=Vr.get();return r.s=e,r.g=t,r.j=n,r}function zr(e){if(e instanceof Lr)return e;var t=new Lr(g);return Wr(t,Ur,e),t}function qr(e){return new Lr((function(t,n){n(e)}))}function Hr(e,t){if(e.a==Mr)if(e.h){var n=e.h;if(n.g){for(var r=0,i=null,s=null,a=n.g;a&&(a.h||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(s=a);i&&(n.a==Mr&&1==r?Hr(n,t):(s?((r=s).next==n.j&&(n.j=r),r.next=r.next.next):Yr(n),Jr(n,i,Fr,t)))}e.h=null}else Wr(e,Fr,t)}function Gr(e,t){e.g||e.a!=Ur&&e.a!=Fr||Qr(e),e.j?e.j.next=t:e.g=t,e.j=t}function Kr(e,t,n,r){var i=Br(null,null,null);return i.a=new Lr((function(e,s){i.s=t?function(n){try{var i=t.call(r,n);e(i)}catch(mo){s(mo)}}:e,i.g=n?function(t){try{var i=n.call(r,t);!d(i)&&t instanceof Zr?s(t):e(i)}catch(mo){s(mo)}}:s})),i.a.h=e,Gr(e,i),i.a}function Wr(e,t,n){if(e.a==Mr){e===n&&(t=Fr,n=new TypeError("Promise cannot resolve to itself")),e.a=1;e:{var r=n,i=e.hc,s=e.ic;if(r instanceof Lr){Gr(r,Br(i||g,s||null,e));var a=!0}else if(_r(r))r.then(i,s,e),a=!0;else{if(I(r))try{var o=r.then;if(_(o)){!function(e,t,n,r,i){function s(e){o||(o=!0,r.call(i,e))}function a(e){o||(o=!0,n.call(i,e))}var o=!1;try{t.call(e,a,s)}catch(io){s(io)}}(r,o,i,s,e),a=!0;break e}}catch(io){s.call(e,io),a=!0;break e}a=!1}}a||(e.A=n,e.a=t,e.h=null,Qr(e),t!=Fr||n instanceof Zr||function(e,t){e.s=!0,Rr((function(){e.s&&$r.call(null,t)}))}(e,n))}}function Qr(e){e.i||(e.i=!0,Rr(e.Hb,e))}function Yr(e){var t=null;return e.g&&(t=e.g,e.g=t.next,t.next=null),e.g||(e.j=null),t}function Jr(e,t,n,r){if(n==Fr&&t.g&&!t.h)for(;e&&e.s;e=e.h)e.s=!1;if(t.a)t.a.h=null,Xr(t,n,r);else try{t.h?t.s.call(t.j):Xr(t,n,r)}catch(i){$r.call(null,i)}Sr(Vr,t)}function Xr(e,t,n){t==Ur?e.s.call(e.j,n):e.g&&e.g.call(e.j,n)}Lr.prototype.then=function(e,t,n){return Kr(this,_(e)?e:null,_(t)?t:null,n)},Lr.prototype.$goog_Thenable=!0,(e=Lr.prototype).fc=function(e,t){return(e=Br(e,e,t)).h=!0,Gr(this,e),this},e.Ca=function(e,t){return Kr(this,null,e,t)},e.cancel=function(e){this.a==Mr&&Rr((function(){Hr(this,new Zr(e))}),this)},e.hc=function(e){this.a=Mr,Wr(this,Ur,e)},e.ic=function(e){this.a=Mr,Wr(this,Fr,e)},e.Hb=function(){for(var e;e=Yr(this);)Jr(this,e,this.a,this.A);this.i=!1};var $r=Ar;function Zr(e){O.call(this,e)}function ei(e,t,n){t||(t={}),n=n||window;var r=e instanceof bt?e:It("undefined"!=typeof e.href?e.href:String(e));e=t.target||e.target;var i=[];for(s in t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");return(We("iPhone")&&!We("iPod")&&!We("iPad")||We("iPad")||We("iPod"))&&n.navigator&&n.navigator.standalone&&e&&"_self"!=e?(s=n.document.createElement("A"),r=r instanceof bt?r:St(r),s.href=wt(r),s.setAttribute("target",e),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,n,1),s.dispatchEvent(t),n={}):t.noreferrer?(n=n.open("",e,s),t=wt(r).toString(),n&&(et&&-1!=t.indexOf(";")&&(t="'"+t.replace(/'/g,"%27")+"'"),n.opener=null,t=Rt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ie(t)+'">',null),n.document.write(Nt(t)),n.document.close())):(n=n.open(wt(r).toString(),e,s))&&t.noopener&&(n.opener=null),n}function ti(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch(e){}return!1}function ni(e){ei(e,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function ri(e,t){if(null==(e=I(e)&&1==e.nodeType?e:document.querySelector(String(e))))throw Error(t||"Cannot find element.");return e}function ii(){return window.location.href}function si(e){var t=gi;this.s=[],this.T=t,this.O=e||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}function ai(e,t,n){e.a=!0,e.h=n,e.j=!t,ui(e)}function oi(e){if(e.a){if(!e.J)throw new hi(e);e.J=!1}}function ci(e,t,n){e.s.push([t,n,void 0]),e.a&&ui(e)}function li(e){return B(e.s,(function(e){return _(e[1])}))}function ui(e){if(e.i&&e.a&&li(e)){var t=e.i,n=pi[t];n&&(h.clearTimeout(n.a),delete pi[t]),e.i=0}e.g&&(e.g.C--,delete e.g),t=e.h;for(var r=n=!1;e.s.length&&!e.A;){var i=e.s.shift(),s=i[0],a=i[1];if(i=i[2],s=e.j?a:s)try{var o=s.call(i||e.O,t);d(o)&&(e.j=e.j&&(o==t||o instanceof Error),e.h=t=o),(_r(t)||"function"===typeof h.Promise&&t instanceof h.Promise)&&(r=!0,e.A=!0)}catch(io){t=io,e.j=!0,li(e)||(n=!0)}}e.h=t,r&&(o=C(e.L,e,!0),r=C(e.L,e,!1),t instanceof si?(ci(t,o,r),t.l=!0):t.then(o,r)),n&&(t=new fi(t),pi[t.a]=t,e.i=t.a)}function hi(){O.call(this)}function di(){O.call(this)}function fi(e){this.a=h.setTimeout(C(this.h,this),0),this.g=e}D(Zr,O),Zr.prototype.name="cancel",si.prototype.cancel=function(e){if(this.a)this.h instanceof si&&this.h.cancel();else{if(this.g){var t=this.g;delete this.g,e?t.cancel(e):(t.C--,0>=t.C&&t.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(e=new di(this),oi(this),ai(this,!1,e))}},si.prototype.L=function(e,t){this.A=!1,ai(this,e,t)},si.prototype.callback=function(e){oi(this),ai(this,!0,e)},si.prototype.then=function(e,t,n){var r,i,s=new Lr((function(e,t){r=e,i=t}));return ci(this,r,(function(e){e instanceof di?s.cancel():i(e)})),s.then(e,t,n)},si.prototype.$goog_Thenable=!0,D(hi,O),hi.prototype.message="Deferred has already fired",hi.prototype.name="AlreadyCalledError",D(di,O),di.prototype.message="Deferred was canceled",di.prototype.name="CanceledError",fi.prototype.h=function(){throw delete pi[this.a],this.g};var pi={};function mi(e){var t={},n=t.document||document,r=vt(e).toString(),i=document.createElement("SCRIPT"),s={rb:i,sb:void 0},a=new si(s),o=null,c=null!=t.timeout?t.timeout:5e3;return 0<c&&(o=window.setTimeout((function(){vi(i,!0);var e=new wi(bi,"Timeout reached for loading script "+r);oi(a),ai(a,!1,e)}),c),s.sb=o),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(vi(i,t.xc||!1,o),a.callback(null))},i.onerror=function(){vi(i,!0,o);var e=new wi(yi,"Error while loading script "+r);oi(a),ai(a,!1,e)},ce(s=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),function(e,t){se(t,(function(t,n){t&&"object"==typeof t&&t.ma&&(t=t.ka()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Bt.hasOwnProperty(n)?e.setAttribute(Bt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}(i,s),function(e,t){e.src=vt(t),null===m&&(m=(t=(t=h.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&p.test(t)?t:""),(t=m)&&e.setAttribute("nonce",t)}(i,e),function(e){var t=(e||document).getElementsByTagName("HEAD");return t&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function gi(){if(this&&this.rb){var e=this.rb;e&&"SCRIPT"==e.tagName&&vi(e,!0,this.sb)}}function vi(e,t,n){null!=n&&h.clearTimeout(n),e.onload=g,e.onerror=g,e.onreadystatechange=g,t&&window.setTimeout((function(){qt(e)}),0)}var yi=0,bi=1;function wi(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),O.call(this,n),this.code=e}function _i(){return h.google&&h.google.accounts&&h.google.accounts.id||null}function Ii(e){this.a=e||_i(),this.h=!1,this.g=null}function Si(e,t,n){return e.a&&t?(e.h=!0,new Lr((function(r){e.g=r,e.a.initialize({client_id:t,callback:r,auto_select:!n}),e.a.prompt()}))):zr(t?ki.Xa().load().then((function(){return e.a=_i(),Si(e,t,n)})).Ca((function(){return null})):null)}D(wi,O),Ii.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())},v(Ii);var Ei=new ft(mt,"https://accounts.google.com/gsi/client");function ki(){this.a=null}function Ti(e,t){this.a=e,this.g=t||function(e){throw e}}function Ci(e,t,n){this.reset(e,t,n,void 0,void 0)}ki.prototype.load=function(){var e=this;if(this.a)return this.a;var t=function(){var e=Ei;e instanceof ft&&e.constructor===ft&&e.g===pt?e=e.a:(M("expected object of type Const, got '"+e+"'"),e="type_error:Const");var t=new gt;return t.a=e,t}();return _i()?zr():this.a=function(){var e=null;return new Lr((function(t){"complete"==h.document.readyState?t():(e=function(){t()},nr(window,"load",e))})).Ca((function(t){throw rr(window,"load",e),t}))}().then((function(){if(!_i())return new Lr((function(n,r){var i=setTimeout((function(){e.a=null,r(Error("Network error!"))}),1e4);h.onGoogleLibraryLoad=function(){clearTimeout(i),n()},zr(mi(t)).then((function(){_i()&&n()})).Ca((function(t){clearTimeout(i),e.a=null,r(t)}))}))}))},v(ki),Ti.prototype.confirm=function(e){return zr(this.a.confirm(e)).Ca(this.g)},Ci.prototype.a=null;function xi(e){this.s=e,this.a=this.h=this.j=this.g=null}function Ni(e,t){this.name=e,this.value=t}Ci.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,this.h=r||R(),this.j=e,this.s=t,this.g=n,delete this.a},Ni.prototype.toString=function(){return this.name};var Ai=new Ni("SEVERE",1e3),Ri=new Ni("WARNING",900),Pi=new Ni("CONFIG",700);function Di(e){return e.j?e.j:e.g?Di(e.g):(M("Root logger has no level set."),null)}xi.prototype.log=function(e,t,n){if(e.value>=Di(this).value)for(_(t)&&(t=t()),e=new Ci(e,String(t),this.s),n&&(e.a=n),n=this;n;){var r=n,i=e;if(r.a)for(var s=0;t=r.a[s];s++)t(i);n=n.g}};var Oi={},Li=null;function Mi(){Li||(Li=new xi(""),Oi[""]=Li,Li.j=Pi)}function Ui(){this.a=R()}var Fi=null;function ji(e){this.j=e||"",Fi||(Fi=new Ui),this.s=Fi}function Vi(e){return 10>e?"0"+e:String(e)}function Bi(e){ji.call(this,e)}function zi(){this.s=C(this.h,this),this.a=new Bi,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}Ui.prototype.set=function(e){this.a=e},Ui.prototype.reset=function(){this.set(R())},Ui.prototype.get=function(){return this.a},ji.prototype.a=!0,ji.prototype.g=!0,ji.prototype.h=!1,D(Bi,ji),zi.prototype.h=function(e){if(!this.j[e.g]){var t=function(e,t){var n=[];if(n.push(e.j," "),e.g){var r=new Date(t.h);n.push("[",Vi(r.getFullYear()-2e3)+Vi(r.getMonth()+1)+Vi(r.getDate())+" "+Vi(r.getHours())+":"+Vi(r.getMinutes())+":"+Vi(r.getSeconds())+"."+Vi(Math.floor(r.getMilliseconds()/10)),"] ")}return n.push("[",function(e,t){t=(e=(e.h-t)/1e3).toFixed(3);var n=0;if(1>e)n=2;else for(;100>e;)n++,e*=10;for(;0<n--;)t=" "+t;return t}(t,e.s.get()),"s] "),n.push("[",t.g,"] "),n.push(t.s),e.h&&(t=t.a)&&n.push("\n",t instanceof Error?t.message:t.toString()),e.a&&n.push("\n"),n.join("")}(this.a,e);if(Hi)!function(e,t,n,r){e[t]?e[t](n,r||""):e.log(n,r||"")}(Hi,function(e){if(e){if(e.value>=Ai.value)return"error";if(e.value>=Ri.value)return"warn";if(e.value>=Pi.value)return"log"}return"debug"}(e.j),t,e.a)}};var qi,Hi=h.console;function Gi(e,t){qi&&qi.log(Ai,e,t)}qi=function e(t){var n;if(Mi(),!(n=Oi[t])){n=new xi(t);var r=t.lastIndexOf("."),i=t.substr(r+1);(r=e(t.substr(0,r))).h||(r.h={}),r.h[i]=n,n.g=r,Oi[t]=n}return n}("firebaseui");var Ki=new zi;if(1!=Ki.g){var Wi;Mi(),Wi=Li;var Qi=Ki.s;Wi.a||(Wi.a=[]),Wi.a.push(Qi),Ki.g=!0}function Yi(e){qi&&qi.log(Ri,e,void 0)}function Ji(){this.a=("undefined"==typeof document?null:document)||{cookie:""}}function Xi(e){e=(e.a.cookie||"").split(";");for(var t,n,r=[],i=[],s=0;s<e.length;s++)-1==(t=(n=Y(e[s])).indexOf("="))?(r.push(""),i.push(n)):(r.push(n.substring(0,t)),i.push(n.substring(t+1)));return{keys:r,values:i}}(e=Ji.prototype).set=function(e,t,n,r,i,s){if(/[;=\s]/.test(e))throw Error('Invalid cookie name "'+e+'"');if(/[;\r\n]/.test(t))throw Error('Invalid cookie value "'+t+'"');d(n)||(n=-1),i=i?";domain="+i:"",r=r?";path="+r:"",s=s?";secure":"",n=0>n?"":0==n?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(R()+1e3*n).toUTCString(),this.a.cookie=e+"="+t+i+r+n+s},e.get=function(e,t){for(var n,r=e+"=",i=(this.a.cookie||"").split(";"),s=0;s<i.length;s++){if(0==(n=Y(i[s])).lastIndexOf(r,0))return n.substr(r.length);if(n==e)return""}return t},e.ja=function(){return Xi(this).keys},e.la=function(){return Xi(this).values},e.clear=function(){for(var e=Xi(this).keys,t=e.length-1;0<=t;t--){var n=e[t];this.get(n),this.set(n,"",0,void 0,void 0)}};var $i=new Ji;function Zi(){}function es(e,t,n,r){this.h="undefined"!==typeof e&&null!==e?e:-1,this.g=t||null,this.a=n||null,this.j=!!r}function ts(e,t){this.g=e,this.a=t||null}function ns(e){return{email:e.g,credential:e.a&&e.a.toJSON()}}function rs(e){if(e&&e.email){var t=e.credential&&Vk.auth.AuthCredential.fromJSON(e.credential);return new ts(e.email,t)}return null}function is(e){this.a=e||null}function ss(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);255<i&&(t[n++]=255&i,i>>=8),t[n++]=i}return t}function as(e){return V(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}function os(e){for(this.i=e,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(cs*(this.j+1)),e=0;e<this.g;e++)this.a[e]=[this.i[4*e],this.i[4*e+1],this.i[4*e+2],this.i[4*e+3]];var t=Array(4);for(e=this.g;e<cs*(this.j+1);e++){if(t[0]=this.a[e-1][0],t[1]=this.a[e-1][1],t[2]=this.a[e-1][2],t[3]=this.a[e-1][3],0==e%this.g){var n=t,r=n[0];n[0]=n[1],n[1]=n[2],n[2]=n[3],n[3]=r,ms(t),t[0]^=ys[e/this.g][0],t[1]^=ys[e/this.g][1],t[2]^=ys[e/this.g][2],t[3]^=ys[e/this.g][3]}else 6<this.g&&4==e%this.g&&ms(t);this.a[e]=Array(4),this.a[e][0]=this.a[e-this.g][0]^t[0],this.a[e][1]=this.a[e-this.g][1]^t[1],this.a[e][2]=this.a[e-this.g][2]^t[2],this.a[e][3]=this.a[e-this.g][3]^t[3]}}o(es,Zi),es.prototype.set=function(e,t){$i.set(e,t,this.h,this.g,this.a,this.j)},es.prototype.get=function(e){return $i.get(e)||null},es.prototype.ra=function(e){var t=this.g,n=this.a;$i.get(e),$i.set(e,"",0,t,n)},os.prototype.A=16;var cs=os.prototype.A/4;function ls(e,t){for(var n,r=0;r<cs;r++)for(var i=0;4>i;i++)n=t[n=4*i+r],e.h[r][i]=n}function us(e){for(var t=[],n=0;n<cs;n++)for(var r=0;4>r;r++)t[4*r+n]=e.h[n][r];return t}function hs(e,t){for(var n=0;4>n;n++)for(var r=0;4>r;r++)e.h[n][r]^=e.a[4*t+r][n]}function ds(e,t){for(var n=0;4>n;n++)for(var r=0;4>r;r++)e.h[n][r]=t[e.h[n][r]]}function fs(e){for(var t=1;4>t;t++)for(var n=0;4>n;n++)e.s[t][n]=e.h[t][n];for(t=1;4>t;t++)for(n=0;4>n;n++)e.h[t][n]=e.s[t][(n+t)%cs]}function ps(e){for(var t=1;4>t;t++)for(var n=0;4>n;n++)e.s[t][(n+t)%cs]=e.h[t][n];for(t=1;4>t;t++)for(n=0;4>n;n++)e.h[t][n]=e.s[t][n]}function ms(e){e[0]=gs[e[0]],e[1]=gs[e[1]],e[2]=gs[e[2]],e[3]=gs[e[3]]}var gs=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],vs=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],ys=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],bs=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],ws=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],_s=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],Is=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],Ss=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],Es=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function ks(e,t){e=new os(Cs(e));for(var n,r=(t=ss(t)).splice(0,16),i="";r.length;){n=16-r.length;for(var s=0;s<n;s++)r.push(0);for(ls(n=e,r),hs(n,0),r=1;r<n.j;++r){ds(n,gs),fs(n),s=n.h;for(var a=n.s[0],o=0;4>o;o++)a[0]=s[0][o],a[1]=s[1][o],a[2]=s[2][o],a[3]=s[3][o],s[0][o]=bs[a[0]]^ws[a[1]]^a[2]^a[3],s[1][o]=a[0]^bs[a[1]]^ws[a[2]]^a[3],s[2][o]=a[0]^a[1]^bs[a[2]]^ws[a[3]],s[3][o]=ws[a[0]]^a[1]^a[2]^bs[a[3]];hs(n,r)}ds(n,gs),fs(n),hs(n,n.j),i+=as(us(n)),r=t.splice(0,16)}return i}function Ts(e,t){e=new os(Cs(e));for(var n=[],r=0;r<t.length;r+=2)n.push(parseInt(t.substring(r,r+2),16));var i=n.splice(0,16);for(t="";i.length;){for(ls(r=e,i),hs(r,r.j),i=1;i<r.j;++i){ps(r),ds(r,vs),hs(r,r.j-i);for(var s=r.h,a=r.s[0],o=0;4>o;o++)a[0]=s[0][o],a[1]=s[1][o],a[2]=s[2][o],a[3]=s[3][o],s[0][o]=Es[a[0]]^Is[a[1]]^Ss[a[2]]^_s[a[3]],s[1][o]=_s[a[0]]^Es[a[1]]^Is[a[2]]^Ss[a[3]],s[2][o]=Ss[a[0]]^_s[a[1]]^Es[a[2]]^Is[a[3]],s[3][o]=Is[a[0]]^Ss[a[1]]^_s[a[2]]^Es[a[3]]}if(ps(r),ds(r,vs),hs(r,0),8192>=(r=us(r)).length)r=String.fromCharCode.apply(null,r);else{for(i="",s=0;s<r.length;s+=8192)i+=String.fromCharCode.apply(null,Q(r,s,s+8192));r=i}t+=r,i=n.splice(0,16)}return t.replace(/(\x00)+$/,"")}function Cs(e){for(var t=32-(e=ss(e.substring(0,32))).length,n=0;n<t;n++)e.push(0);return e}function xs(e){var t=[];return As(new Ns,e,t),t.join("")}function Ns(){}function As(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(b(t)){var r=t;t=r.length,n.push("[");for(var i="",s=0;s<t;s++)n.push(i),As(e,r[s],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(s=t[r])&&(n.push(i),Ds(r,n),n.push(":"),As(e,s,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":Ds(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}var Rs={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Ps=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Ds(e,t){t.push('"',e.replace(Ps,(function(e){var t=Rs[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Rs[e]=t),t})),'"')}function Os(e){this.a=e}function Ls(){}function Ms(e){this.a=e}function Us(e){if(!e.a)return!1;try{return e.a.setItem("__sak","1"),e.a.removeItem("__sak"),!0}catch(Rh){return!1}}function Fs(){var e=null;try{e=window.localStorage||null}catch(Rh){}this.a=e}function js(){var e=null;try{e=window.sessionStorage||null}catch(Rh){}this.a=e}function Vs(e,t){this.g=e,this.a=t+"::"}Os.prototype.set=function(e,t){d(t)?this.a.set(e,xs(t)):this.a.ra(e)},Os.prototype.get=function(e){try{var t=this.a.get(e)}catch(n){return}if(null!==t)try{return JSON.parse(t)}catch(r){throw"Storage: Invalid value was encountered"}},D(Ls,Zi),Ls.prototype.clear=function(){var e=de(this.ha(!0)),t=this;F(e,(function(e){t.ra(e)}))},D(Ms,Ls),(e=Ms.prototype).set=function(e,t){try{this.a.setItem(e,t)}catch(n){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded"}},e.get=function(e){if(!f(e=this.a.getItem(e))&&null!==e)throw"Storage mechanism: Invalid value was encountered";return e},e.ra=function(e){this.a.removeItem(e)},e.ha=function(e){var t=0,n=this.a,r=new ue;return r.next=function(){if(t>=n.length)throw le;var r=n.key(t++);if(e)return r;if(!f(r=n.getItem(r)))throw"Storage mechanism: Invalid value was encountered";return r},r},e.clear=function(){this.a.clear()},e.key=function(e){return this.a.key(e)},D(Fs,Ms),D(js,Ms),D(Vs,Ls),Vs.prototype.set=function(e,t){this.g.set(this.a+e,t)},Vs.prototype.get=function(e){return this.g.get(this.a+e)},Vs.prototype.ra=function(e){this.g.ra(this.a+e)},Vs.prototype.ha=function(e){var t=this.g.ha(!0),n=this,r=new ue;return r.next=function(){for(var r=t.next();r.substr(0,n.a.length)!=n.a;)r=t.next();return e?r.substr(n.a.length):n.g.get(r)},r},Us(new Fs);var Bs=new js,zs=new Os(Us(Bs)?new Vs(Bs,"firebaseui"):null),qs={name:"pendingEmailCredential",storage:zs},Hs={name:"redirectStatus",storage:zs},Gs={name:"redirectUrl",storage:zs},Ks={name:"emailForSignIn",storage:new Os(new es(3600,"/"))},Ws={name:"pendingEncryptedCredential",storage:new Os(new es(3600,"/"))};function Qs(e,t){return e.storage.get(t?e.name+":"+t:e.name)}function Ys(e,t){e.storage.a.ra(t?e.name+":"+t:e.name)}function Js(e,t,n){e.storage.set(n?e.name+":"+n:e.name,t)}function Xs(e){return Qs(Gs,e)||null}function $s(e){return rs(e=Qs(qs,e)||null)}function Zs(e){Ys(qs,e)}function ea(e,t){Js(qs,ns(e),t)}function ta(e){return(e=Qs(Hs,e)||null)&&"undefined"!==typeof e.tenantId?new is(e.tenantId):null}function na(){this.W={}}function ra(e,t,n){if(t.toLowerCase()in e.W)throw Error("Configuration "+t+" has already been defined.");e.W[t.toLowerCase()]=n}function ia(e,t,n){if(!(t.toLowerCase()in e.W))throw Error("Configuration "+t+" is not defined.");e.W[t.toLowerCase()]=n}function sa(e,t){if(!(e=e.get(t)))throw Error("Configuration "+t+" is required.");return e}function aa(){this.g=void 0,this.a={}}function oa(e,t,n,r){for(var i=0;i<t.length;i++){var s=t.charAt(i);e.a[s]||(e.a[s]=new aa),e=e.a[s]}if(r&&void 0!==e.g)throw Error('The collection already contains the key "'+t+'"');e.g=n}function ca(e,t){for(var n in void 0!==e.g&&t.push(e.g),e.a)ca(e.a[n],t)}function la(e,t,n){for(var r in void 0!==e.g&&n.push(t),e.a)la(e.a[r],t+r,n)}function ua(e){for(this.a=e,this.g=new aa,e=0;e<this.a.length;e++){var t=this.g.get("+"+this.a[e].b);t?t.push(this.a[e]):this.g.add("+"+this.a[e].b,[this.a[e]])}}function ha(e,t){var n={},r=0;for(void 0!==(e=e.g).g&&(n[r]=e.g);r<t.length;r++){var i=t.charAt(r);if(!(i in e.a))break;void 0!==(e=e.a[i]).g&&(n[r]=e.g)}for(var s in n)if(n.hasOwnProperty(s))return n[s];return[]}function da(e){for(var t=0;t<ga.length;t++)if(ga[t].c===e)return ga[t];return null}function fa(e){e=e.toUpperCase();for(var t=[],n=0;n<ga.length;n++)ga[n].f===e&&t.push(ga[n]);return t}function pa(e){if(0<e.length&&"+"==e.charAt(0)){e=e.substring(1);for(var t=[],n=0;n<ga.length;n++)ga[n].b==e&&t.push(ga[n]);e=t}else e=fa(e);return e}function ma(e){e.sort((function(e,t){return e.name.localeCompare(t.name,"en")}))}na.prototype.get=function(e){if(!(e.toLowerCase()in this.W))throw Error("Configuration "+e+" is not defined.");return this.W[e.toLowerCase()]},(e=aa.prototype).set=function(e,t){oa(this,e,t,!1)},e.add=function(e,t){oa(this,e,t,!0)},e.get=function(e){e:{for(var t=this,n=0;n<e.length;n++)if(!(t=t.a[e.charAt(n)])){e=void 0;break e}e=t}return e?e.g:void 0},e.la=function(){var e=[];return ca(this,e),e},e.ja=function(){var e=[];return la(this,"",e),e},e.clear=function(){this.a={},this.g=void 0};var ga=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"\xc5land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"C\xf4te d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Cura\xe7ao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"R\xe9union",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barth\xe9lemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"S\xe3o Tom\xe9 and Pr\xedncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];ma(ga);var va=new ua(ga);function ya(e,t){this.a=e,this.Aa=t}function ba(e){e=Y(e);var t=ha(va,e);return 0<t.length?new ya("1"==t[0].b?"1-US-0":t[0].c,Y(e.substr(t[0].b.length+1))):null}function wa(e){var t=da(e.a);if(!t)throw Error("Country ID "+e.a+" not found.");return"+"+t.b+e.Aa}function _a(e,t){for(var n=0;n<e.length;n++)if(!z(Ia,e[n])&&(null!==Sa&&e[n]in Sa||z(t,e[n])))return e[n];return null}var Ia=["emailLink","password","phone"],Sa={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function Ea(){this.a=new na,ra(this.a,"autoUpgradeAnonymousUsers"),ra(this.a,"callbacks"),ra(this.a,"credentialHelper",Za),ra(this.a,"immediateFederatedRedirect",!1),ra(this.a,"popupMode",!1),ra(this.a,"privacyPolicyUrl"),ra(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),ra(this.a,"queryParameterForWidgetMode","mode"),ra(this.a,"signInFlow"),ra(this.a,"signInOptions"),ra(this.a,"signInSuccessUrl"),ra(this.a,"siteName"),ra(this.a,"tosUrl"),ra(this.a,"widgetUrl"),ra(this.a,"adminRestrictedOperation")}function ka(e){var t=!!e.a.get("autoUpgradeAnonymousUsers");return t&&!Ka(e)&&Gi('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),t}function Ta(e){e=e.a.get("signInOptions")||[];for(var t=[],n=0;n<e.length;n++){var r=e[n];(r=I(r)?r:{provider:r}).provider&&t.push(r)}return t}function Ca(e,t){e=Ta(e);for(var n=0;n<e.length;n++)if(e[n].provider===t)return e[n];return null}function xa(e){return Ta(e).map((function(e){return e.provider}))}function Na(e,t){e=Aa(e);for(var n=0;n<e.length;n++)if(e[n].providerId===t)return e[n];return null}function Aa(e){return Ta(e).map((function(e){if(Sa[e.provider]||z(so,e.provider)){for(var t in e={providerId:e.provider,S:e.providerName||null,V:e.fullLabel||null,ta:e.buttonColor||null,za:e.iconUrl?wt(It(e.iconUrl)).toString():null})null===e[t]&&delete e[t];return e}return{providerId:e.provider,S:e.providerName||null,V:e.fullLabel||null,ta:e.buttonColor||null,za:e.iconUrl?wt(It(e.iconUrl)).toString():null,Ob:e.loginHintKey||null}}))}function Ra(e){var t,n=Ca(e,Vk.auth.GoogleAuthProvider.PROVIDER_ID);if(t=n&&n.clientId){e:{if("http:"===(window.location&&window.location.protocol)||"https:"===(window.location&&window.location.protocol))for(r in e=e.a.get("credentialHelper"),eo)if(eo[r]===e){var r=eo[r];break e}r=Za}t=r===$a}return t&&n.clientId||null}function Pa(e){return!!((e=Ca(e,Vk.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp&&e.disableSignUp.status)}function Da(e){return!(!(e=e.a.get("adminRestrictedOperation")||null)||!e.status)}function Oa(e,t){return e=(e=Ca(e,t))&&e.scopes,Array.isArray(e)?e:[]}function La(e,t){return I(e=(e=Ca(e,t))&&e.customParameters)?(e=ae(e),t===Vk.auth.GoogleAuthProvider.PROVIDER_ID&&delete e.login_hint,t===Vk.auth.GithubAuthProvider.PROVIDER_ID&&delete e.login,e):null}function Ma(e){if(!(e=Ca(e,Vk.auth.PhoneAuthProvider.PROVIDER_ID)))return null;var t=e.whitelistedCountries,n=e.blacklistedCountries;if("undefined"!==typeof t&&(!Array.isArray(t)||0==t.length))throw Error("WhitelistedCountries must be a non-empty array.");if("undefined"!==typeof n&&!Array.isArray(n))throw Error("BlacklistedCountries must be an array.");if(t&&n)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!t&&!n)return ga;if(e=[],t){n={};for(var r=0;r<t.length;r++)for(var i=pa(t[r]),s=0;s<i.length;s++)n[i[s].c]=i[s];for(var a in n)n.hasOwnProperty(a)&&e.push(n[a])}else{for(a={},t=0;t<n.length;t++)for(i=pa(n[t]),r=0;r<i.length;r++)a[i[r].c]=i[r];for(i=0;i<ga.length;i++)null!==a&&ga[i].c in a||e.push(ga[i])}return e}function Ua(e){return sa(e.a,"queryParameterForWidgetMode")}function Fa(e){var t=e.a.get("tosUrl")||null;if(e=e.a.get("privacyPolicyUrl")||null,t&&!e&&Yi("Privacy Policy URL is missing, the link will not be displayed."),t&&e){if("function"===typeof t)return t;if("string"===typeof t)return function(){ni(t)}}return null}function ja(e){var t=e.a.get("tosUrl")||null,n=e.a.get("privacyPolicyUrl")||null;if(n&&!t&&Yi("Term of Service URL is missing, the link will not be displayed."),t&&n){if("function"===typeof n)return n;if("string"===typeof n)return function(){ni(n)}}return null}function Va(e){return!(e=Ca(e,Vk.auth.EmailAuthProvider.PROVIDER_ID))||"undefined"===typeof e.requireDisplayName||!!e.requireDisplayName}function Ba(e){return!(!(e=Ca(e,Vk.auth.EmailAuthProvider.PROVIDER_ID))||e.signInMethod!==Vk.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function za(e){var t=!!e.a.get("immediateFederatedRedirect"),n=xa(e);return e=qa(e),t&&1==n.length&&!z(Ia,n[0])&&e==to}function qa(e){for(var t in e=e.a.get("signInFlow"),no)if(no[t]==e)return no[t];return to}function Ha(e){return Wa(e).signInSuccess||null}function Ga(e){return Wa(e).signInSuccessWithAuthResult||null}function Ka(e){return Wa(e).signInFailure||null}function Wa(e){return e.a.get("callbacks")||{}}var Qa,Ya,Ja,Xa,$a="googleyolo",Za="none",eo={nc:$a,NONE:Za},to="redirect",no={qc:"popup",rc:to},ro={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},so=["anonymous"],ao=["sitekey","tabindex","callback","expired-callback"],oo={};function co(e,t,n,r){oo[e].apply(null,Array.prototype.slice.call(arguments,1))}function lo(e){return e.classList?e.classList:f(e=e.className)&&e.match(/\S+/g)||[]}function uo(e,t){return e.classList?e.classList.contains(t):z(lo(e),t)}function ho(e,t){e.classList?e.classList.add(t):uo(e,t)||(e.className+=0<e.className.length?" "+t:t)}function fo(e,t){e.classList?e.classList.remove(t):uo(e,t)&&(e.className=j(lo(e),(function(e){return e!=t})).join(" "))}function po(e){var t=e.type;switch(f(t)&&t.toLowerCase()){case"checkbox":case"radio":return e.checked?e.value:null;case"select-one":return 0<=(t=e.selectedIndex)?e.options[t].value:null;case"select-multiple":t=[];for(var n,r=0;n=e.options[r];r++)n.selected&&t.push(n.value);return t.length?t:null;default:return null!=e.value?e.value:null}}function go(e,t){var n=e.type;switch(f(n)&&n.toLowerCase()){case"checkbox":case"radio":e.checked=t;break;case"select-one":if(e.selectedIndex=-1,f(t))for(var r=0;n=e.options[r];r++)if(n.value==t){n.selected=!0;break}break;case"select-multiple":for(f(t)&&(t=[t]),r=0;n=e.options[r];r++)if(n.selected=!1,t)for(var i,s=0;i=t[s];s++)n.value==i&&(n.selected=!0);break;default:e.value=null!=t?t:""}}function vo(e,t,n,r,i,s){if(nt&&!ht("525"))return!0;if(it&&i)return yo(e);if(i&&!r)return!1;if(!tt&&("number"==typeof t&&(t=bo(t)),(!n||it)&&(17==t||18==t||it&&91==t)||it&&16==t&&(r||s)))return!1;if((nt||Ze)&&r&&n)switch(e){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if($e&&r&&t==e)return!1;switch(e){case 13:return!tt||!s&&!i&&!(n&&r);case 27:return!(nt||Ze||tt)}return(!tt||!(r||i||s))&&yo(e)}function yo(e){if(48<=e&&57>=e||96<=e&&106>=e||65<=e&&90>=e||(nt||Ze)&&0==e)return!0;switch(e){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return tt;default:return!1}}function bo(e){if(tt)e=function(e){switch(e){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return e}}(e);else if(it&&nt&&93===e)e=91;return e}function wo(e){dr.call(this),this.a=e,er(e,"keydown",this.g,!1,this),er(e,"click",this.h,!1,this)}function _o(e,t){var n=new So(t);if(fr(e,n)){n=new Io(t);try{fr(e,n)}finally{t.stopPropagation()}}}function Io(e){qn.call(this,e.a),this.type="action"}function So(e){qn.call(this,e.a),this.type="beforeaction"}function Eo(e){dr.call(this),this.a=e,e=$e?"focusout":"blur",this.g=er(this.a,$e?"focusin":"focus",this,!$e),this.h=er(this.a,e,this,!$e)}function ko(e,t){dr.call(this),this.g=e||1,this.a=t||h,this.h=C(this.gc,this),this.j=R()}function To(e){e.Ka=!1,e.aa&&(e.a.clearTimeout(e.aa),e.aa=null)}function Co(e){Dn.call(this),this.g=e,this.a={}}D(wo,dr),wo.prototype.g=function(e){(13==e.keyCode||nt&&3==e.keyCode)&&_o(this,e)},wo.prototype.h=function(e){_o(this,e)},wo.prototype.o=function(){wo.K.o.call(this),rr(this.a,"keydown",this.g,!1,this),rr(this.a,"click",this.h,!1,this),delete this.a},D(Io,qn),D(So,qn),D(Eo,dr),Eo.prototype.handleEvent=function(e){var t=new qn(e.a);t.type="focusin"==e.type||"focus"==e.type?"focusin":"focusout",fr(this,t)},Eo.prototype.o=function(){Eo.K.o.call(this),ir(this.g),ir(this.h),delete this.a},D(ko,dr),(e=ko.prototype).Ka=!1,e.aa=null,e.gc=function(){if(this.Ka){var e=R()-this.j;0<e&&e<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-e):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),fr(this,"tick"),this.Ka&&(To(this),this.start()))}},e.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=R())},e.o=function(){ko.K.o.call(this),To(this),delete this.a},D(Co,Dn);var xo=[];function No(e,t,n,r){b(n)||(n&&(xo[0]=n.toString()),n=xo);for(var i=0;i<n.length;i++){var s=er(t,n[i],r||e.handleEvent,!1,e.g||e);if(!s)break;e.a[s.key]=s}}function Ao(e){se(e.a,(function(e,t){this.a.hasOwnProperty(t)&&ir(e)}),e),e.a={}}function Ro(e){dr.call(this),this.a=null,this.g=e,e=$e||Ze||nt&&!ht("531")&&"TEXTAREA"==e.tagName,this.h=new Co(this),No(this.h,this.g,e?["keydown","paste","cut","drop","input"]:"input",this)}function Po(e){null!=e.a&&(h.clearTimeout(e.a),e.a=null)}function Do(e){return(e=new qn(e.a)).type="input",e}function Oo(e,t){dr.call(this),e&&(this.Oa&&jo(this),this.qa=e,this.Na=er(this.qa,"keypress",this,t),this.Ya=er(this.qa,"keydown",this.Jb,t,this),this.Oa=er(this.qa,"keyup",this.Kb,t,this))}Co.prototype.o=function(){Co.K.o.call(this),Ao(this)},Co.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},D(Ro,dr),Ro.prototype.handleEvent=function(e){if("input"==e.type)$e&&ht(10)&&0==e.keyCode&&0==e.j||(Po(this),fr(this,Do(e)));else if("keydown"!=e.type||function(e){if(e.altKey&&!e.ctrlKey||e.metaKey||112<=e.keyCode&&123>=e.keyCode)return!1;if(yo(e.keyCode))return!0;switch(e.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!tt;default:return 166>e.keyCode||183<e.keyCode}}(e)){var t="keydown"==e.type?this.g.value:null;$e&&229==e.keyCode&&(t=null);var n=Do(e);Po(this),this.a=function(e,t){if(_(e))t&&(e=C(e,t));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=C(e.handleEvent,e)}return 2147483647<Number(0)?-1:h.setTimeout(e,0)}((function(){this.a=null,this.g.value!=t&&fr(this,n)}),this)}},Ro.prototype.o=function(){Ro.K.o.call(this),this.h.m(),Po(this),delete this.g},D(Oo,dr),(e=Oo.prototype).qa=null,e.Na=null,e.Ya=null,e.Oa=null,e.R=-1,e.X=-1,e.Ua=!1;var Lo={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Mo={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Uo=!nt||ht("525"),Fo=it&&tt;function jo(e){e.Na&&(ir(e.Na),ir(e.Ya),ir(e.Oa),e.Na=null,e.Ya=null,e.Oa=null),e.qa=null,e.R=-1,e.X=-1}function Vo(e,t,n,r){qn.call(this,r),this.type="key",this.keyCode=e,this.j=t,this.repeat=n}function Bo(e,t,n,r){this.top=e,this.right=t,this.bottom=n,this.left=r}function zo(e,t){var n=Ht(e);return n.defaultView&&n.defaultView.getComputedStyle&&(e=n.defaultView.getComputedStyle(e,null))&&(e[t]||e.getPropertyValue(t))||""}function qo(e){try{var t=e.getBoundingClientRect()}catch(n){return{left:0,top:0,right:0,bottom:0}}return $e&&e.ownerDocument.body&&(e=e.ownerDocument,t.left-=e.documentElement.clientLeft+e.body.clientLeft,t.top-=e.documentElement.clientTop+e.body.clientTop),t}function Ho(e){var t=Ht(e),n=new Lt(0,0),r=t?Ht(t):document;return e==(r=!$e||9<=Number(lt)||"CSS1Compat"==Ut(r).a.compatMode?r.documentElement:r.body)||(e=qo(e),t=zt(r=Ut(t).a),r=r.parentWindow||r.defaultView,t=$e&&ht("10")&&r.pageYOffset!=t.scrollTop?new Lt(t.scrollLeft,t.scrollTop):new Lt(r.pageXOffset||t.scrollLeft,r.pageYOffset||t.scrollTop),n.a=e.left+t.a,n.g=e.top+t.g),n}(e=Oo.prototype).Jb=function(e){(nt||Ze)&&(17==this.R&&!e.ctrlKey||18==this.R&&!e.altKey||it&&91==this.R&&!e.metaKey)&&(this.X=this.R=-1),-1==this.R&&(e.ctrlKey&&17!=e.keyCode?this.R=17:e.altKey&&18!=e.keyCode?this.R=18:e.metaKey&&91!=e.keyCode&&(this.R=91)),Uo&&!vo(e.keyCode,this.R,e.shiftKey,e.ctrlKey,e.altKey,e.metaKey)?this.handleEvent(e):(this.X=bo(e.keyCode),Fo&&(this.Ua=e.altKey))},e.Kb=function(e){this.X=this.R=-1,this.Ua=e.altKey},e.handleEvent=function(e){var t=e.a,n=t.altKey;if($e&&"keypress"==e.type)var r=this.X,i=13!=r&&27!=r?t.keyCode:0;else(nt||Ze)&&"keypress"==e.type?(r=this.X,i=0<=t.charCode&&63232>t.charCode&&yo(r)?t.charCode:0):Xe&&!nt?i=yo(r=this.X)?t.keyCode:0:("keypress"==e.type?(Fo&&(n=this.Ua),t.keyCode==t.charCode?32>t.keyCode?(r=t.keyCode,i=0):(r=this.X,i=t.charCode):(r=t.keyCode||this.X,i=t.charCode||0)):(r=t.keyCode||this.X,i=t.charCode||0),it&&63==i&&224==r&&(r=191));var s=r=bo(r);r?63232<=r&&r in Lo?s=Lo[r]:25==r&&e.shiftKey&&(s=9):t.keyIdentifier&&t.keyIdentifier in Mo&&(s=Mo[t.keyIdentifier]),tt&&Uo&&"keypress"==e.type&&!vo(s,this.R,e.shiftKey,e.ctrlKey,n,e.metaKey)||(e=s==this.R,this.R=s,(t=new Vo(s,i,e,t)).altKey=n,fr(this,t))},e.N=function(){return this.qa},e.o=function(){Oo.K.o.call(this),jo(this)},D(Vo,qn),Bo.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},Bo.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},Bo.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},Bo.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};var Go={thin:2,medium:4,thick:6};function Ko(e,t){if("none"==(e.currentStyle?e.currentStyle[t+"Style"]:null))return 0;var n=e.currentStyle?e.currentStyle[t+"Width"]:null;if(n in Go)e=Go[n];else if(/^\d+px?$/.test(n))e=parseInt(n,10);else{t=e.style.left;var r=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,e.style.left=n,n=e.style.pixelLeft,e.style.left=t,e.runtimeStyle.left=r,e=+n}return e}function Wo(){}function Qo(e){dr.call(this),this.s=e||Ut(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}function Yo(e,t){return e.g?jt(t,e.g||e.s.a):null}function Jo(e){return e.L||(e.L=new Co(e)),e.L}function Xo(e,t){e.Ea&&F(e.Ea,t,void 0)}function $o(e,t){var n=Kt(e,"firebaseui-textfield");t?(fo(e,"firebaseui-input-invalid"),ho(e,"firebaseui-input"),n&&fo(n,"firebaseui-textfield-invalid")):(fo(e,"firebaseui-input"),ho(e,"firebaseui-input-invalid"),n&&ho(n,"firebaseui-textfield-invalid"))}function Zo(e,t,n){Mn(e,x(Un,t=new Ro(t))),No(Jo(e),t,"input",n)}function ec(e,t,n){Mn(e,x(Un,t=new Oo(t))),No(Jo(e),t,"key",(function(e){13==e.keyCode&&(e.stopPropagation(),e.preventDefault(),n(e))}))}function tc(e,t,n){Mn(e,x(Un,t=new wo(t))),No(Jo(e),t,"action",(function(e){e.stopPropagation(),e.preventDefault(),n(e)}))}function nc(e){ho(e,"firebaseui-hidden")}function rc(e,t){t&&Gt(e,t),fo(e,"firebaseui-hidden")}function ic(e){return!uo(e,"firebaseui-hidden")&&"none"!=e.style.display}function sc(e){var t=(e=e||{}).email,n=e.disabled,r='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return r=e.wc?r+"Enter new email address":r+"Email",r+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+dn(null!=t?t:"")+'"'+(n?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',cn(r)}function ac(e){var t='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return t=(e=(e=e||{}).label)?t+rn(e):t+"Next",cn(t+"</button>")}function oc(){var e=""+ac({label:un("Sign In")});return cn(e)}function cc(){var e=""+ac({label:un("Save")});return cn(e)}function lc(){var e=""+ac({label:un("Continue")});return cn(e)}function uc(e){var t='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return t=(e=(e=e||{}).label)?t+rn(e):t+"Choose password",cn(t+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function hc(){var e='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return cn((e={}.current?e+"Current password":e+"Password")+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function dc(){return cn('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function fc(e){var t='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return t=(e=(e=e||{}).label)?t+rn(e):t+"Cancel",cn(t+"</button>")}function pc(e){var t="";return e.F&&e.D&&(t+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),cn(t)}function mc(e){var t="";return e.F&&e.D&&(t+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),cn(t)}function gc(e){return e='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+rn(e.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',cn(e)}function vc(e){var t=e.content;return e=e.Ab,cn('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(e?" "+dn(e):"")+'">'+rn(t)+"</dialog>")}function yc(e){var t=e.message;return cn(vc({content:hn('<div class="firebaseui-dialog-icon-wrapper"><div class="'+dn(e.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+rn(t)+"</div>")}))}function bc(e){for(var t='<div class="firebaseui-list-box-actions">',n=(e=e.items).length,r=0;r<n;r++){var i=e[r];t+='<button type="button" data-listboxid="'+dn(i.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(i.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+dn(i.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+rn(i.label)+"</div></button>"}return t=""+vc({Ab:un("firebaseui-list-box-dialog"),content:hn(t+"</div>")}),cn(t)}function wc(e){return cn((e=e||{}).tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}function _c(e,t){return on((e=(e=e||{}).ga).S?e.S:t.hb[e.providerId]?""+t.hb[e.providerId]:e.providerId&&0==e.providerId.indexOf("saml.")||e.providerId&&0==e.providerId.indexOf("oidc.")?e.providerId.substring(5):""+e.providerId)}function Ic(e){kc(e,"upgradeElement")}function Sc(e){kc(e,"downgradeElements")}v(Wo),Wo.prototype.a=0,D(Qo,dr),(e=Qo.prototype).Lb=Wo.Xa(),e.N=function(){return this.g},e.Za=function(e){if(this.Y&&this.Y!=e)throw Error("Method not supported");Qo.K.Za.call(this,e)},e.kb=function(){this.g=this.s.a.createElement("DIV")},e.render=function(e){if(this.na)throw Error("Component already rendered");this.g||this.kb(),e?e.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},e.v=function(){this.na=!0,Xo(this,(function(e){!e.na&&e.N()&&e.v()}))},e.ya=function(){Xo(this,(function(e){e.na&&e.ya()})),this.L&&Ao(this.L),this.na=!1},e.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),Xo(this,(function(e){e.m()})),this.g&&qt(this.g),this.Y=this.g=this.oa=this.Ea=null,Qo.K.o.call(this)},e.removeChild=function(e,t){if(e){var n=f(e)?e:e.cb||(e.cb=":"+(e.Lb.a++).toString(36));if(this.oa&&n?e=(null!==(e=this.oa)&&n in e?e[n]:void 0)||null:e=null,n&&e){var r=this.oa;if(n in r&&delete r[n],q(this.Ea,e),t&&(e.ya(),e.g&&qt(e.g)),null==(t=e))throw Error("Unable to set parent component");t.Y=null,Qo.K.Za.call(t,null)}}if(!e)throw Error("Child is not in parent component");return e},gc.a="firebaseui.auth.soy2.element.infoBar",yc.a="firebaseui.auth.soy2.element.progressDialog",bc.a="firebaseui.auth.soy2.element.listBoxDialog",wc.a="firebaseui.auth.soy2.element.busyIndicator";var Ec=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function kc(e,t){e&&window.componentHandler&&window.componentHandler[t]&&Ec.forEach((function(n){uo(e,n)&&window.componentHandler[t](e),F(Ft(n,e),(function(e){window.componentHandler[t](e)}))}))}function Tc(e,t,n){if(Cc.call(this),document.body.appendChild(e),e.showModal||window.dialogPolyfill.registerDialog(e),e.showModal(),Ic(e),t&&tc(this,e,(function(t){var n=e.getBoundingClientRect();(t.clientX<n.left||n.left+n.width<t.clientX||t.clientY<n.top||n.top+n.height<t.clientY)&&Cc.call(this)})),!n){var r=this.N().parentElement||this.N().parentNode;if(r){var i=this;this.da=function(){if(e.open){var t=e.getBoundingClientRect().height,n=r.getBoundingClientRect().height,s=r.getBoundingClientRect().top-document.body.getBoundingClientRect().top,a=r.getBoundingClientRect().left-document.body.getBoundingClientRect().left,o=e.getBoundingClientRect().width,c=r.getBoundingClientRect().width;e.style.top=(s+(n-t)/2).toString()+"px",t=a+(c-o)/2,e.style.left=t.toString()+"px",e.style.right=(document.body.getBoundingClientRect().width-t-o).toString()+"px"}else window.removeEventListener("resize",i.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function Cc(){var e=xc.call(this);e&&(Sc(e),e.open&&e.close(),qt(e),this.da&&window.removeEventListener("resize",this.da))}function xc(){return jt("firebaseui-id-dialog")}function Nc(){qt(Ac.call(this))}function Ac(){return Yo(this,"firebaseui-id-info-bar")}function Rc(){return Yo(this,"firebaseui-id-dismiss-info-bar")}var Pc={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function Dc(e,t,n){for(var r in zn.call(this,e,t),n)this[r]=n[r]}function Oc(e,t,n,r,i){Qo.call(this,n),this.fb=e,this.eb=t,this.Fa=!1,this.Ga=r||null,this.A=this.ca=null,this.Z=ae(Pc),ce(this.Z,i||{})}function Lc(e){return e.N().parentElement||e.N().parentNode}function Mc(e,t,n){ec(e,t,(function(){n.focus()}))}function Uc(e,t,n){ec(e,t,(function(){n()}))}function Fc(e,t,n){t=(e=e||{}).Va;var r=e.ia;return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+sc(e)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?fc(null):"")+ac(null)+'</div></div><div class="firebaseui-card-footer">'+(r?mc(n):pc(n))+"</div></form></div>",cn(e)}function jc(e,t,n){return t=(e=e||{}).ia,e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+sc(e)+hc()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+dc()+'</div><div class="firebaseui-form-actions">'+oc()+'</div></div><div class="firebaseui-card-footer">'+(t?mc(n):pc(n))+"</div></form></div>",cn(e)}function Vc(e,t,n){var r=(e=e||{}).Tb;t=e.Ta;var i=e.ia,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+sc(e);return r?(e='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+dn(null!=(e=(e=e||{}).name)?e:"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',e=cn(e)):e="",n=s+e+uc(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?fc(null):"")+cc()+'</div></div><div class="firebaseui-card-footer">'+(i?mc(n):pc(n))+"</div></form></div>",cn(n)}function Bc(e,t,n){return t=(e=e||{}).Ta,e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+sc(e)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?fc(null):"")+ac({label:un("Send")})+'</div></div><div class="firebaseui-card-footer">'+pc(n)+"</div></form></div>",cn(e)}function zc(e,t,n){t=e.G;var r="";return r+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Follow the instructions sent to <strong>"+rn(e.email)+"</strong> to recover your password")+'</p></div><div class="firebaseui-card-actions">',t&&(r+='<div class="firebaseui-form-actions">'+ac({label:un("Done")})+"</div>"),r+='</div><div class="firebaseui-card-footer">'+pc(n)+"</div></div>",cn(r)}function qc(e,t,n){return cn('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+wc(null)+"</div></div>")}function Hc(e,t,n){return cn('<div class="firebaseui-container firebaseui-id-page-spinner">'+wc({tb:!0})+"</div>")}function Gc(){return cn('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}function Kc(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+(e="A sign-in email with additional instructions was sent to <strong>"+rn(e.email)+"</strong>. Check your email to complete sign-in.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+cn('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>')+'</div><div class="firebaseui-form-actions">'+fc({label:un("Back")})+'</div></div><div class="firebaseui-card-footer">'+pc(n)+"</div></form></div>",cn(t)}function Wc(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn\'t work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+cn('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+fc({label:un("Back")})+'</div></div><div class="firebaseui-card-footer">'+pc(n)+"</div></form></div>",cn(e)}function Qc(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+sc(e)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+fc(null)+ac(null)+'</div></div><div class="firebaseui-card-footer">'+pc(n)+"</div></form></div>",cn(e)}function Yc(){var e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+fc({label:un("Dismiss")})+"</div></div></div>";return cn(e)}function Jc(){var e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+fc({label:un("Dismiss")})+"</div></div></div>";return cn(e)}function Xc(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(e="You\u2019ve already used <strong>"+rn(e.email)+"</strong> to sign in. Enter your password for that account.")+"</p>"+hc()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+dc()+'</div><div class="firebaseui-form-actions">'+oc()+'</div></div><div class="firebaseui-card-footer">'+pc(n)+"</div></form></div>",cn(t)}function $c(e,t,n){var r=e.email;return t="",e=un(e=""+_c(e,n)),t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+(r="You\u2019ve already used <strong>"+rn(r)+"</strong>. You can connect your <strong>"+rn(e)+"</strong> account with <strong>"+rn(r)+"</strong> by signing in with email link below.")+'<p class="firebaseui-text firebaseui-text-justify">'+(e="For this flow to successfully connect your "+rn(e)+" account with this email, you have to open the link on the same device or browser.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+oc()+'</div></div><div class="firebaseui-card-footer">'+pc(n)+"</div></form></div>",cn(t)}function Zc(e,t,n){t="";var r=""+_c(e,n);return t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+(e="You originally intended to connect <strong>"+rn(r=un(r))+"</strong> to your email account but have opened the link on a different device where you are not signed in.")+'</p><p class="firebaseui-text firebaseui-text-justify">'+(r="If you still want to connect your <strong>"+rn(r)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+lc()+'</div></div><div class="firebaseui-card-footer">'+pc(n)+"</div></form></div>",cn(t)}function el(e,t,n){var r=e.email;return t="",e=un(e=""+_c(e,n)),t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(r="You\u2019ve already used <strong>"+rn(r)+"</strong>. Sign in with "+rn(e)+" to continue.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ac({label:un("Sign in with "+e)})+'</div></div><div class="firebaseui-card-footer">'+pc(n)+"</div></form></div>",cn(t)}function tl(e,t,n){var r=(e=e||{}).kc;t=e.yb,e=e.Eb;var i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return r?i+=r="<strong>"+rn(r)+"</strong> is not authorized to view the requested page.":i+="User is not authorized to view the requested page.",i+="</p>",t&&(i+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+(t="Please contact <strong>"+rn(t)+"</strong> for authorization.")+"</p>"),i+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',e&&(i+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),i+='</div><div class="firebaseui-form-actions">'+fc({label:un("Back")})+'</div></div><div class="firebaseui-card-footer">'+pc(n)+"</div></form></div>",cn(i)}function nl(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="To continue sign in with <strong>"+rn(e.email)+"</strong> on this device, you have to recover the password.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+fc(null)+ac({label:un("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+pc(n)+"</div></form></div>",cn(t)}function rl(e){var t="";return t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+('<p class="firebaseui-text">for <strong>'+rn(e.email)+"</strong></p>")+uc(function(e){function t(){}var n={label:un("New password")};for(var r in t.prototype=e,e=new t,n)e[r]=n[r];return e}(e))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+cc()+"</div></div></form></div>",cn(t)}function il(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+lc()+"</div>":"")+"</div></div>",cn(e)}function sl(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+lc()+"</div>":"")+"</div></div>",cn(e)}function al(e){var t=e.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Your sign-in email address has been changed back to <strong>"+rn(e.email)+"</strong>.")+'</p><p class="firebaseui-text">If you didn\u2019t ask to change your sign-in email, it\u2019s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+lc()+"</div>":"")+"</div></form></div>",cn(n)}function ol(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can\u2019t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+lc()+"</div>":"")+"</div></div>",cn(e)}function cl(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+lc()+"</div>":"")+"</div></div>",cn(e)}function ll(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+lc()+"</div>":"")+"</div></div>",cn(e)}function ul(e){var t=e.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="You can now sign in with your new email <strong>"+rn(e.email)+"</strong>.")+'</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+lc()+"</div>":"")+"</div></div>",cn(n)}function hl(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+lc()+"</div>":"")+"</div></div>",cn(e)}function dl(e){var t=e.factorId,n=e.phoneNumber;e=e.G;var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';if("phone"===t)r+=t="The <strong>"+rn(t)+" "+rn(n)+"</strong> was removed as a second authentication step.";else r+="The device or app was removed as a second authentication step.";return r+='</p><p class="firebaseui-text">If you don\'t recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+lc()+"</div>":"")+"</div></form></div>",cn(r)}function fl(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn\'t remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn\'t work, contact support for assistance.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+lc()+"</div>":"")+"</div></div>",cn(e)}function pl(e){var t=e.zb;return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+rn(e.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',t&&(e+=ac({label:un("Retry")})),cn(e+"</div></div></div>")}function ml(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+rn(e.errorMessage)+"</p></div></div>",cn(e)}function gl(e,t,n){var r=e.Qb;return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+(e="Continue with "+rn(e.jc)+"?")+'</h2><p class="firebaseui-text">'+(r="You originally wanted to sign in with "+rn(r))+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+fc(null)+ac({label:un("Continue")})+'</div></div><div class="firebaseui-card-footer">'+pc(n)+"</div></form></div>",cn(t)}function vl(e,t,n){var r='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';t=(e=e.Sb).length;for(var i=0;i<t;i++){var s={ga:e[i]},a=n,o=(s=s||{}).ga,c=s,l="";switch((c=c||{}).ga.providerId){case"google.com":l+="firebaseui-idp-google";break;case"github.com":l+="firebaseui-idp-github";break;case"facebook.com":l+="firebaseui-idp-facebook";break;case"twitter.com":l+="firebaseui-idp-twitter";break;case"phone":l+="firebaseui-idp-phone";break;case"anonymous":l+="firebaseui-idp-anonymous";break;case"password":l+="firebaseui-idp-password";break;default:l+="firebaseui-idp-generic"}c=(c='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+dn(on(l))+' firebaseui-id-idp-button" data-provider-id="'+dn(o.providerId)+'" style="background-color:')+dn(pn(on((l=(l=(l=s)||{}).ga).ta?l.ta:a.wa[l.providerId]?""+a.wa[l.providerId]:0==l.providerId.indexOf("saml.")?""+a.wa.saml:0==l.providerId.indexOf("oidc.")?""+a.wa.oidc:""+a.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var u=s;l=a,u=(u=u||{}).ga,l=ln(u.za?fn(u.za):l.xa[u.providerId]?fn(l.xa[u.providerId]):0==u.providerId.indexOf("saml.")?fn(l.xa.saml):0==u.providerId.indexOf("oidc.")?fn(l.xa.oidc):fn(l.xa.password)),c=c+dn(fn(l))+'"></span>',"password"==o.providerId?(c+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?c+=rn(o.V):o.S?c+=s="Sign in with "+rn(_c(s,a)):c+="Sign in with email",c+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',c=o.S?c+rn(o.S):c+"Email",c+="</span>"):"phone"==o.providerId?(c+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?c+=rn(o.V):o.S?c+=s="Sign in with "+rn(_c(s,a)):c+="Sign in with phone",c+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',c=o.S?c+rn(o.S):c+"Phone",c+="</span>"):"anonymous"==o.providerId?(c+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?c+=rn(o.V):o.S?c+=s="Sign in with "+rn(_c(s,a)):c+="Continue as guest",c+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',c=o.S?c+rn(o.S):c+"Guest",c+="</span>"):(c+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?c+=rn(o.V):c+=l="Sign in with "+rn(_c(s,a)),c+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(o.S?rn(o.S):rn(_c(s,a)))+"</span>"),r+='<li class="firebaseui-list-item">'+(o=cn(c+"</button>"))+"</li>"}return r+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+mc(n)+"</div></div>",cn(r)}function yl(e,t,n){var r,i=(e=e||{}).Gb,s=e.Va;return t=e.ia,e='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+dn(null!=(e=(e=e||{}).Aa)?e:"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',r=(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+cn(e))+(r=i?cn('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):"")+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(s?fc(null):"")+ac({label:un("Verify")})+'</div></div><div class="firebaseui-card-footer">',t?(t='<p class="firebaseui-tos firebaseui-phone-tos">',t=n.F&&n.D?t+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':t+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",n=cn(t+"</p>")):n=cn('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+pc(n),cn(r+n+"</div></form></div>")}function bl(e,t,n){var r="";return e='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+rn(t=(e=e||{}).phoneNumber)+"</a>",rn(t),t=r,n='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+e+"</p>"+(r=cn('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+fc(null)+ac({label:un("Continue")})+'</div></div><div class="firebaseui-card-footer">'+pc(n)+"</div></form>",e=cn('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),cn(t+(n+e+"</div>"))}function wl(){return cn('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}function _l(e,t,n){var r='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';t=(e=e.ec).length;for(var i=0;i<t;i++){var s=e[i],a="",o=rn(s.displayName),c=s.tenantId?s.tenantId:"top-level-project";a+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+dn(c=un(c))+' firebaseui-id-tenant-selection-button"'+(s.tenantId?'data-tenant-id="'+dn(s.tenantId)+'"':"")+'style="background-color:'+dn(pn(s.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+dn(fn(s.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?a+=rn(s.V):a+=s="Sign in to "+rn(s.displayName),r+='<li class="firebaseui-list-item">'+(a=cn(a+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+o+"</span></button>"))+"</li>"}return r+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+mc(n)+"</div></div>",cn(r)}function Il(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+sc(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ac(null)+'</div></div><div class="firebaseui-card-footer">'+mc(n)+"</div></form></div>",cn(e)}function Sl(){return Yo(this,"firebaseui-id-submit")}function El(){return Yo(this,"firebaseui-id-secondary-link")}function kl(e,t){tc(this,Sl.call(this),(function(t){e(t)}));var n=El.call(this);n&&t&&tc(this,n,(function(e){t(e)}))}function Tl(){return Yo(this,"firebaseui-id-password")}function Cl(){return Yo(this,"firebaseui-id-password-error")}function xl(){var e=Tl.call(this),t=Cl.call(this);Zo(this,e,(function(){ic(t)&&($o(e,!0),nc(t))}))}function Nl(){var e=Tl.call(this),t=Cl.call(this);return po(e)?($o(e,!0),nc(t),t=!0):($o(e,!1),rc(t,on("Enter your password").toString()),t=!1),t?po(e):null}function Al(e,t,n,r,i,s){Oc.call(this,Xc,{email:e},s,"passwordLinking",{F:r,D:i}),this.w=t,this.H=n}D(Dc,zn),D(Oc,Qo),(e=Oc.prototype).kb=function(){var e=Zt(this.fb,this.eb,this.Z,this.s);Ic(e),this.g=e},e.v=function(){if(Oc.K.v.call(this),vr(Lc(this),new Dc("pageEnter",Lc(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var e=this.Z.F;tc(this,this.bb(),(function(){e()}))}if(this.ab()&&this.Z.D){var t=this.Z.D;tc(this,this.ab(),(function(){t()}))}},e.ya=function(){vr(Lc(this),new Dc("pageExit",Lc(this),{pageId:this.Ga})),Oc.K.ya.call(this)},e.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,Sc(this.N()),Oc.K.o.call(this)},e.I=function(e,t,n,r){function i(){if(s.T)return null;s.Fa=!1,window.clearTimeout(s.ca),s.ca=null,s.A&&(Sc(s.A),qt(s.A),s.A=null)}var s=this;return s.Fa?null:(function(e){e.Fa=!0;var t=uo(e.N(),"firebaseui-use-spinner");e.ca=window.setTimeout((function(){e.N()&&null===e.A&&(e.A=Zt(wc,{tb:t},null,e.s),e.N().appendChild(e.A),Ic(e.A))}),500)}(s),e.apply(null,t).then(n,r).then(i,i))},N(Oc.prototype,{a:function(e){Nc.call(this);var t=Zt(gc,{message:e},null,this.s);this.N().appendChild(t),tc(this,Rc.call(this),(function(){qt(t)}))},yc:Nc,Ac:Ac,zc:Rc,$:function(e,t){e=Zt(yc,{Ma:e,message:t},null,this.s),Tc.call(this,e)},h:Cc,Cb:xc,Cc:function(){return Yo(this,"firebaseui-tos")},bb:function(){return Yo(this,"firebaseui-tos-link")},ab:function(){return Yo(this,"firebaseui-pp-link")},Dc:function(){return Yo(this,"firebaseui-tos-list")}}),Fc.a="firebaseui.auth.soy2.page.signIn",jc.a="firebaseui.auth.soy2.page.passwordSignIn",Vc.a="firebaseui.auth.soy2.page.passwordSignUp",Bc.a="firebaseui.auth.soy2.page.passwordRecovery",zc.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent",qc.a="firebaseui.auth.soy2.page.callback",Hc.a="firebaseui.auth.soy2.page.spinner",Gc.a="firebaseui.auth.soy2.page.blank",Kc.a="firebaseui.auth.soy2.page.emailLinkSignInSent",Wc.a="firebaseui.auth.soy2.page.emailNotReceived",Qc.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation",Yc.a="firebaseui.auth.soy2.page.differentDeviceError",Jc.a="firebaseui.auth.soy2.page.anonymousUserMismatch",Xc.a="firebaseui.auth.soy2.page.passwordLinking",$c.a="firebaseui.auth.soy2.page.emailLinkSignInLinking",Zc.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice",el.a="firebaseui.auth.soy2.page.federatedLinking",tl.a="firebaseui.auth.soy2.page.unauthorizedUser",nl.a="firebaseui.auth.soy2.page.unsupportedProvider",rl.a="firebaseui.auth.soy2.page.passwordReset",il.a="firebaseui.auth.soy2.page.passwordResetSuccess",sl.a="firebaseui.auth.soy2.page.passwordResetFailure",al.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess",ol.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure",cl.a="firebaseui.auth.soy2.page.emailVerificationSuccess",ll.a="firebaseui.auth.soy2.page.emailVerificationFailure",ul.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess",hl.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure",dl.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess",fl.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure",pl.a="firebaseui.auth.soy2.page.recoverableError",ml.a="firebaseui.auth.soy2.page.unrecoverableError",gl.a="firebaseui.auth.soy2.page.emailMismatch",vl.a="firebaseui.auth.soy2.page.providerSignIn",yl.a="firebaseui.auth.soy2.page.phoneSignInStart",bl.a="firebaseui.auth.soy2.page.phoneSignInFinish",wl.a="firebaseui.auth.soy2.page.signOut",_l.a="firebaseui.auth.soy2.page.selectTenant",Il.a="firebaseui.auth.soy2.page.providerMatchByEmail",o(Al,Oc),Al.prototype.v=function(){this.P(),this.M(this.w,this.H),Uc(this,this.i(),this.w),this.i().focus(),Oc.prototype.v.call(this)},Al.prototype.o=function(){this.w=null,Oc.prototype.o.call(this)},Al.prototype.j=function(){return po(Yo(this,"firebaseui-id-email"))},N(Al.prototype,{i:Tl,B:Cl,P:xl,u:Nl,ea:Sl,ba:El,M:kl});var Rl=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Pl(){return Yo(this,"firebaseui-id-email")}function Dl(){return Yo(this,"firebaseui-id-email-error")}function Ol(e){var t=Pl.call(this),n=Dl.call(this);Zo(this,t,(function(){ic(n)&&($o(t,!0),nc(n))})),e&&ec(this,t,(function(){e()}))}function Ll(){return Y(po(Pl.call(this))||"")}function Ml(){var e=Pl.call(this),t=Dl.call(this),n=po(e)||"";return n?Rl.test(n)?($o(e,!0),nc(t),t=!0):($o(e,!1),rc(t,on("That email address isn't correct").toString()),t=!1):($o(e,!1),rc(t,on("Enter your email address to continue").toString()),t=!1),t?Y(po(e)):null}function Ul(e,t,n,r,i,s,a){Oc.call(this,jc,{email:n,ia:!!s},a,"passwordSignIn",{F:r,D:i}),this.w=e,this.H=t}function Fl(e,t,n,r,i,s){Oc.call(this,e,t,r,i||"notice",s),this.i=n||null}function jl(e,t,n,r,i){Fl.call(this,zc,{email:e,G:!!t},t,i,"passwordRecoveryEmailSent",{F:n,D:r})}function Vl(e,t){Fl.call(this,cl,{G:!!e},e,t,"emailVerificationSuccess")}function Bl(e,t){Fl.call(this,ll,{G:!!e},e,t,"emailVerificationFailure")}function zl(e,t,n){Fl.call(this,ul,{email:e,G:!!t},t,n,"verifyAndChangeEmailSuccess")}function ql(e,t){Fl.call(this,hl,{G:!!e},e,t,"verifyAndChangeEmailFailure")}function Hl(e,t){Fl.call(this,fl,{G:!!e},e,t,"revertSecondFactorAdditionFailure")}function Gl(e){Fl.call(this,wl,void 0,void 0,e,"signOut")}function Kl(e,t){Fl.call(this,il,{G:!!e},e,t,"passwordResetSuccess")}function Wl(e,t){Fl.call(this,sl,{G:!!e},e,t,"passwordResetFailure")}function Ql(e,t){Fl.call(this,ol,{G:!!e},e,t,"emailChangeRevokeFailure")}function Yl(e,t,n){Fl.call(this,pl,{errorMessage:e,zb:!!t},t,n,"recoverableError")}function Jl(e,t){Fl.call(this,ml,{errorMessage:e},void 0,t,"unrecoverableError")}function Xl(e){if("auth/invalid-credential"===e.code&&e.message&&-1!==e.message.indexOf("error=consent_required"))return{code:"auth/user-cancelled"};if(e.message&&-1!==e.message.indexOf("HTTP Cloud Function returned an error:")){var t=JSON.parse(e.message.substring(e.message.indexOf("{"),e.message.lastIndexOf("}")+1));return{code:e.code,message:t&&t.error&&t.error.message||e.message}}return e}function $l(e,t,n,r){function i(n){if(!n.name||"cancel"!=n.name){e:{var r=n.message;try{var i=((JSON.parse(r).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(i&&i.length){var s=!0;break e}}catch(a){}s=!1}if(s)n=Lc(t),t.m(),au(e,n,void 0,on("Your sign-in session has expired. Please try again.").toString());else{if(s=n&&n.message||"",n.code){if("auth/email-already-in-use"==n.code||"auth/credential-already-in-use"==n.code)return;s=tu(n)}t.a(s)}}}if(Ph(e),r)return Zl(e,n),zr();if(!n.credential)throw Error("No credential found!");if(!_h(e).currentUser&&!n.user)throw Error("User not logged in.");try{var s=function(e,t){return Lh(e),xh(e,(function(n){if(e.j&&!e.j.isAnonymous&&ka(Oh(e))&&!_h(e).currentUser)return Uh(e).then((function(){return"password"==t.credential.providerId&&(t.credential=null),t}));if(n)return Uh(e).then((function(){return n.linkWithCredential(t.credential)})).then((function(e){return t.user=e.user,t.credential=e.credential,t.operationType=e.operationType,t.additionalUserInfo=e.additionalUserInfo,t}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Fh(e,n,t.credential)}));if(!t.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Uh(e).then((function(){return Ih(e).updateCurrentUser(t.user)})).then((function(){return t.user=Ih(e).currentUser,t.operationType="signIn",t.credential&&t.credential.providerId&&"password"==t.credential.providerId&&(t.credential=null),t}))}))}(e,n)}catch(a){return Gi(a.code||a.message,a),t.a(a.code||a.message),zr()}return n=s.then((function(t){Zl(e,t)}),i).then(void 0,i),Ah(e,s),zr(n)}function Zl(e,t){if(!t.user)throw Error("No user found");var n=Ga(Oh(e));if(Ha(Oh(e))&&n&&Yi("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),n){n=Ga(Oh(e));var r=Xs(Sh(e))||void 0;Ys(Gs,Sh(e));var i=!1;ti()?(n&&!n(t,r)||(i=!0,Ot(window.opener.location,eu(e,r))),n||window.close()):n&&!n(t,r)||(i=!0,Ot(window.location,eu(e,r))),i||e.reset()}else{n=t.user,t=t.credential,r=Ha(Oh(e)),i=Xs(Sh(e))||void 0,Ys(Gs,Sh(e));var s=!1;ti()?(r&&!r(n,t,i)||(s=!0,Ot(window.opener.location,eu(e,i))),r||window.close()):r&&!r(n,t,i)||(s=!0,Ot(window.location,eu(e,i))),s||e.reset()}}function eu(e,t){if(!(e=t||Oh(e).a.get("signInSuccessUrl")))throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return e}function tu(e){var t={code:e.code},n="";switch((t=t||{}).code){case"auth/email-already-in-use":n+="The email address is already used by another account";break;case"auth/requires-recent-login":case"auth/user-token-expired":n+=An();break;case"auth/too-many-requests":n+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":n+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":n+="That email address doesn't match an existing account";break;case"auth/weak-password":n+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":n+="The email and password you entered don't match";break;case"auth/network-request-failed":n+="A network error has occurred";break;case"auth/invalid-phone-number":n+=kn();break;case"auth/invalid-verification-code":n+=on("Wrong code. Try again.");break;case"auth/code-expired":n+="This code is no longer valid";break;case"auth/expired-action-code":n+="This code has expired.";break;case"auth/invalid-action-code":n+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(t=on(n).toString())return t;try{return JSON.parse(e.message),Gi("Internal error: "+e.message,void 0),Cn().toString()}catch(r){return e.message}}function ru(e,t,n,r){function i(){!function(e,t){Js(Hs,{tenantId:e.a},t)}(new is(e.h.tenantId||null),Sh(e)),Ah(e,t.I(C(e.dc,e),[c],(function(){if("file:"===(window.location&&window.location.protocol))return Ah(e,yh(e).then((function(n){t.m(),Ys(Hs,Sh(e)),co("callback",e,o,zr(n))}),s))}),a))}function s(r){if(Ys(Hs,Sh(e)),!r.name||"cancel"!=r.name)switch(r=Xl(r),r.code){case"auth/popup-blocked":i();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":t.a(tu(r));break;case"auth/admin-restricted-operation":t.m(),Da(Oh(e))?co("handleUnauthorizedUser",e,o,null,n):co("callback",e,o,qr(r));break;default:t.m(),co("callback",e,o,qr(r))}}function a(n){Ys(Hs,Sh(e)),n.name&&"cancel"==n.name||(Gi("signInWithRedirect: "+n.code,void 0),n=tu(n),"blank"==t.Ga&&za(Oh(e))?(t.m(),co("providerSignIn",e,o,n)):t.a(n))}var o=Lc(t),c=function(e,t,n){var r=Sa[t]&&Vk.auth[Sa[t]]?new Vk.auth[Sa[t]]:0==t.indexOf("saml.")?new Vk.auth.SAMLAuthProvider(t):new Vk.auth.OAuthProvider(t);if(!r)throw Error("Invalid Firebase Auth provider!");var i=Oa(Oh(e),t);if(r.addScope)for(var s=0;s<i.length;s++)r.addScope(i[s]);return i=La(Oh(e),t)||{},n&&(e=t==Vk.auth.GoogleAuthProvider.PROVIDER_ID?"login_hint":t==Vk.auth.GithubAuthProvider.PROVIDER_ID?"login":(e=Na(Oh(e),t))&&e.Ob)&&(i[e]=n),r.setCustomParameters&&r.setCustomParameters(i),r}(e,n,r);qa(Oh(e))==to?i():Ah(e,function(e,t){return Lh(e),xh(e,(function(n){return n&&!$s(Sh(e))?n.linkWithPopup(t).then((function(e){return e}),(function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return Fh(e,t)})):_h(e).signInWithPopup(t)}))}(e,c).then((function(n){t.m(),co("callback",e,o,zr(n))}),s))}function iu(e){return 1==(e=xa(Oh(e))).length&&e[0]==Vk.auth.EmailAuthProvider.PROVIDER_ID}function su(e){return 1==(e=xa(Oh(e))).length&&e[0]==Vk.auth.PhoneAuthProvider.PROVIDER_ID}function au(e,t,n,r){iu(e)?r?co("signIn",e,t,n,r):uu(e,t,n):e&&su(e)&&!r?co("phoneSignInStart",e,t):e&&za(Oh(e))&&!r?co("federatedRedirect",e,t,n):co("providerSignIn",e,t,r,n)}function ou(e,t,n,r){var i=Lc(t);Ah(e,t.I(C(_h(e).fetchSignInMethodsForEmail,_h(e)),[n],(function(s){t.m(),cu(e,i,s,n,r)}),(function(e){e=tu(e),t.a(e)})))}function cu(e,t,n,r,i,s){n.length||Ba(Oh(e))&&!Ba(Oh(e))?z(n,Vk.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?co("passwordSignIn",e,t,r,s):1==n.length&&n[0]===Vk.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Ba(Oh(e))?co("sendEmailLinkForSignIn",e,t,r,(function(){co("signIn",e,t)})):co("unsupportedProvider",e,t,r):(n=_a(n,xa(Oh(e))))?(ea(new ts(r),Sh(e)),co("federatedSignIn",e,t,r,n,i)):co("unsupportedProvider",e,t,r):Pa(Oh(e))?co("handleUnauthorizedUser",e,t,r,Vk.auth.EmailAuthProvider.PROVIDER_ID):Ba(Oh(e))?co("sendEmailLinkForSignIn",e,t,r,(function(){co("signIn",e,t)})):co("passwordSignUp",e,t,r,void 0,void 0,s)}function lu(e,t,n,r,i,s){var a=Lc(t);Ah(e,t.I(C(e.Ib,e),[n,s],(function(){t.m(),co("emailLinkSignInSent",e,a,n,r,s)}),i))}function uu(e,t,n){n?co("prefilledEmailSignIn",e,t,n):co("signIn",e,t)}function hu(){return be(ii(),"oobCode")}function du(){var e=be(ii(),"continueUrl");return e?function(){Ot(window.location,e)}:null}function fu(e,t){Oc.call(this,Jc,void 0,t,"anonymousUserMismatch"),this.i=e}function pu(e){Oc.call(this,qc,void 0,e,"callback")}function mu(e,t,n){if(n.user){var r={user:n.user,credential:n.credential,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},i=$s(Sh(e)),s=i&&i.g;if(s&&!function(e,t){if(t==e.email)return!0;if(e.providerData)for(var n=0;n<e.providerData.length;n++)if(t==e.providerData[n].email)return!0;return!1}(n.user,s))!function(e,t,n){var r=Lc(t);Ah(e,Uh(e).then((function(){t.m(),co("emailMismatch",e,r,n)}),(function(e){e.name&&"cancel"==e.name||(e=tu(e.code),t.a(e))})))}(e,t,r);else{var a=i&&i.a;a?Ah(e,n.user.linkWithCredential(a).then((function(n){r={user:n.user,credential:a,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},gu(e,t,r)}),(function(n){vu(e,t,n)}))):gu(e,t,r)}}else n=Lc(t),t.m(),Zs(Sh(e)),au(e,n)}function gu(e,t,n){Zs(Sh(e)),$l(e,t,n)}function vu(e,t,n){var r=Lc(t);Zs(Sh(e)),n=tu(n),t.m(),au(e,r,void 0,n)}function yu(e,t,n,r){var i=Lc(t);Ah(e,_h(e).fetchSignInMethodsForEmail(n).then((function(s){t.m(),s.length?z(s,Vk.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?co("passwordLinking",e,i,n):1==s.length&&s[0]===Vk.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?co("emailLinkSignInLinking",e,i,n):(s=_a(s,xa(Oh(e))))?co("federatedLinking",e,i,n,s,r):(Zs(Sh(e)),co("unsupportedProvider",e,i,n)):(Zs(Sh(e)),co("passwordRecovery",e,i,n,!1,xn().toString()))}),(function(n){vu(e,t,n)})))}function bu(e,t){Oc.call(this,Yc,void 0,t,"differentDeviceError"),this.i=e}function wu(e,t,n,r){Oc.call(this,al,{email:e,G:!!n},r,"emailChangeRevoke"),this.l=t,this.i=n||null}function _u(){return Yo(this,"firebaseui-id-new-password")}function Iu(){return Yo(this,"firebaseui-id-password-toggle")}function Su(){this.Ra=!this.Ra;var e=Iu.call(this),t=_u.call(this);this.Ra?(t.type="text",ho(e,"firebaseui-input-toggle-off"),fo(e,"firebaseui-input-toggle-on")):(t.type="password",ho(e,"firebaseui-input-toggle-on"),fo(e,"firebaseui-input-toggle-off")),t.focus()}function Eu(){return Yo(this,"firebaseui-id-new-password-error")}function ku(){this.Ra=!1;var e=_u.call(this);e.type="password";var t=Eu.call(this);Zo(this,e,(function(){ic(t)&&($o(e,!0),nc(t))}));var n=Iu.call(this);ho(n,"firebaseui-input-toggle-on"),fo(n,"firebaseui-input-toggle-off"),function(e,t,n){Mn(e,x(Un,t=new Eo(t))),No(Jo(e),t,"focusin",n)}(this,e,(function(){ho(n,"firebaseui-input-toggle-focus"),fo(n,"firebaseui-input-toggle-blur")})),function(e,t,n){Mn(e,x(Un,t=new Eo(t))),No(Jo(e),t,"focusout",n)}(this,e,(function(){ho(n,"firebaseui-input-toggle-blur"),fo(n,"firebaseui-input-toggle-focus")})),tc(this,n,C(Su,this))}function Tu(){var e=_u.call(this),t=Eu.call(this);return po(e)?($o(e,!0),nc(t),t=!0):($o(e,!1),rc(t,on("Enter your password").toString()),t=!1),t?po(e):null}function Cu(e,t,n){Oc.call(this,rl,{email:e},n,"passwordReset"),this.l=t}function xu(e,t,n,r,i){Oc.call(this,dl,{factorId:e,phoneNumber:n||null,G:!!r},i,"revertSecondFactorAdditionSuccess"),this.l=t,this.i=r||null}function Nu(e,t,n,r){"auth/weak-password"==(r&&r.code)?(e=tu(r),$o(n.i(),!1),rc(n.w(),e),n.i().focus()):(n&&n.m(),(n=new Wl).render(t),bh(e,n))}function Au(e,t){try{var n="number"==typeof e.selectionStart}catch(r){n=!1}n?(e.selectionStart=t,e.selectionEnd=t):$e&&!ht("9")&&("textarea"==e.type&&(t=e.value.substring(0,t).replace(/(\r\n|\r|\n)/g,"\n").length),(e=e.createTextRange()).collapse(!0),e.move("character",t),e.select())}function Ru(e,t,n,r,i,s){Oc.call(this,Qc,{email:n},s,"emailLinkSignInConfirmation",{F:r,D:i}),this.l=e,this.u=t}function Pu(e,t,n,r,i){Oc.call(this,Zc,{ga:e},i,"emailLinkSignInLinkingDifferentDevice",{F:n,D:r}),this.i=t}function Du(e){Oc.call(this,Gc,void 0,e,"blank")}function Ou(e,t,n,r,i){var s=new Du,a=new Ve(n),o=a.a.a.get(He.$a)||"",c=a.a.a.get(He.Sa)||"",l="1"===a.a.a.get(He.Qa),u=Be(a),h=a.a.a.get(He.PROVIDER_ID)||null;a=a.a.a.get(He.vb)||null,Dh(e,a);var d=!Qs(Ks,Sh(e)),f=r||function(e,t){var n=null;if(t=Qs(Ks,t))try{var r=Ts(e,t),i=JSON.parse(r);n=i&&i.email||null}catch(s){}return n}(c,Sh(e)),p=(r=function(e,t){var n=null;if(t=Qs(Ws,t))try{var r=Ts(e,t);n=JSON.parse(r)}catch(i){}return rs(n||null)}(c,Sh(e)))&&r.a;h&&p&&p.providerId!==h&&(p=null),s.render(t),bh(e,s),Ah(e,s.I((function(){var t=zr(null);t=u&&d||d&&l?qr(Error("anonymous-user-not-found")):function(e,t){var n=Be(new Ve(t));return n?(t=new Lr((function(t,r){var i=Ih(e).onAuthStateChanged((function(e){i(),e&&e.isAnonymous&&e.uid===n?t(e):e&&e.isAnonymous&&e.uid!==n?r(Error("anonymous-user-mismatch")):r(Error("anonymous-user-not-found"))}));Ah(e,i)})),Ah(e,t),t):zr(null)}(e,n).then((function(e){if(h&&!p)throw Error("pending-credential-not-found");return e}));var r=null;return t.then((function(t){return r=t,i?null:_h(e).checkActionCode(o)})).then((function(){return r}))}),[],(function(r){f?function(e,t,n,r,i,s){var a=Lc(t);t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",on("Signing in...").toString());var o=null;i=(s?function(e,t,n,r,i){Lh(e);var s=i||null,a=Vk.auth.EmailAuthProvider.credentialWithLink(n,r);return n=s?_h(e).signInWithEmailLink(n,r).then((function(e){return e.user.linkWithCredential(s)})).then((function(){return Uh(e)})).then((function(){return Fh(e,{code:"auth/email-already-in-use"},s)})):_h(e).fetchSignInMethodsForEmail(n).then((function(n){return n.length?Fh(e,{code:"auth/email-already-in-use"},a):t.linkWithCredential(a)})),Ah(e,n),n}(e,s,n,r,i):function(e,t,n,r){Lh(e);var i,s=r||null;return t=_h(e).signInWithEmailLink(t,n).then((function(e){if(i={user:e.user,credential:null,operationType:e.operationType,additionalUserInfo:e.additionalUserInfo},s)return e.user.linkWithCredential(s).then((function(e){i={user:e.user,credential:s,operationType:i.operationType,additionalUserInfo:e.additionalUserInfo}}))})).then((function(){Uh(e)})).then((function(){return Ih(e).updateCurrentUser(i.user)})).then((function(){return i.user=Ih(e).currentUser,i})),Ah(e,t),t}(e,n,r,i)).then((function(n){Ys(Ws,Sh(e)),Ys(Ks,Sh(e)),t.h(),t.$("firebaseui-icon-done",on("Signed in!").toString()),o=setTimeout((function(){t.h(),$l(e,t,n,!0)}),1e3),Ah(e,(function(){t&&(t.h(),t.m()),clearTimeout(o)}))}),(function(i){if(t.h(),t.m(),!i.name||"cancel"!=i.name){var s=tu(i=Xl(i));"auth/email-already-in-use"==i.code||"auth/credential-already-in-use"==i.code?(Ys(Ws,Sh(e)),Ys(Ks,Sh(e))):"auth/invalid-email"==i.code?(s=on("The email provided does not match the current sign-in session.").toString(),co("emailLinkConfirmation",e,a,r,Lu,null,s)):au(e,a,n,s)}})),Ah(e,i)}(e,s,f,n,p,r):l?(s.m(),co("differentDeviceError",e,t)):(s.m(),co("emailLinkConfirmation",e,t,n,Lu))}),(function(r){var i=void 0;if(!r||!r.name||"cancel"!=r.name)switch(s.m(),r&&r.message){case"anonymous-user-not-found":co("differentDeviceError",e,t);break;case"anonymous-user-mismatch":co("anonymousUserMismatch",e,t);break;case"pending-credential-not-found":co("emailLinkNewDeviceLinking",e,t,n,Mu);break;default:r&&(i=tu(r)),au(e,t,void 0,i)}})))}function Lu(e,t,n,r){Ou(e,t,r,n,!0)}function Mu(e,t,n){Ou(e,t,n)}function Uu(e,t,n,r,i,s){Oc.call(this,$c,{email:e,ga:t},s,"emailLinkSignInLinking",{F:r,D:i}),this.i=n}function Fu(e,t,n,r,i,s){Oc.call(this,Kc,{email:e},s,"emailLinkSignInSent",{F:r,D:i}),this.u=t,this.i=n}function ju(e,t,n,r,i,s,a){Oc.call(this,gl,{jc:e,Qb:t},a,"emailMismatch",{F:i,D:s}),this.l=n,this.i=r}function Vu(e,t,n,r,i){Oc.call(this,Wc,void 0,i,"emailNotReceived",{F:n,D:r}),this.l=e,this.i=t}function Bu(e,t,n,r,i,s){Oc.call(this,el,{email:e,ga:t},s,"federatedLinking",{F:r,D:i}),this.i=n}function zu(e,t,n,r,i,s){Oc.call(this,Bc,{email:n,Ta:!!t},s,"passwordRecovery",{F:r,D:i}),this.l=e,this.u=t}function qu(){return Yo(this,"firebaseui-id-name")}function Hu(){return Yo(this,"firebaseui-id-name-error")}function Gu(e,t,n,r,i,s,a,o,c){Oc.call(this,Vc,{email:r,Tb:e,name:i,Ta:!!n,ia:!!o},c,"passwordSignUp",{F:s,D:a}),this.w=t,this.H=n,this.B=e}function Ku(e,t){var n=Va(Oh(e)),r=t.j(),i=null;n&&(i=t.M());var s=t.P();if(r){if(n){if(!i)return void t.u().focus();i=ie(i)}if(s){var a=Vk.auth.EmailAuthProvider.credential(r,s);Ah(e,t.I(C(e.Yb,e),[r,s],(function(r){var s={user:r.user,credential:a,operationType:r.operationType,additionalUserInfo:r.additionalUserInfo};return n?(r=r.user.updateProfile({displayName:i}).then((function(){return $l(e,t,s)})),Ah(e,r),r):$l(e,t,s)}),(function(n){if(!n.name||"cancel"!=n.name){var i=Xl(n);switch(n=tu(i),i.code){case"auth/email-already-in-use":return function(e,t,n,r){function i(){var e=tu(r);$o(t.i(),!1),rc(t.U(),e),t.i().focus()}var s=_h(e).fetchSignInMethodsForEmail(n).then((function(r){r.length?i():(r=Lc(t),t.m(),co("passwordRecovery",e,r,n,!1,xn().toString()))}),(function(){i()}));return Ah(e,s),s}(e,t,r,i);case"auth/too-many-requests":n=on("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":$o(t.l(),!1),rc(t.ba(),n);break;case"auth/admin-restricted-operation":Da(Oh(e))?(n=Lc(t),t.m(),co("handleUnauthorizedUser",e,n,r,Vk.auth.EmailAuthProvider.PROVIDER_ID)):t.a(n);break;default:Gi(i="setAccountInfo: "+xs(i),void 0),t.a(n)}}})))}else t.l().focus()}else t.i().focus()}function Wu(){return Yo(this,"firebaseui-id-phone-confirmation-code")}function Qu(){return Yo(this,"firebaseui-id-phone-confirmation-code-error")}function Yu(){return Yo(this,"firebaseui-id-resend-countdown")}function Ju(e,t,n,r,i,s,a,o,c){Oc.call(this,bl,{phoneNumber:i},c,"phoneSignInFinish",{F:a,D:o}),this.jb=s,this.i=new ko(1e3),this.B=s,this.P=e,this.l=t,this.H=n,this.M=r}o(Ul,Oc),Ul.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),Mc(this,this.l(),this.i()),Uc(this,this.i(),this.w),po(this.l())?this.i().focus():this.l().focus(),Oc.prototype.v.call(this)},Ul.prototype.o=function(){this.H=this.w=null,Oc.prototype.o.call(this)},N(Ul.prototype,{l:Pl,U:Dl,P:Ol,M:Ll,j:Ml,i:Tl,B:Cl,ea:xl,u:Nl,ua:Sl,pa:El,ba:kl}),D(Fl,Oc),Fl.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),Fl.K.v.call(this)},Fl.prototype.o=function(){this.i=null,Fl.K.o.call(this)},N(Fl.prototype,{l:Sl,w:El,u:kl}),D(jl,Fl),D(Vl,Fl),D(Bl,Fl),D(zl,Fl),D(ql,Fl),D(Hl,Fl),D(Gl,Fl),D(Kl,Fl),D(Wl,Fl),D(Ql,Fl),D(Yl,Fl),D(Jl,Fl),o(fu,Oc),fu.prototype.v=function(){var e=this;tc(this,this.l(),(function(){e.i()})),this.l().focus(),Oc.prototype.v.call(this)},fu.prototype.o=function(){this.i=null,Oc.prototype.o.call(this)},N(fu.prototype,{l:El}),oo.anonymousUserMismatch=function(e,t){var n=new fu((function(){n.m(),au(e,t)}));n.render(t),bh(e,n)},o(pu,Oc),pu.prototype.I=function(e,t,n,r){return e.apply(null,t).then(n,r)},oo.callback=function(e,t,n){var r=new pu;r.render(t),bh(e,r),n=n||yh(e),Ah(e,n.then((function(t){mu(e,r,t)}),(function(n){if((n=Xl(n))&&("auth/account-exists-with-different-credential"==n.code||"auth/email-already-in-use"==n.code)&&n.email&&n.credential)ea(new ts(n.email,n.credential),Sh(e)),yu(e,r,n.email);else if(n&&"auth/user-cancelled"==n.code){var i=$s(Sh(e)),s=tu(n);i&&i.a?yu(e,r,i.g,s):i?ou(e,r,i.g,s):vu(e,r,n)}else n&&"auth/credential-already-in-use"==n.code||(n&&"auth/operation-not-supported-in-this-environment"==n.code&&iu(e)?mu(e,r,{user:null,credential:null}):n&&"auth/admin-restricted-operation"==n.code&&Da(Oh(e))?(r.m(),Zs(Sh(e)),co("handleUnauthorizedUser",e,t,null,null)):vu(e,r,n))})))},o(bu,Oc),bu.prototype.v=function(){var e=this;tc(this,this.l(),(function(){e.i()})),this.l().focus(),Oc.prototype.v.call(this)},bu.prototype.o=function(){this.i=null,Oc.prototype.o.call(this)},N(bu.prototype,{l:El}),oo.differentDeviceError=function(e,t){var n=new bu((function(){n.m(),au(e,t)}));n.render(t),bh(e,n)},o(wu,Oc),wu.prototype.v=function(){var e=this;tc(this,Yo(this,"firebaseui-id-reset-password-link"),(function(){e.l()})),this.i&&(this.w(this.i),this.u().focus()),Oc.prototype.v.call(this)},wu.prototype.o=function(){this.l=this.i=null,Oc.prototype.o.call(this)},N(wu.prototype,{u:Sl,B:El,w:kl}),o(Cu,Oc),Cu.prototype.v=function(){this.H(),this.B(this.l),Uc(this,this.i(),this.l),this.i().focus(),Oc.prototype.v.call(this)},Cu.prototype.o=function(){this.l=null,Oc.prototype.o.call(this)},N(Cu.prototype,{i:_u,w:Eu,M:Iu,H:ku,u:Tu,U:Sl,P:El,B:kl}),o(xu,Oc),xu.prototype.v=function(){var e=this;tc(this,Yo(this,"firebaseui-id-reset-password-link"),(function(){e.l()})),this.i&&(this.w(this.i),this.u().focus()),Oc.prototype.v.call(this)},xu.prototype.o=function(){this.l=this.i=null,Oc.prototype.o.call(this)},N(xu.prototype,{u:Sl,B:El,w:kl}),oo.passwordReset=function(e,t,n,r){Ah(e,_h(e).verifyPasswordResetCode(n).then((function(i){var s=new Cu(i,(function(){!function(e,t,n,r,i){var s=n.u();s&&Ah(e,n.I(C(_h(e).confirmPasswordReset,_h(e)),[r,s],(function(){n.m();var r=new Kl(i);r.render(t),bh(e,r)}),(function(r){Nu(e,t,n,r)})))}(e,t,s,n,r)}));s.render(t),bh(e,s)}),(function(){Nu(e,t)})))},oo.emailChangeRevocation=function(e,t,n){var r=null;Ah(e,_h(e).checkActionCode(n).then((function(t){return r=t.data.email,_h(e).applyActionCode(n)})).then((function(){!function(e,t,n){var r=new wu(n,(function(){Ah(e,r.I(C(_h(e).sendPasswordResetEmail,_h(e)),[n],(function(){r.m(),(r=new jl(n,void 0,Fa(Oh(e)),ja(Oh(e)))).render(t),bh(e,r)}),(function(){r.a(Tn().toString())})))}));r.render(t),bh(e,r)}(e,t,r)}),(function(){var n=new Ql;n.render(t),bh(e,n)})))},oo.emailVerification=function(e,t,n,r){Ah(e,_h(e).applyActionCode(n).then((function(){var n=new Vl(r);n.render(t),bh(e,n)}),(function(){var n=new Bl;n.render(t),bh(e,n)})))},oo.revertSecondFactorAddition=function(e,t,n){var r=null,i=null;Ah(e,_h(e).checkActionCode(n).then((function(t){return r=t.data.email,i=t.data.multiFactorInfo,_h(e).applyActionCode(n)})).then((function(){!function(e,t,n,r){var i=new xu(r.factorId,(function(){i.I(C(_h(e).sendPasswordResetEmail,_h(e)),[n],(function(){i.m(),(i=new jl(n,void 0,Fa(Oh(e)),ja(Oh(e)))).render(t),bh(e,i)}),(function(){i.a(Tn().toString())}))}),r.phoneNumber);i.render(t),bh(e,i)}(e,t,r,i)}),(function(){var n=new Hl;n.render(t),bh(e,n)})))},oo.verifyAndChangeEmail=function(e,t,n,r){var i=null;Ah(e,_h(e).checkActionCode(n).then((function(t){return i=t.data.email,_h(e).applyActionCode(n)})).then((function(){var n=new zl(i,r);n.render(t),bh(e,n)}),(function(){var n=new ql;n.render(t),bh(e,n)})))},o(Ru,Oc),Ru.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),Au(this.i(),(this.i().value||"").length),Oc.prototype.v.call(this)},Ru.prototype.o=function(){this.u=this.l=null,Oc.prototype.o.call(this)},N(Ru.prototype,{i:Pl,M:Dl,w:Ol,H:Ll,j:Ml,U:Sl,P:El,B:kl}),oo.emailLinkConfirmation=function(e,t,n,r,i,s){var a=new Ru((function(){var i=a.j();i?(a.m(),r(e,t,i,n)):a.i().focus()}),(function(){a.m(),au(e,t,i||void 0)}),i||void 0,Fa(Oh(e)),ja(Oh(e)));a.render(t),bh(e,a),s&&a.a(s)},o(Pu,Oc),Pu.prototype.v=function(){this.u(this.i),this.l().focus(),Oc.prototype.v.call(this)},Pu.prototype.o=function(){this.i=null,Oc.prototype.o.call(this)},N(Pu.prototype,{l:Sl,u:kl}),oo.emailLinkNewDeviceLinking=function(e,t,n,r){var i=new Ve(n);if(n=i.a.a.get(He.PROVIDER_ID)||null,ze(i,null),n){var s=new Pu(Na(Oh(e),n),(function(){s.m(),r(e,t,i.toString())}),Fa(Oh(e)),ja(Oh(e)));s.render(t),bh(e,s)}else au(e,t)},o(Du,Oc),oo.emailLinkSignInCallback=Ou,o(Uu,Oc),Uu.prototype.v=function(){this.u(this.i),this.l().focus(),Oc.prototype.v.call(this)},Uu.prototype.o=function(){this.i=null,Oc.prototype.o.call(this)},N(Uu.prototype,{l:Sl,u:kl}),oo.emailLinkSignInLinking=function(e,t,n){var r=$s(Sh(e));if(Zs(Sh(e)),r){var i=r.a.providerId,s=new Uu(n,Na(Oh(e),i),(function(){!function(e,t,n,r){var i=Lc(t);lu(e,t,n,(function(){au(e,i,n)}),(function(r){if(!r.name||"cancel"!=r.name){var s=tu(r);r&&"auth/network-request-failed"==r.code?t.a(s):(t.m(),au(e,i,n,s))}}),r)}(e,s,n,r)}),Fa(Oh(e)),ja(Oh(e)));s.render(t),bh(e,s)}else au(e,t)},o(Fu,Oc),Fu.prototype.v=function(){var e=this;tc(this,this.l(),(function(){e.i()})),tc(this,Yo(this,"firebaseui-id-trouble-getting-email-link"),(function(){e.u()})),this.l().focus(),Oc.prototype.v.call(this)},Fu.prototype.o=function(){this.i=this.u=null,Oc.prototype.o.call(this)},N(Fu.prototype,{l:El}),oo.emailLinkSignInSent=function(e,t,n,r,i){var s=new Fu(n,(function(){s.m(),co("emailNotReceived",e,t,n,r,i)}),(function(){s.m(),r()}),Fa(Oh(e)),ja(Oh(e)));s.render(t),bh(e,s)},o(ju,Oc),ju.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Oc.prototype.v.call(this)},ju.prototype.o=function(){this.i=null,Oc.prototype.o.call(this)},N(ju.prototype,{u:Sl,B:El,w:kl}),oo.emailMismatch=function(e,t,n){var r=$s(Sh(e));if(r){var i=new ju(n.user.email,r.g,(function(){var t=i;Zs(Sh(e)),$l(e,t,n)}),(function(){var t=n.credential.providerId,s=Lc(i);i.m(),r.a?co("federatedLinking",e,s,r.g,t):co("federatedSignIn",e,s,r.g,t)}),Fa(Oh(e)),ja(Oh(e)));i.render(t),bh(e,i)}else au(e,t)},o(Vu,Oc),Vu.prototype.v=function(){var e=this;tc(this,this.u(),(function(){e.i()})),tc(this,this.Da(),(function(){e.l()})),this.u().focus(),Oc.prototype.v.call(this)},Vu.prototype.Da=function(){return Yo(this,"firebaseui-id-resend-email-link")},Vu.prototype.o=function(){this.i=this.l=null,Oc.prototype.o.call(this)},N(Vu.prototype,{u:El}),oo.emailNotReceived=function(e,t,n,r,i){var s=new Vu((function(){lu(e,s,n,r,(function(e){e=tu(e),s.a(e)}),i)}),(function(){s.m(),au(e,t,n)}),Fa(Oh(e)),ja(Oh(e)));s.render(t),bh(e,s)},o(Bu,Oc),Bu.prototype.v=function(){this.u(this.i),this.l().focus(),Oc.prototype.v.call(this)},Bu.prototype.o=function(){this.i=null,Oc.prototype.o.call(this)},N(Bu.prototype,{l:Sl,u:kl}),oo.federatedLinking=function(e,t,n,r,i){var s=$s(Sh(e));if(s&&s.a){var a=new Bu(n,Na(Oh(e),r),(function(){ru(e,a,r,n)}),Fa(Oh(e)),ja(Oh(e)));a.render(t),bh(e,a),i&&a.a(i)}else au(e,t)},oo.federatedRedirect=function(e,t,n){var r=new Du;r.render(t),bh(e,r),ru(e,r,t=xa(Oh(e))[0],n)},oo.federatedSignIn=function(e,t,n,r,i){var s=new Bu(n,Na(Oh(e),r),(function(){ru(e,s,r,n)}),Fa(Oh(e)),ja(Oh(e)));s.render(t),bh(e,s),i&&s.a(i)},oo.passwordLinking=function(e,t,n){var r=$s(Sh(e));Zs(Sh(e));var i=r&&r.a;if(i){var s=new Al(n,(function(){!function(e,t,n,r){var i=t.u();i?Ah(e,t.I(C(e.Xb,e),[n,i],(function(n){return n=n.user.linkWithCredential(r).then((function(n){return $l(e,t,{user:n.user,credential:r,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})})),Ah(e,n),n}),(function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/wrong-password":$o(t.i(),!1),rc(t.B(),tu(e));break;case"auth/too-many-requests":t.a(tu(e));break;default:Gi("signInWithEmailAndPassword: "+e.message,void 0),t.a(tu(e))}}))):t.i().focus()}(e,s,n,i)}),(function(){s.m(),co("passwordRecovery",e,t,n)}),Fa(Oh(e)),ja(Oh(e)));s.render(t),bh(e,s)}else au(e,t)},o(zu,Oc),zu.prototype.v=function(){this.B(),this.H(this.l,this.u),po(this.i())||this.i().focus(),Uc(this,this.i(),this.l),Oc.prototype.v.call(this)},zu.prototype.o=function(){this.u=this.l=null,Oc.prototype.o.call(this)},N(zu.prototype,{i:Pl,w:Dl,B:Ol,M:Ll,j:Ml,U:Sl,P:El,H:kl}),oo.passwordRecovery=function(e,t,n,r,i){var s=new zu((function(){!function(e,t){var n=t.j();if(n){var r=Lc(t);Ah(e,t.I(C(_h(e).sendPasswordResetEmail,_h(e)),[n],(function(){t.m();var i=new jl(n,(function(){i.m(),au(e,r)}),Fa(Oh(e)),ja(Oh(e)));i.render(r),bh(e,i)}),(function(e){$o(t.i(),!1),rc(t.w(),tu(e))})))}else t.i().focus()}(e,s)}),r?void 0:function(){s.m(),au(e,t)},n,Fa(Oh(e)),ja(Oh(e)));s.render(t),bh(e,s),i&&s.a(i)},oo.passwordSignIn=function(e,t,n,r){var i=new Ul((function(){!function(e,t){var n=t.j(),r=t.u();if(n)if(r){var i=Vk.auth.EmailAuthProvider.credential(n,r);Ah(e,t.I(C(e.bc,e),[n,r],(function(n){return $l(e,t,{user:n.user,credential:i,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})}),(function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/email-already-in-use":break;case"auth/email-exists":$o(t.l(),!1),rc(t.U(),tu(e));break;case"auth/too-many-requests":case"auth/wrong-password":$o(t.i(),!1),rc(t.B(),tu(e));break;default:Gi("verifyPassword: "+e.message,void 0),t.a(tu(e))}})))}else t.i().focus();else t.l().focus()}(e,i)}),(function(){var n=i.M();i.m(),co("passwordRecovery",e,t,n)}),n,Fa(Oh(e)),ja(Oh(e)),r);i.render(t),bh(e,i)},o(Gu,Oc),Gu.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(Mc(this,this.i(),this.u()),Mc(this,this.u(),this.l())):Mc(this,this.i(),this.l()),this.w&&Uc(this,this.l(),this.w),po(this.i())?this.B&&!po(this.u())?this.u().focus():this.l().focus():this.i().focus(),Oc.prototype.v.call(this)},Gu.prototype.o=function(){this.H=this.w=null,Oc.prototype.o.call(this)},N(Gu.prototype,{i:Pl,U:Dl,ea:Ol,jb:Ll,j:Ml,u:qu,Bc:Hu,Ja:function(){var e=qu.call(this),t=Hu.call(this);Zo(this,e,(function(){ic(t)&&($o(e,!0),nc(t))}))},M:function(){var e=qu.call(this),t=Hu.call(this),n=po(e);return $o(e,n=!/^[\s\xa0]*$/.test(null==n?"":String(n))),n?(nc(t),t=!0):(rc(t,on("Enter your account name").toString()),t=!1),t?Y(po(e)):null},l:_u,ba:Eu,lb:Iu,ua:ku,P:Tu,Nb:Sl,Mb:El,pa:kl}),oo.passwordSignUp=function(e,t,n,r,i,s){var a=new Gu(Va(Oh(e)),(function(){Ku(e,a)}),i?void 0:function(){a.m(),au(e,t)},n,r,Fa(Oh(e)),ja(Oh(e)),s);a.render(t),bh(e,a)},o(Ju,Oc),Ju.prototype.v=function(){var e=this;this.U(this.jb),er(this.i,"tick",this.w,!1,this),this.i.start(),tc(this,Yo(this,"firebaseui-id-change-phone-number-link"),(function(){e.P()})),tc(this,this.Da(),(function(){e.M()})),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),Oc.prototype.v.call(this)},Ju.prototype.o=function(){this.M=this.H=this.l=this.P=null,To(this.i),rr(this.i,"tick",this.w),this.i=null,Oc.prototype.o.call(this)},Ju.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(To(this.i),rr(this.i,"tick",this.w),this.ua(),this.lb())},N(Ju.prototype,{u:Wu,pa:Qu,Ja:function(e){var t=Wu.call(this),n=Qu.call(this);Zo(this,t,(function(){ic(n)&&($o(t,!0),nc(n))})),e&&ec(this,t,(function(){e()}))},ba:function(){var e=Y(po(Wu.call(this))||"");return/^\d{6}$/.test(e)?e:null},Fb:Yu,U:function(e){Gt(Yu.call(this),on("Resend code in "+(9<e?"0:":"0:0")+e).toString())},ua:function(){nc(this.Fb())},Da:function(){return Yo(this,"firebaseui-id-resend-link")},lb:function(){rc(this.Da())},Nb:Sl,Mb:El,ea:kl}),oo.phoneSignInFinish=function(e,t,n,r,i,s){var a=new Ju((function(){a.m(),co("phoneSignInStart",e,t,n)}),(function(){!function(e,t,n,r){function i(e){t.u().focus(),$o(t.u(),!1),rc(t.pa(),e)}var s=t.ba();s?(t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",on("Verifying...").toString()),Ah(e,t.I(C(r.confirm,r),[s],(function(n){t.h(),t.$("firebaseui-icon-done",on("Verified!").toString());var r=setTimeout((function(){t.h(),t.m();var r={user:Ih(e).currentUser,credential:null,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo};$l(e,t,r,!0)}),1e3);Ah(e,(function(){t&&t.h(),clearTimeout(r)}))}),(function(r){if(r.name&&"cancel"==r.name)t.h();else{var s=Xl(r);switch(r=tu(s),s.code){case"auth/credential-already-in-use":t.h();break;case"auth/code-expired":s=Lc(t),t.h(),t.m(),co("phoneSignInStart",e,s,n,r);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":t.h(),i(r);break;default:t.h(),t.a(r)}}})))):i(on("Wrong code. Try again.").toString())}(e,a,n,i)}),(function(){a.m(),au(e,t)}),(function(){a.m(),co("phoneSignInStart",e,t,n)}),wa(n),r,Fa(Oh(e)),ja(Oh(e)));a.render(t),bh(e,a),s&&a.a(s)};var Xu=!$e&&!(We("Safari")&&!(Qe()||We("Coast")||We("Opera")||We("Edge")||We("Firefox")||We("FxiOS")||We("Silk")||We("Android")));function $u(e,t){return/-[a-z]/.test(t)?null:Xu&&e.dataset?!We("Android")||Qe()||We("Firefox")||We("FxiOS")||We("Opera")||We("Silk")||t in e.dataset?void 0===(e=e.dataset[t])?null:e:null:e.getAttribute("data-"+String(t).replace(/([A-Z])/g,"-$1").toLowerCase())}function Zu(e,t,n){var r=this;e=Zt(bc,{items:e},null,this.s),Tc.call(this,e,!0,!0),n&&(n=function(e,t){e=(e||document).getElementsByTagName("BUTTON");for(var n=0;n<e.length;n++)if($u(e[n],"listboxid")===t)return e[n];return null}(e,n))&&(n.focus(),function(e,t){var n=(t=t||zt(document))||zt(document),r=Ho(e),i=Ho(n);if(!$e||9<=Number(lt)){a=zo(n,"borderLeftWidth");var s=zo(n,"borderRightWidth");o=zo(n,"borderTopWidth"),c=zo(n,"borderBottomWidth"),s=new Bo(parseFloat(o),parseFloat(s),parseFloat(c),parseFloat(a))}else{var a=Ko(n,"borderLeft");s=Ko(n,"borderRight");var o=Ko(n,"borderTop"),c=Ko(n,"borderBottom");s=new Bo(o,s,c,a)}n==zt(document)?(a=r.a-n.scrollLeft,r=r.g-n.scrollTop,!$e||10<=Number(lt)||(a+=s.left,r+=s.top)):(a=r.a-i.a-s.left,r=r.g-i.g-s.top),i=e.offsetWidth,s=e.offsetHeight,o=nt&&!i&&!s,e=d(i)&&!o||!e.getBoundingClientRect?new Mt(i,s):new Mt((e=qo(e)).right-e.left,e.bottom-e.top),i=n.clientHeight-e.height,s=n.scrollLeft,o=n.scrollTop,n=new Lt(s+=Math.min(a,Math.max(a-(n.clientWidth-e.width),0)),o+=Math.min(r,Math.max(r-i,0))),t.scrollLeft=n.a,t.scrollTop=n.g}(n,e)),tc(this,e,(function(e){(e=(e=Kt(e.target,"firebaseui-id-list-box-dialog-button"))&&$u(e,"listboxid"))&&(Cc.call(r),t(e))}))}function eh(){return Yo(this,"firebaseui-id-phone-number")}function th(){return Yo(this,"firebaseui-id-country-selector")}function nh(){return Yo(this,"firebaseui-id-phone-number-error")}function rh(e,t){var n=e.a,r=ih("1-US-0",n),i=null;if(!(i=t&&ih(t,n)?t:r?"1-US-0":0<n.length?n[0].c:null))throw Error("No available default country");oh.call(this,i,e)}function ih(e,t){return!(!(e=da(e))||!z(t,e))}function sh(e){return"firebaseui-flag-"+e.f}function ah(e){var t=this;Zu.call(this,function(e){return e.map((function(e){return{id:e.c,Ma:"firebaseui-flag "+sh(e),label:e.name+" \u200e+"+e.b}}))}(e.a),(function(n){oh.call(t,n,e,!0),t.O().focus()}),this.Ba)}function oh(e,t,n){var r=da(e);r&&(n&&((t=ha(t,n=Y(po(eh.call(this))||""))).length&&t[0].b!=r.b&&(n="+"+r.b+n.substr(t[0].b.length+1),go(eh.call(this),n))),t=da(this.Ba),this.Ba=e,e=Yo(this,"firebaseui-id-country-selector-flag"),t&&fo(e,sh(t)),ho(e,sh(r)),Gt(Yo(this,"firebaseui-id-country-selector-code"),"\u200e+"+r.b))}function ch(e,t,n,r,i,s,a,o,c,l){Oc.call(this,yl,{Gb:t,Aa:c||null,Va:!!n,ia:!!s},l,"phoneSignInStart",{F:r,D:i}),this.H=o||null,this.M=t,this.l=e,this.w=n||null,this.pa=a||null}function lh(e,t,n,r){try{var i=t.U(Ja)}catch(s){return}i?Qa?(t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",on("Verifying...").toString()),Ah(e,t.I(C(e.cc,e),[wa(i),n],(function(n){var r=Lc(t);t.$("firebaseui-icon-done",on("Code sent!").toString());var s=setTimeout((function(){t.h(),t.m(),co("phoneSignInFinish",e,r,i,15,n)}),1e3);Ah(e,(function(){t&&t.h(),clearTimeout(s)}))}),(function(n){if(t.h(),!n.name||"cancel"!=n.name){grecaptcha.reset(Xa),Qa=null;var r=n&&n.message||"";if(n.code)switch(n.code){case"auth/too-many-requests":r=on("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":return t.O().focus(),void rc(t.B(),kn().toString());case"auth/admin-restricted-operation":if(Da(Oh(e)))return n=Lc(t),t.m(),void co("handleUnauthorizedUser",e,n,wa(i),Vk.auth.PhoneAuthProvider.PROVIDER_ID);r=tu(n);break;default:r=tu(n)}t.a(r)}})))):Ya?rc(t.u(),on("Solve the reCAPTCHA").toString()):!Ya&&r&&t.i().click():(t.O().focus(),rc(t.B(),kn().toString()))}function uh(e,t,n,r,i){Oc.call(this,vl,{Sb:t},i,"providerSignIn",{F:n,D:r}),this.i=e}function hh(e,t,n,r,i,s,a){Oc.call(this,Fc,{email:n,Va:!!t,ia:!!s},a,"signIn",{F:r,D:i}),this.i=e,this.u=t}function dh(e,t,n,r,i,s,a){Oc.call(this,tl,{kc:e,yb:n,Eb:!!r},a,"unauthorizedUser",{F:i,D:s}),this.l=t,this.i=r}function fh(e,t,n,r,i,s){Oc.call(this,nl,{email:e},s,"unsupportedProvider",{F:r,D:i}),this.l=t,this.i=n}function ph(e,t){this.$=!1;var n=vh(t);if(gh[n])throw Error('An AuthUI instance already exists for the key "'+n+'"');gh[n]=this,this.a=e,this.u=null,this.Y=!1,mh(this.a),this.h=Vk.initializeApp({apiKey:e.app.options.apiKey,authDomain:e.app.options.authDomain},e.app.name+"-firebaseui-temp").auth(),(e=e.emulatorConfig)&&(n=e.port,this.h.useEmulator(e.protocol+"://"+e.host+(null===n?"":":"+n),e.options)),mh(this.h),this.h.setPersistence&&this.h.setPersistence(Vk.auth.Auth.Persistence.SESSION),this.oa=t,this.ca=new Ea,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=Ii.Xa(),this.j=this.C=null,this.da=this.A=!1}function mh(e){e&&e.INTERNAL&&e.INTERNAL.logFramework&&e.INTERNAL.logFramework("FirebaseUI-web")}o(ch,Oc),ch.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||Mc(this,this.O(),this.i()),Uc(this,this.i(),this.l),this.O().focus(),Au(this.O(),(this.O().value||"").length),Oc.prototype.v.call(this)},ch.prototype.o=function(){this.w=this.l=null,Oc.prototype.o.call(this)},N(ch.prototype,{Cb:xc,O:eh,B:nh,ea:function(e,t,n){var r=this,i=eh.call(this),s=th.call(this),a=nh.call(this),o=e||va,c=o.a;if(0==c.length)throw Error("No available countries provided.");rh.call(r,o,t),tc(this,s,(function(){ah.call(r,o)})),Zo(this,i,(function(){ic(a)&&($o(i,!0),nc(a));var e=Y(po(i)||""),t=da(this.Ba),n=ha(o,e);e=ih("1-US-0",c),n.length&&n[0].b!=t.b&&(t=n[0],oh.call(r,"1"==t.b&&e?"1-US-0":t.c,o))})),n&&ec(this,i,(function(){n()}))},U:function(e){var t=Y(po(eh.call(this))||""),n=(e=e||va).a,r=ha(va,t);if(r.length&&!z(n,r[0]))throw go(eh.call(this)),eh.call(this).focus(),rc(nh.call(this),on("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return n=da(this.Ba),r.length&&r[0].b!=n.b&&oh.call(this,r[0].c,e),r.length&&(t=t.substr(r[0].b.length+1)),t?new ya(this.Ba,t):null},Ja:th,ba:function(){return Yo(this,"firebaseui-recaptcha-container")},u:function(){return Yo(this,"firebaseui-id-recaptcha-error")},i:Sl,ua:El,P:kl}),oo.phoneSignInStart=function(e,t,n,r){var i=function(e){var t=null;if(Ta(e).forEach((function(e){e.provider==Vk.auth.PhoneAuthProvider.PROVIDER_ID&&I(e.recaptchaParameters)&&!Array.isArray(e.recaptchaParameters)&&(t=ae(e.recaptchaParameters))})),t){var n=[];ao.forEach((function(e){"undefined"!==typeof t[e]&&(n.push(e),delete t[e])})),n.length&&Yi('The following provided "recaptchaParameters" keys are not allowed: '+n.join(", "))}return t}(Oh(e))||{};Qa=null,Ya=!(i&&"invisible"===i.size);var s=su(e),a=function(e){var t=(e=Ca(e,Vk.auth.PhoneAuthProvider.PROVIDER_ID))&&e.defaultCountry||null;t=t&&fa(t);var n=null;return e&&"string"===typeof e.loginHint&&(n=ba(e.loginHint)),t&&t[0]||n&&da(n.a)||null}(Oh(e)),o=s?function(e){var t=null;return(e=Ca(e,Vk.auth.PhoneAuthProvider.PROVIDER_ID))&&"string"===typeof e.loginHint&&(t=ba(e.loginHint)),e&&e.defaultNationalNumber||t&&t.Aa||null}(Oh(e)):null;a=n&&n.a||a&&a.c||null,n=n&&n.Aa||o,(o=Ma(Oh(e)))&&ma(o),Ja=o?new ua(Ma(Oh(e))):va;var c=new ch((function(t){lh(e,c,l,!(!t||!t.keyCode))}),Ya,s?null:function(){l.clear(),c.m(),au(e,t)},Fa(Oh(e)),ja(Oh(e)),s,Ja,a,n);c.render(t),bh(e,c),r&&c.a(r),i.callback=function(t){c.u()&&nc(c.u()),Qa=t,Ya||lh(e,c,l)},i["expired-callback"]=function(){Qa=null};var l=new Vk.auth.RecaptchaVerifier(Ya?c.ba():c.i(),i,Ih(e).app);Ah(e,c.I(C(l.render,l),[],(function(e){Xa=e}),(function(n){n.name&&"cancel"==n.name||(n=tu(n),c.m(),au(e,t,void 0,n))})))},oo.prefilledEmailSignIn=function(e,t,n){var r=new Du;r.render(t),bh(e,r),Ah(e,r.I(C(_h(e).fetchSignInMethodsForEmail,_h(e)),[n],(function(i){r.m();var s=!(!iu(e)||!Eh(e));cu(e,t,i,n,void 0,s)}),(function(i){i=tu(i),r.m(),co("signIn",e,t,n,i)})))},o(uh,Oc),uh.prototype.v=function(){this.l(this.i),Oc.prototype.v.call(this)},uh.prototype.o=function(){this.i=null,Oc.prototype.o.call(this)},N(uh.prototype,{l:function(e){function t(t){e(t)}for(var n=this.g?Ft("firebaseui-id-idp-button",this.g||this.s.a):[],r=0;r<n.length;r++){var i=n[r];tc(this,i,x(t,$u(i,"providerId")))}}}),oo.providerSignIn=function(e,t,n,r){var i=new uh((function(n){n==Vk.auth.EmailAuthProvider.PROVIDER_ID?(i.m(),uu(e,t,r)):n==Vk.auth.PhoneAuthProvider.PROVIDER_ID?(i.m(),co("phoneSignInStart",e,t)):"anonymous"==n?function(e,t){Ah(e,t.I(C(e.$b,e),[],(function(n){return t.m(),$l(e,t,n,!0)}),(function(e){e.name&&"cancel"==e.name||(Gi("ContinueAsGuest: "+e.code,void 0),e=tu(e),t.a(e))})))}(e,i):ru(e,i,n,r),Lh(e),e.l.cancel()}),Aa(Oh(e)),Fa(Oh(e)),ja(Oh(e)));i.render(t),bh(e,i),n&&i.a(n),function(e){Lh(e);try{Si(e.l,Ra(Oh(e)),function(e){var t;return Lh(e),(t=e.Z)||(e=Oh(e),e=La(e,Vk.auth.GoogleAuthProvider.PROVIDER_ID),t=!(!e||"select_account"!==e.prompt)),t}(e)).then((function(t){return!!e.g&&function(e,t,n){if(n&&n.credential&&n.clientId===Ra(Oh(e))){if(Oa(Oh(e),Vk.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var r=JSON.parse(atob(n.credential.split(".")[1])).email}catch(i){}return ru(e,t,Vk.auth.GoogleAuthProvider.PROVIDER_ID,r),zr(!0)}return function(n){var r=!1;return n=t.I(C(e.ac,e),[n],(function(n){var i=Lc(t);t.m(),co("callback",e,i,zr(n)),r=!0}),(function(n){if((!n.name||"cancel"!=n.name)&&(!n||"auth/credential-already-in-use"!=n.code))if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential){var r=Lc(t);t.m(),co("callback",e,r,qr(n))}else n&&"auth/admin-restricted-operation"==n.code&&Da(Oh(e))?(n=Lc(t),t.m(),co("handleUnauthorizedUser",e,n,null,Vk.auth.GoogleAuthProvider.PROVIDER_ID)):(n=tu(n),t.a(n))})),Ah(e,n),n.then((function(){return r}),(function(){return!1}))}(Vk.auth.GoogleAuthProvider.credential(n.credential))}return n&&t.a(on("The selected credential for the authentication provider is not supported!").toString()),zr(!1)}(e,e.g,t)}))}catch(t){}}(e)},oo.sendEmailLinkForSignIn=function(e,t,n,r){var i=new pu;i.render(t),bh(e,i),lu(e,i,n,r,(function(r){i.m(),r&&"auth/admin-restricted-operation"==r.code&&Da(Oh(e))?co("handleUnauthorizedUser",e,t,n,Vk.auth.EmailAuthProvider.PROVIDER_ID):(r=tu(r),co("signIn",e,t,n,r))}))},o(hh,Oc),hh.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),Au(this.l(),(this.l().value||"").length),Oc.prototype.v.call(this)},hh.prototype.o=function(){this.u=this.i=null,Oc.prototype.o.call(this)},N(hh.prototype,{l:Pl,M:Dl,w:Ol,H:Ll,j:Ml,U:Sl,P:El,B:kl}),oo.signIn=function(e,t,n,r){var i=iu(e),s=new hh((function(){var t=s,n=t.j()||"";n&&ou(e,t,n)}),i?null:function(){s.m(),au(e,t,n)},n,Fa(Oh(e)),ja(Oh(e)),i);s.render(t),bh(e,s),r&&s.a(r)},o(dh,Oc),dh.prototype.v=function(){var e=this,t=Yo(this,"firebaseui-id-unauthorized-user-help-link");this.i&&t&&tc(this,t,(function(){e.i()})),tc(this,this.u(),(function(){e.l()})),this.u().focus(),Oc.prototype.v.call(this)},dh.prototype.o=function(){this.i=this.l=null,Oc.prototype.o.call(this)},N(dh.prototype,{u:El}),oo.handleUnauthorizedUser=function(e,t,n,r){function i(){au(e,t)}r===Vk.auth.EmailAuthProvider.PROVIDER_ID?i=function(){uu(e,t)}:r===Vk.auth.PhoneAuthProvider.PROVIDER_ID&&(i=function(){co("phoneSignInStart",e,t)});var s=null,a=null;r===Vk.auth.EmailAuthProvider.PROVIDER_ID&&Pa(Oh(e))?(s=function(e){return(e=Ca(e,Vk.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp&&e.disableSignUp.adminEmail||null}(Oh(e)),a=function(e){if((e=Ca(e,Vk.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp){var t=e.disableSignUp.helpLink||null;if(t&&"string"===typeof t)return function(){ni(t)}}return null}(Oh(e))):Da(Oh(e))&&(s=function(e){return(e=e.a.get("adminRestrictedOperation"))&&e.adminEmail?e.adminEmail:null}(Oh(e)),a=function(e){if(e=e.a.get("adminRestrictedOperation")||null){var t=e.helpLink||null;if(t&&"string"===typeof t)return function(){ni(t)}}return null}(Oh(e)));var o=new dh(n,(function(){o.m(),i()}),s,a,Fa(Oh(e)),ja(Oh(e)));o.render(t),bh(e,o)},o(fh,Oc),fh.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Oc.prototype.v.call(this)},fh.prototype.o=function(){this.i=this.l=null,Oc.prototype.o.call(this)},N(fh.prototype,{u:Sl,B:El,w:kl}),oo.unsupportedProvider=function(e,t,n){var r=new fh(n,(function(){r.m(),co("passwordRecovery",e,t,n)}),(function(){r.m(),au(e,t,n)}),Fa(Oh(e)),ja(Oh(e)));r.render(t),bh(e,r)};var gh={};function vh(e){return e||"[DEFAULT]"}function yh(e){return Lh(e),e.i||(e.i=xh(e,(function(t){return t&&!$s(Sh(e))?zr(Ih(e).getRedirectResult().then((function(e){return e}),(function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return Fh(e,t)}))):zr(_h(e).getRedirectResult().then((function(t){return ka(Oh(e))&&!t.user&&e.j&&!e.j.isAnonymous?Ih(e).getRedirectResult():t})))}))),e.i}function bh(e,t){Lh(e),e.g=t}var wh=null;function _h(e){return Lh(e),e.h}function Ih(e){return Lh(e),e.a}function Sh(e){return Lh(e),e.oa}function Eh(e){return Lh(e),e.O?e.O.emailHint:void 0}function kh(e){return"signIn"===((e=new Ve(e)).a.a.get(He.ub)||null)&&!!e.a.a.get(He.$a)}function Th(e,t,n,r){Lh(e),"undefined"!==typeof e.a.languageCode&&(e.u=e.a.languageCode);var i="en".replace(/_/g,"-");e.a.languageCode=i,e.h.languageCode=i,e.Y=!0,"undefined"!==typeof e.a.tenantId&&(e.h.tenantId=e.a.tenantId),e.ib(n),e.O=r||null;var s=h.document;e.C?e.C.then((function(){"complete"==s.readyState?Ch(e,t):nr(window,"load",(function(){Ch(e,t)}))})):"complete"==s.readyState?Ch(e,t):nr(window,"load",(function(){Ch(e,t)}))}function Ch(e,t){var n=ri(t,"Could not find the FirebaseUI widget element on the page.");if(n.setAttribute("lang","en".replace(/_/g,"-")),wh){var r=wh;Lh(r),$s(Sh(r))&&Yi("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),wh.reset()}if(wh=e,e.T=n,function(e,t){e.L=null,e.J=new wr(t),e.J.register(),er(e.J,"pageEnter",(function(t){if(t=t&&t.pageId,e.L!=t){var n=Oh(e);(n=Wa(n).uiChanged||null)&&n(e.L,t),e.L=t}}))}(e,n),Us(new Fs)&&Us(new js)){t=ri(t,"Could not find the FirebaseUI widget element on the page."),n=(n=be(n=ii(),r=sa(Oh(e).a,"queryParameterForSignInSuccessUrl")))?wt(It(n)).toString():null;e:{r=ii();var i=Ua(Oh(e));for(s in r=be(r,i)||"",ro)if(ro[s].toLowerCase()==r.toLowerCase()){var s=ro[s];break e}s="callback"}switch(s){case"callback":n&&(s=Sh(e),Js(Gs,n,s)),e.nb()?co("callback",e,t):au(e,t,Eh(e));break;case"resetPassword":co("passwordReset",e,t,hu(),du());break;case"recoverEmail":co("emailChangeRevocation",e,t,hu());break;case"revertSecondFactorAddition":co("revertSecondFactorAddition",e,t,hu());break;case"verifyEmail":co("emailVerification",e,t,hu(),du());break;case"verifyAndChangeEmail":co("verifyAndChangeEmail",e,t,hu(),du());break;case"signIn":co("emailLinkSignInCallback",e,t,ii()),Mh();break;case"select":n&&(s=Sh(e),Js(Gs,n,s)),au(e,t);break;default:throw Error("Unhandled widget operation.")}(t=Wa(t=Oh(e)).uiShown||null)&&t()}else t=ri(t,"Could not find the FirebaseUI widget element on the page."),(s=new Jl(on("The browser you are using does not support Web Storage. Please try again in a different browser.").toString())).render(t),bh(e,s);t=e.g&&"blank"==e.g.Ga&&za(Oh(e)),ta(Sh(e))&&!t&&(Dh(e,(t=ta(Sh(e))).a),Ys(Hs,Sh(e)))}function xh(e,t){if(e.A)return t(Nh(e));if(Ah(e,(function(){e.A=!1})),ka(Oh(e))){var n=new Lr((function(n){Ah(e,e.a.onAuthStateChanged((function(r){e.j=r,e.A||(e.A=!0,n(t(Nh(e))))})))}));return Ah(e,n),n}return e.A=!0,t(null)}function Nh(e){return Lh(e),ka(Oh(e))&&e.j&&e.j.isAnonymous?e.j:null}function Ah(e,t){if(Lh(e),t){e.s.push(t);var n=function(){G(e.s,(function(e){return e==t}))};"function"!=typeof t&&t.then(n,n)}}function Ph(e){"undefined"!==typeof e.a.languageCode&&e.Y&&(e.Y=!1,e.a.languageCode=e.u)}function Dh(e,t){e.a.tenantId=t,e.h.tenantId=t}function Oh(e){return Lh(e),e.ca}function Lh(e){if(e.$)throw Error("AuthUI instance is deleted!")}function Mh(){var e=ii();if(kh(e)){for(var t in e=new Ve(e),He)He.hasOwnProperty(t)&&Me(e.a.a,He[t]);t={state:"signIn",mode:"emailLink",operation:"clear"};var n=h.document.title;h.history&&h.history.replaceState&&h.history.replaceState(t,n,e.toString())}}function Uh(e){return Lh(e),_h(e).signOut()}function Fh(e,t,n){if(Lh(e),t&&t.code&&("auth/email-already-in-use"==t.code||"auth/credential-already-in-use"==t.code)){var r=Ka(Oh(e));return zr().then((function(){return r(new Rn("anonymous-upgrade-merge-conflict",null,n||t.credential))})).then((function(){throw e.g&&(e.g.m(),e.g=null),t}))}return qr(t)}function jh(e,t,n,r){Oc.call(this,Il,void 0,r,"providerMatchByEmail",{F:t,D:n}),this.i=e}function Vh(e,t,n,r,i){Oc.call(this,_l,{ec:t},i,"selectTenant",{F:n,D:r}),this.i=e}function Bh(e){Oc.call(this,Hc,void 0,e,"spinner")}function zh(e){for(var t in this.a=new na,ra(this.a,"authDomain"),ra(this.a,"displayMode",Jh),ra(this.a,"tenants"),ra(this.a,"callbacks"),ra(this.a,"tosUrl"),ra(this.a,"privacyPolicyUrl"),e)if(e.hasOwnProperty(t))try{ia(this.a,t,e[t])}catch(n){Gi('Invalid config: "'+t+'"',void 0)}}function qh(e){return e.a.get("callbacks")||{}}function Hh(e){var t=e.a.get("tosUrl")||null;if(e=e.a.get("privacyPolicyUrl")||null,t&&!e&&Yi("Privacy Policy URL is missing, the link will not be displayed."),t&&e){if("function"===typeof t)return t;if("string"===typeof t)return function(){ni(t)}}return null}function Gh(e){var t=e.a.get("tosUrl")||null,n=e.a.get("privacyPolicyUrl")||null;if(n&&!t&&Yi("Terms of Service URL is missing, the link will not be displayed."),t&&n){if("function"===typeof n)return n;if("string"===typeof n)return function(){ni(n)}}return null}function Kh(e,t){if(!(e=e.a.get("tenants"))||!e.hasOwnProperty(t)&&!e.hasOwnProperty($h))throw Error("Invalid tenant configuration!")}function Wh(e,t,n){if(!(e=e.a.get("tenants")))throw Error("Invalid tenant configuration!");var r=[];if(!(e=e[t]||e[$h]))return Gi("Invalid tenant configuration: "+t+" is not configured!",void 0),r;if(!(t=e.signInOptions))throw Error("Invalid tenant configuration: signInOptions are invalid!");return t.forEach((function(e){if("string"===typeof e)r.push(e);else if("string"===typeof e.provider){var t=e.hd;t&&n?(t instanceof RegExp?t:new RegExp("@"+t.replace(".","\\.")+"$")).test(n)&&r.push(e.provider):r.push(e.provider)}else Gi(e="Invalid tenant configuration: signInOption "+JSON.stringify(e)+" is invalid!",void 0)})),r}function Qh(e,t,n){return e=function(e,t){var n=Yh,r=void 0===r?{}:r;return Kh(e,t),e=e.a.get("tenants"),function(e,t,n){return n=void 0===n?{}:n,Object.keys(e).filter((function(e){return t.includes(e)})).reduce((function(t,n){return t[n]=e[n],t}),n)}(e[t]||e[$h],n,r)}(e,t),(t=e.signInOptions)&&n&&(t=t.filter((function(e){return"string"===typeof e?n.includes(e):n.includes(e.provider)})),e.signInOptions=t),e}(e=ph.prototype).nb=function(){return Lh(this),!!ta(Sh(this))||kh(ii())},e.start=function(e,t){Th(this,e,t)},e.Db=function(){Lh(this),this.Z=!0},e.reset=function(){Lh(this);var e=this;this.T&&this.T.removeAttribute("lang"),this.J&&yr(this.J),Ph(this),this.O=null,Mh(),Ys(Hs,Sh(this)),Lh(this),this.l.cancel(),this.i=zr({user:null,credential:null}),wh==this&&(wh=null),this.T=null;for(var t=0;t<this.s.length;t++)"function"==typeof this.s[t]?this.s[t]():this.s[t].cancel&&this.s[t].cancel();this.s=[],Zs(Sh(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=Uh(this).then((function(){e.C=null}),(function(){e.C=null})))},e.ib=function(e){Lh(this);var t,n=this.ca;for(t in e)try{ia(n.a,t,e[t])}catch(r){Gi('Invalid config: "'+t+'"',void 0)}rt&&ia(n.a,"popupMode",!1),Ma(n),!this.da&&Ha(Oh(this))&&(Yi("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)},e.Wb=function(){Lh(this);var e=Oh(this),t=sa(e.a,"widgetUrl");e=Ua(e);for(var n,r=t.search(ye),i=0,s=[];0<=(n=ve(t,i,e,r));)s.push(t.substring(i,n)),i=Math.min(t.indexOf("&",n)+1||r,r);s.push(t.substr(i)),t=s.join("").replace(we,"$1"),(e+=r="="+encodeURIComponent("select"))?(0>(r=t.indexOf("#"))&&(r=t.length),0>(i=t.indexOf("?"))||i>r?(i=r,n=""):n=t.substring(i+1,r),r=(t=[t.substr(0,i),n,t.substr(r)])[1],t[1]=e?r?r+"&"+e:e:r,r=t[0]+(t[1]?"?"+t[1]:"")+t[2]):r=t,Oh(this).a.get("popupMode")?(r=r||"about:blank",(e={width:500,height:600,top:0<(e=(window.screen.availHeight-600)/2)?e:0,left:0<(t=(window.screen.availWidth-500)/2)?t:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1}).target=e.target||r.target||"google_popup",e.width=e.width||690,e.height=e.height||500,(e=ei(r,e))&&e.focus()):Ot(window.location,r)},e.Wa=function(){var e=this;return Lh(this),this.h.app.delete().then((function(){var t=vh(Sh(e));delete gh[t],e.reset(),e.$=!0}))},e.Ib=function(e,t){Lh(this);var n=this,r=function(){for(var e=32,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();if(!Ba(Oh(this)))return qr(Error("Email link sign-in should be enabled to trigger email sending."));var i=function(e){if(Ba(e)){var t={url:ii(),handleCodeInApp:!0};(e=Ca(e,Vk.auth.EmailAuthProvider.PROVIDER_ID))&&"function"===typeof e.emailLinkSignIn&&ce(t,e.emailLinkSignIn()),e=t.url;var n=ii();n instanceof _e||(n=ke(n)),e instanceof _e||(e=ke(e));var r=n;n=new _e(r);var i=!!e.j;i?Ie(n,e.j):i=!!e.A,i?n.A=e.A:i=!!e.h,i?n.h=e.h:i=null!=e.C;var s=e.g;if(i)Se(n,e.C);else if(i=!!e.g)if("/"!=s.charAt(0)&&(r.h&&!r.g?s="/"+s:-1!=(r=n.g.lastIndexOf("/"))&&(s=n.g.substr(0,r+1)+s)),".."==s||"."==s)s="";else if(-1!=s.indexOf("./")||-1!=s.indexOf("/.")){r=0==s.lastIndexOf("/",0),s=s.split("/");for(var a=[],o=0;o<s.length;){var c=s[o++];"."==c?r&&o==s.length&&a.push(""):".."==c?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),r&&o==s.length&&a.push("")):(a.push(c),r=!0)}s=a.join("/")}return i?n.g=s:i=""!==e.a.toString(),i?Ee(n,Fe(e.a)):i=!!e.s,i&&(n.s=e.s),t.url=n.toString(),t}return null}(Oh(this)),s=new Ve(i.url);return function(e,t){t?e.a.a.set(He.Sa,t):Me(e.a.a,He.Sa)}(s,r),t&&t.a&&(function(e,t,n){Js(Ws,ks(e,JSON.stringify(ns(t))),n)}(r,t,Sh(this)),ze(s,t.a.providerId)),function(e,t){null!==t?e.a.a.set(He.Qa,t?"1":"0"):Me(e.a.a,He.Qa)}(s,function(e){return!(!(e=Ca(e,Vk.auth.EmailAuthProvider.PROVIDER_ID))||!e.forceSameDevice)}(Oh(this))),xh(this,(function(t){return t&&((t=t.uid)?s.a.a.set(He.Pa,t):Me(s.a.a,He.Pa)),i.url=s.toString(),_h(n).sendSignInLinkToEmail(e,i)})).then((function(){var t=Sh(n),i={};i.email=e,Js(Ks,ks(r,JSON.stringify(i)),t)}),(function(e){throw Ys(Ws,Sh(n)),Ys(Ks,Sh(n)),e}))},e.bc=function(e,t){Lh(this);var n=this;return _h(this).signInWithEmailAndPassword(e,t).then((function(r){return xh(n,(function(i){return i?Uh(n).then((function(){return Fh(n,{code:"auth/email-already-in-use"},Vk.auth.EmailAuthProvider.credential(e,t))})):r}))}))},e.Yb=function(e,t){Lh(this);var n=this;return xh(this,(function(r){if(r){var i=Vk.auth.EmailAuthProvider.credential(e,t);return r.linkWithCredential(i)}return _h(n).createUserWithEmailAndPassword(e,t)}))},e.ac=function(e){Lh(this);var t=this;return xh(this,(function(n){return n?n.linkWithCredential(e).then((function(e){return e}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Fh(t,n,e)})):_h(t).signInWithCredential(e)}))},e.dc=function(e){Lh(this);var t=this,n=this.i;return this.i=null,xh(this,(function(n){return n&&!$s(Sh(t))?n.linkWithRedirect(e):_h(t).signInWithRedirect(e)})).then((function(){}),(function(e){throw t.i=n,e}))},e.cc=function(e,t){Lh(this);var n=this;return xh(this,(function(r){return r?r.linkWithPhoneNumber(e,t).then((function(e){return new Ti(e,(function(e){if("auth/credential-already-in-use"==e.code)return Fh(n,e);throw e}))})):Ih(n).signInWithPhoneNumber(e,t).then((function(e){return new Ti(e)}))}))},e.$b=function(){return Lh(this),Ih(this).signInAnonymously()},e.Xb=function(e,t){return Lh(this),_h(this).signInWithEmailAndPassword(e,t)},o(jh,Oc),jh.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),Au(this.l(),(this.l().value||"").length),Oc.prototype.v.call(this)},jh.prototype.o=function(){this.i=null,Oc.prototype.o.call(this)},N(jh.prototype,{l:Pl,H:Dl,u:Ol,B:Ll,j:Ml,M:Sl,w:kl}),o(Vh,Oc),Vh.prototype.v=function(){!function(e,t){function n(e){t(e)}for(var r=e.g?Ft("firebaseui-id-tenant-selection-button",e.g||e.s.a):[],i=0;i<r.length;i++){var s=r[i];tc(e,s,x(n,$u(s,"tenantId")))}}(this,this.i),Oc.prototype.v.call(this)},Vh.prototype.o=function(){this.i=null,Oc.prototype.o.call(this)},o(Bh,Oc);var Yh=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],Jh="optionFirst",Xh={pc:Jh,oc:"identifierFirst"},$h="*";function Zh(e,t){var n=this;this.s=ri(e),this.a={},Object.keys(t).forEach((function(e){n.a[e]=new zh(t[e])})),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(e){this.ob=e||null},enumerable:!1})}function ed(e){e.j&&e.j.reset(),e.mb(),e.g&&e.g.m()}(e=Zh.prototype).Ub=function(e,t){var n=this;ed(this);var r=e.apiKey;return new Lr((function(e,i){if(n.a.hasOwnProperty(r)){var s=qh(n.a[r]).selectTenantUiHidden||null;if(function(e){for(var t in e=e.a.get("displayMode"),Xh)if(Xh[t]===e)return Xh[t];return Jh}(n.a[r])===Jh){var a=[];t.forEach((function(e){e=e||"_";var t=n.a[r].a.get("tenants");if(!t)throw Error("Invalid tenant configuration!");(t=t[e]||t[$h])?e={tenantId:"_"!==e?e:null,V:t.fullLabel||null,displayName:t.displayName,za:t.iconUrl,ta:t.buttonColor}:(Gi("Invalid tenant configuration: "+e+" is not configured!",void 0),e=null),e&&a.push(e)}));var o=function(t){t={tenantId:t,providerIds:Wh(n.a[r],t||"_")},e(t)};if(1===a.length)return void o(a[0].tenantId);n.g=new Vh((function(e){ed(n),s&&s(),o(e)}),a,Hh(n.a[r]),Gh(n.a[r]))}else n.g=new jh((function(){var i=n.g.j();if(i){for(var a=0;a<t.length;a++){var o=Wh(n.a[r],t[a]||"_",i);if(0!==o.length)return i={tenantId:t[a],providerIds:o,email:i},ed(n),s&&s(),void e(i)}n.g.a(Nn({code:"no-matching-tenant-for-email"}).toString())}}),Hh(n.a[r]),Gh(n.a[r]));n.g.render(n.s),(i=qh(n.a[r]).selectTenantUiShown||null)&&i()}else{var c=Error("Invalid project configuration: API key is invalid!");c.code="invalid-configuration",n.pb(c),i(c)}}))},e.Pb=function(e,t){if(!this.a.hasOwnProperty(e))throw Error("Invalid project configuration: API key is invalid!");var n=t||void 0;Kh(this.a[e],t||"_");try{this.i=Vk.app(n).auth()}catch(i){var r=this.a[e].a.get("authDomain");if(!r)throw Error("Invalid project configuration: authDomain is required!");(e=Vk.initializeApp({apiKey:e,authDomain:r},n)).auth().tenantId=t,this.i=e.auth()}return this.i},e.Zb=function(e,t){var n=this;return new Lr((function(r,i){function s(t,r){n.j=new ph(e),Th(n.j,n.s,t,r)}var a=e.app.options.apiKey;n.a.hasOwnProperty(a)||i(Error("Invalid project configuration: API key is invalid!"));var o=Qh(n.a[a],e.tenantId||"_",t&&t.providerIds);ed(n),i={signInSuccessWithAuthResult:function(e){return r(e),!1}};var c,l=qh(n.a[a]).signInUiShown||null,u=!1;i.uiChanged=function(t,r){null===t&&"callback"===r?((t=jt("firebaseui-id-page-callback",n.s))&&nc(t),n.h=new Bh,n.h.render(n.s)):u||null===t&&"spinner"===r||"blank"===r||(n.h&&(n.h.m(),n.h=null),u=!0,l&&l(e.tenantId))},o.callbacks=i,o.credentialHelper="none",t&&t.email&&(c={emailHint:t.email}),n.j?n.j.Wa().then((function(){s(o,c)})):s(o,c)}))},e.reset=function(){var e=this;return zr().then((function(){e.j&&e.j.Wa()})).then((function(){e.j=null,ed(e)}))},e.Vb=function(){var e=this;this.h||this.A||(this.A=window.setTimeout((function(){ed(e),e.h=new Bh,e.g=e.h,e.h.render(e.s),e.A=null}),500))},e.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},e.Bb=function(){return ed(this),this.g=new Gl,this.g.render(this.s),zr()},e.pb=function(e){var t,n=this,r=Nn({code:e.code}).toString()||e.message;ed(this),e.retry&&"function"===typeof e.retry&&(t=function(){n.reset(),e.retry()}),this.g=new Yl(r,t),this.g.render(this.s)},e.Rb=function(e){var t=this;return zr().then((function(){var n=t.i&&t.i.app.options.apiKey;if(!t.a.hasOwnProperty(n))throw Error("Invalid project configuration: API key is invalid!");if(Kh(t.a[n],e.tenantId||"_"),!t.i.currentUser||t.i.currentUser.uid!==e.uid)throw Error("The user being processed does not match the signed in user!");return(n=qh(t.a[n]).beforeSignInSuccess||null)?n(e):e})).then((function(t){if(t.uid!==e.uid)throw Error("User with mismatching UID returned.");return t}))},P("firebaseui.auth.FirebaseUiHandler",Zh),P("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",Zh.prototype.Ub),P("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",Zh.prototype.Pb),P("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",Zh.prototype.Zb),P("firebaseui.auth.FirebaseUiHandler.prototype.reset",Zh.prototype.reset),P("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",Zh.prototype.Vb),P("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",Zh.prototype.mb),P("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",Zh.prototype.Bb),P("firebaseui.auth.FirebaseUiHandler.prototype.handleError",Zh.prototype.pb),P("firebaseui.auth.FirebaseUiHandler.prototype.processUser",Zh.prototype.Rb),P("firebaseui.auth.AuthUI",ph),P("firebaseui.auth.AuthUI.getInstance",(function(e){return e=vh(e),gh[e]?gh[e]:null})),P("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",ph.prototype.Db),P("firebaseui.auth.AuthUI.prototype.start",ph.prototype.start),P("firebaseui.auth.AuthUI.prototype.setConfig",ph.prototype.ib),P("firebaseui.auth.AuthUI.prototype.signIn",ph.prototype.Wb),P("firebaseui.auth.AuthUI.prototype.reset",ph.prototype.reset),P("firebaseui.auth.AuthUI.prototype.delete",ph.prototype.Wa),P("firebaseui.auth.AuthUI.prototype.isPendingRedirect",ph.prototype.nb),P("firebaseui.auth.AuthUIError",Rn),P("firebaseui.auth.AuthUIError.prototype.toJSON",Rn.prototype.toJSON),P("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",$a),P("firebaseui.auth.CredentialHelper.NONE",Za),P("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Lr.prototype.catch=Lr.prototype.Ca,Lr.prototype.finally=Lr.prototype.fc}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:window)}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:window),"undefined"!==typeof window&&(window.dialogPolyfill=yC());firebaseui.auth;function bC(){const{auth:e}=(0,i.useContext)($C),[t,n]=(0,i.useState)(window.innerWidth<530);return(0,SS.jsx)("div",{className:"login",children:(0,SS.jsxs)("div",{className:"login__container",children:[!t&&["bird2.jpeg","birds.jpeg","cat.jpeg","dog.jpeg","pexels.jpeg","sova.jpeg","tiger.jpeg"].map((e=>(0,SS.jsx)("img",{src:e,alt:e},e))),(0,SS.jsxs)("div",{children:[(0,SS.jsx)("h1",{children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441"}),(0,SS.jsx)("h2",{children:"\u0449\u043e\u0431 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0434\u043e\u0434\u0430\u0442\u043e\u043a"})]}),(0,SS.jsx)("button",{onClick:async()=>{const t=new Vk.auth.GoogleAuthProvider,{user:n}=await e.signInWithPopup(t)},className:"button",children:"\u0423\u0432\u0456\u0439\u0442\u0438 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e Google"})]})})}function wC(e){return Ik({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 16c0 1.103.897 2 2 2h3.586L12 21.414 15.414 18H19c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2H5c-1.103 0-2 .897-2 2v12zM5 4h14v12h-4.414L12 18.586 9.414 16H5V4z"}},{tag:"path",attr:{d:"M11 14h2v-3h3V9h-3V6h-2v3H8v2h3z"}}]})(e)}function _C(e){return Ik({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Login"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M20.944,18.432a2.577,2.577,0,0,1-2.729,2.5c-2.153.012-4.307,0-6.46,0a.5.5,0,0,1,0-1c2.2,0,4.4.032,6.6,0,1.107-.016,1.589-.848,1.589-1.838V5.63a1.545,1.545,0,0,0-.969-1.471,3.027,3.027,0,0,0-1.061-.095H11.755a.5.5,0,0,1,0-1c2.225,0,4.465-.085,6.688,0a2.566,2.566,0,0,1,2.5,2.67Z"}},{tag:"path",attr:{d:"M15.794,12.354a.459.459,0,0,0,.138-.312A.3.3,0,0,0,15.938,12a.29.29,0,0,0-.006-.041.455.455,0,0,0-.138-.313L12.125,7.978a.5.5,0,0,0-.707.707L14.234,11.5H3.492a.5.5,0,0,0,0,1H14.234l-2.816,2.815a.5.5,0,0,0,.707.707Z"}}]}]}]})(e)}function IC(e){let{productsArr:t,handleRemoveFromCart:n,handleClose:r,setShowBasket:s}=e;const a=te();(0,i.useEffect)((()=>(document.addEventListener("click",o),()=>{document.removeEventListener("click",o)})),[]);const o=e=>{e.target.closest(".header")||s(!1)};return(0,SS.jsxs)("div",{className:"basket",onClick:e=>{e.stopPropagation()},children:[(0,SS.jsx)(Ok,{className:"basket__icon",onClick:e=>r(e)}),(0,SS.jsxs)("h1",{className:"basket__title-h1",children:["\u041a\u043e\u0440\u0437\u0438\u043d\u0430 ",0===t.length&&"\u043f\u0443\u0441\u0442\u0430"]}),t.map((e=>(0,SS.jsxs)("div",{className:"basket__product",onClick:t=>((e,t)=>{r(e),a("product/".concat(encodeURIComponent(t.product.title)),{state:{product:t}})})(t,e),children:[(0,SS.jsx)("div",{className:"basket__title",children:e.product.title}),(0,SS.jsxs)("div",{className:"basket__price",children:[e.product.price," \u0433\u0440\u043d."]}),(0,SS.jsx)("img",{className:"basket__img",src:e.product.photos[0],alt:"\u0424\u043e\u0442\u043e"}),(0,SS.jsx)("button",{className:"button basket__delete",type:"button",onClick:t=>n(t,e.id),children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"})]},e.id)))]})}function SC(){const[e,t]=(0,i.useState)(!1),{auth:n}=(0,i.useContext)($C),[r]=co(n),[s,a]=(0,i.useState)([]),{firestore:o}=(0,i.useContext)($C),[c,l]=(0,i.useState)(!1),[u,h]=(0,i.useState)(!1);(0,i.useEffect)((()=>{(async()=>{try{const t=await o.collection("carts").doc(r.uid).get();if(t.exists){const e=t.data().products,n=await Promise.all(e.map((async e=>{const t=await o.collection("products").doc(e).get();return t.exists?{id:t.id,...t.data()}:(l(!0),null)})));a(n)}else e&&l(!0)}catch(c){e&&l(!0)}})()}),[c,o,e]);return(0,SS.jsx)(SS.Fragment,{children:(0,SS.jsx)("header",{className:"header",children:(0,SS.jsxs)("div",{className:"header__content",children:[(0,SS.jsx)(Ae,{to:"/",className:"header__functional_item header__functional_logo",onClick:()=>h(!1),children:(0,SS.jsx)("div",{className:"header__logo",children:"OLMX"})}),(0,SS.jsxs)("div",{className:"header__functional ".concat(u?"header__functional_show":"header__functional"),children:[(0,SS.jsxs)(Re,{to:Me,className:"header__functional_item",onClick:()=>h(!1),children:[(0,SS.jsx)(zk,{className:"header__icon"}),(0,SS.jsx)("span",{children:"\u041f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f"})]}),(0,SS.jsxs)("div",{className:"header__functional_item relative",onClick:()=>{t(!e)},children:[(0,SS.jsx)(Bk,{className:"header__icon"}),(0,SS.jsx)("span",{children:"\u041a\u043e\u0440\u0438\u0437\u043d\u0430"}),e&&(0,SS.jsx)(IC,{setShowBasket:t,handleClose:e=>{e.stopPropagation(),t(!1)},productsArr:s,handleRemoveFromCart:async(e,t)=>{e.stopPropagation();try{await o.collection("carts").doc(r.uid).update({products:Vk.firestore.FieldValue.arrayRemove(t)});const e=(await o.collection("carts").doc(r.uid).get()).data(),n=await Promise.all(e.products.map((async e=>{const t=await o.collection("products").doc(e).get();return{id:t.id,...t.data()}})));a(n)}catch(c){l(!0)}}})]}),(0,SS.jsxs)(Re,{to:je,className:"header__functional_item",onClick:()=>h(!1),children:[(0,SS.jsx)(kk,{className:"header__icon"}),(0,SS.jsx)("span",{children:"\u0412\u0430\u0448 \u043f\u0440\u043e\u0444\u0456\u043b\u044c"})]}),(0,SS.jsxs)(Re,{to:Fe,className:"header__functional_item",onClick:()=>h(!1),children:[(0,SS.jsx)(wC,{className:"header__icon"}),(0,SS.jsx)("span",{children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043e\u0433\u043e\u043b\u043e\u0448\u0435\u043d\u043d\u044f"})]}),r?(0,SS.jsxs)("div",{className:"header__functional_item",onClick:()=>h(!1),children:[(0,SS.jsx)(_C,{className:"header__icon"}),(0,SS.jsx)("span",{onClick:()=>n.signOut(),children:"\u0412\u0438\u0439\u0442\u0438"})]}):(0,SS.jsxs)(Re,{to:Le,className:"header__functional_item",children:[(0,SS.jsx)(_C,{className:"header__icon"}),(0,SS.jsx)("span",{children:"\u041b\u043e\u0433\u0438\u043d"})]})]}),(0,SS.jsx)("div",{className:"header__burgerMenu",onClick:()=>h(!u),children:(0,SS.jsx)("svg",{id:"hamburger",className:"header__toggle-svg ".concat(u?"svg-hover":""),viewBox:"0 0 60 40",width:"40",height:"40",children:(0,SS.jsxs)("g",{stroke:"#fff",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,SS.jsx)("path",{id:"top-line",d:"M10,10 L50,10 Z"}),(0,SS.jsx)("path",{id:"middle-line",d:"M10,20 L50,20 Z"}),(0,SS.jsx)("path",{id:"bottom-line",d:"M10,30 L50,30 Z"})]})})})]})})})}function EC(){return(0,SS.jsxs)(SS.Fragment,{children:[(0,SS.jsx)(SC,{}),(0,SS.jsx)("div",{className:"loyout",children:(0,SS.jsx)(ge,{})})]})}function kC(){const{auth:e}=(0,i.useContext)($C),[t]=co(e);return(0,SS.jsx)(be,{children:t?(0,SS.jsxs)(ve,{path:"/",element:(0,SS.jsx)(EC,{}),children:[xT.map((e=>{let{path:t,Component:n}=e;return(0,SS.jsx)(ve,{path:t,element:(0,SS.jsx)(n,{}),exact:!0},t)})),(0,SS.jsx)(ve,{path:"*",element:(0,SS.jsx)(me,{to:Ve})}),(0,SS.jsx)(ve,{index:!0,element:(0,SS.jsx)(TT,{})})]}):(0,SS.jsxs)(SS.Fragment,{children:[(0,SS.jsxs)(ve,{path:"/",element:(0,SS.jsx)(EC,{}),children:[CT.map((e=>{let{path:t,Component:n}=e;return(0,SS.jsx)(ve,{path:t,element:(0,SS.jsx)(n,{}),exact:!0},t)})),(0,SS.jsx)(ve,{path:"*",element:(0,SS.jsx)(me,{to:Le})}),(0,SS.jsx)(ve,{index:!0,element:(0,SS.jsx)(TT,{})})]}),(0,SS.jsx)(ve,{path:Le,element:(0,SS.jsx)(bC,{})})]})})}const TC=function(){const{auth:e}=(0,i.useContext)($C),[t]=co(e);return(0,SS.jsx)("div",{className:"App",children:(0,SS.jsx)(Ce,{children:(0,SS.jsx)(kC,{})})})};function CC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Bh("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function xC(){if("undefined"===typeof Uint8Array)throw new Bh("unimplemented","Uint8Arrays are not available in this environment.")}function NC(){if("undefined"==typeof atob)throw new Bh("unimplemented","Blobs are unavailable in Firestore in this environment.")}class AC{constructor(e){this._delegate=e}static fromBase64String(e){return NC(),new AC(sI.fromBase64String(e))}static fromUint8Array(e){return xC(),new AC(sI.fromUint8Array(e))}toBase64(){return NC(),this._delegate.toBase64()}toUint8Array(){return xC(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function RC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class PC{enableIndexedDbPersistence(e,t){return function(e,t){iI(e=L_(e,J_));const n=X_(e);if(n._uninitializedComponentsProvider)throw new Bh(Vh.FAILED_PRECONDITION,"SDK cache is already specified.");Lh("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new o_;return Z_(n,i,new s_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){iI(e=L_(e,J_));const t=X_(e);if(t._uninitializedComponentsProvider)throw new Bh(Vh.FAILED_PRECONDITION,"SDK cache is already specified.");Lh("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new o_;return Z_(t,r,new a_(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Bh(Vh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new zh;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Sd.D())return Promise.resolve();const t=e+"main";await Sd.delete(t)}(Uy(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class DC{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Df||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Lh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};j_(this._delegate,e,t,n)}enableNetwork(){return tI(this._delegate)}disableNetwork(){return nI(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,R_("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return eI(this._delegate)}onSnapshotsInSync(e){return pS(this._delegate,e)}get app(){if(!this._appCompat)throw new Bh("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new WC(this,q_(this._delegate,e))}catch(t){throw jC(t,"collection()","Firestore.collection()")}}doc(e){try{return new FC(this,H_(this._delegate,e))}catch(t){throw jC(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new HC(this,function(e,t){if(e=L_(e,F_),A_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Bh(Vh.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new V_(e,null,function(e){return new Mp(sd.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw jC(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=L_(e,J_);const r=Object.assign(Object.assign({},vS),n);return function(e){if(e.maxAttempts<1)throw new Bh(Vh.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new zh;return e.asyncQueue.enqueueAndForget((async()=>{const i=await S_(e);new d_(e.asyncQueue,i,n,t,r).Ya()})),r.promise}(X_(e),(n=>t(new wS(e,n))),r)}(this._delegate,(t=>e(new LC(this,t))))}batch(){return X_(this._delegate),new MC(new yS(this._delegate,(e=>mS(this._delegate,e))))}loadBundle(e){return function(e,t){const n=X_(e=L_(e,J_)),r=new Y_;return C_(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return rI(this._delegate,e).then((e=>e?new HC(this,e):null))}}class OC extends $I{constructor(e){super(),this.firestore=e}convertBytes(e){return new AC(new sI(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return FC.forKey(t,this.firestore,null)}}class LC{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new OC(e)}get(e){const t=QC(e);return this._delegate.get(t).then((e=>new zC(this._firestore,new nS(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=QC(e);return n?(CC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const a=QC(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=QC(e);return this._delegate.delete(t),this}}class MC{constructor(e){this._delegate=e}set(e,t,n){const r=QC(e);return n?(CC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const a=QC(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=QC(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class UC{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new rS(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new qC(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=UC.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new UC(e,new OC(e),t),r.set(t,i)),i}}UC.INSTANCES=new WeakMap;class FC{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new OC(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Bh("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new FC(t,new B_(t._delegate,n,new cd(e)))}static forKey(e,t,n){return new FC(t,new B_(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new WC(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new WC(this.firestore,q_(this._delegate,e))}catch(t){throw jC(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=bt(e))instanceof B_&&G_(this._delegate,e)}set(e,t){t=CC("DocumentReference.set",t);try{return t?hS(this._delegate,e,t):hS(this._delegate,e)}catch(n){throw jC(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?dS(this._delegate,e):dS(this._delegate,e,t,...r)}catch(s){throw jC(s,"updateDoc()","DocumentReference.update()")}}delete(){return mS(L_((e=this._delegate).firestore,J_),[new qm(e._key,Am.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=VC(t),i=BC(t,(e=>new zC(this.firestore,new nS(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return fS(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?lS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=L_(e,B_);const t=L_(e.firestore,J_);return k_(X_(t),e._key,{source:"server"}).then((n=>gS(t,e,n)))}(this._delegate):oS(this._delegate),t.then((e=>new zC(this.firestore,new nS(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new FC(this.firestore,e?this._delegate.withConverter(UC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function jC(e,t,n){return e.message=e.message.replace(t,n),e}function VC(e){for(const t of e)if("object"===typeof t&&!RC(t))return t;return{}}function BC(e,t){var n,r;let i;return i=RC(e[0])?e[0]:RC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class zC{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new FC(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return aS(this._delegate,e._delegate)}}class qC extends zC{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Uh(),t}}class HC{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new OC(e)}where(e,t,n){try{return new HC(this.firestore,BI(this._delegate,function(e,t,n){const r=t,i=UI("where",e);return zI._create(i,r,n)}(e,t,n)))}catch(r){throw jC(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new HC(this.firestore,BI(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=UI("orderBy",e);return HI._create(n,t)}(e,t)))}catch(n){throw jC(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new HC(this.firestore,BI(this._delegate,(M_("limit",t=e),GI._create("limit",t,"F"))))}catch(t){throw jC(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new HC(this.firestore,BI(this._delegate,(M_("limitToLast",t=e),GI._create("limitToLast",t,"L"))))}catch(t){throw jC(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new HC(this.firestore,BI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return KI._create("startAt",t,!0)}(...arguments)))}catch(e){throw jC(e,"startAt()","Query.startAt()")}}startAfter(){try{return new HC(this.firestore,BI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return KI._create("startAfter",t,!1)}(...arguments)))}catch(e){throw jC(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new HC(this.firestore,BI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return WI._create("endBefore",t,!1)}(...arguments)))}catch(e){throw jC(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new HC(this.firestore,BI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return WI._create("endAt",t,!0)}(...arguments)))}catch(e){throw jC(e,"endAt()","Query.endAt()")}}isEqual(e){return K_(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?uS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=L_(e,V_);const t=L_(e.firestore,J_),n=X_(t),r=new cS(t);return T_(n,e._query,{source:"server"}).then((n=>new iS(t,r,e,n)))}(this._delegate):function(e){e=L_(e,V_);const t=L_(e.firestore,J_),n=X_(t),r=new cS(t);return FI(e._query),T_(n,e._query).then((n=>new iS(t,r,e,n)))}(this._delegate),t.then((e=>new KC(this.firestore,new iS(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=VC(t),i=BC(t,(e=>new KC(this.firestore,new iS(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return fS(this._delegate,r,i)}withConverter(e){return new HC(this.firestore,e?this._delegate.withConverter(UC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class GC{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new qC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class KC{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new HC(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new qC(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new GC(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new qC(this._firestore,n))}))}isEqual(e){return aS(this._delegate,e._delegate)}}class WC extends HC{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new FC(this.firestore,e):null}doc(e){try{return new FC(this.firestore,void 0===e?H_(this._delegate):H_(this._delegate,e))}catch(t){throw jC(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=L_(e.firestore,J_),r=H_(e),i=ZI(e.converter,t);return mS(n,[gI(mI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Am.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new FC(this.firestore,e)))}isEqual(e){return G_(this._delegate,e._delegate)}withConverter(e){return new WC(this.firestore,e?this._delegate.withConverter(UC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function QC(e){return L_(e,B_)}class YC{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new aI(...t)}static documentId(){return new YC(od.keyField().canonicalString())}isEqual(e){return(e=bt(e))instanceof aI&&this._delegate._internalPath.isEqual(e._internalPath)}}class JC{constructor(e){this._delegate=e}static serverTimestamp(){const e=_S();return e._methodName="FieldValue.serverTimestamp",new JC(e)}static delete(){const e=new vI("deleteField");return e._methodName="FieldValue.delete",new JC(e)}static arrayUnion(){const e=IS(...arguments);return e._methodName="FieldValue.arrayUnion",new JC(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _I("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new JC(e)}static increment(e){const t=new II("increment",e);return t._methodName="FieldValue.increment",new JC(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const XC={Firestore:DC,GeoPoint:cI,Timestamp:nd,Blob:AC,Transaction:LC,WriteBatch:MC,DocumentReference:FC,DocumentSnapshot:zC,Query:HC,QueryDocumentSnapshot:qC,QuerySnapshot:KC,CollectionReference:WC,FieldPath:YC,FieldValue:JC,setLogLevel:function(e){var t;t=e,Rh.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new wt("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},XC)))}(e,((e,t)=>new DC(e,t,new PC))),e.registerVersion("@firebase/firestore-compat","0.3.28")}(Vk),Vk.initializeApp({apiKey:"AIzaSyBIXPOEZrN_FzFqfT_AnoEhlzk_4LVCiMo",authDomain:"shopchik-3c85d.firebaseapp.com",projectId:"shopchik-3c85d",storageBucket:"shopchik-3c85d.appspot.com",messagingSenderId:"789231623692",appId:"1:789231623692:web:16b94872b79d0920ce9829",measurementId:"G-7RV0JVBQJ2"});const $C=(0,i.createContext)(null),ZC=Vk.auth(),ex=Vk.firestore(),tx=Vk.storage(),nx=function(e,t){const n="string"==typeof e?e:t||"(default)",r=on("object"==typeof e?e:yn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Ye("firestore");e&&j_(r,...e)}return r}();a.createRoot(document.getElementById("root")).render((0,SS.jsx)($C.Provider,{value:{firebase:Vk,auth:ZC,firestore:ex,storage:tx,db:nx},children:(0,SS.jsx)(TC,{})}))})()})();
//# sourceMappingURL=main.f45df239.js.map